(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(12)),a=p(n(4)),r=p(n(8)),i=p(n(5)),l=p(n(6)),c=n(1),s=p(c),d=n(17);function p(e){return e&&e.__esModule?e:{default:e}}n(1303);var u=function(e){function t(e){(0,a.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.toogleSideBox=function(){n.setState({flag:!n.state.flag},(function(){return n.props.onChange(n.state.flag)}))},n.state={flag:!1,title:(0,d.langCheck)("OwnLog-000011","pages",e.langJson),showHeader:!0,showFooter:!1,bodyInnerHTML:(0,d.langCheck)("OwnLog-000012","pages",e.langJson)},n}return(0,l.default)(t,e),(0,r.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({flag:e.flag})}},{key:"render",value:function(){var e=this.props,t=e.headerInnerHTML,n=e.footerInnerHTML,o=e.record,a=this.state,r=a.flag,i=a.showHeader,l=a.showFooter,c=a.title,p=[];return r&&o&&o.logmsg&&o.logmsg.value&&(p=o.logmsg.value.split("^^")),s.default.createElement("div",{className:r?"side-box side-box-show":"side-box side-box-hide"},s.default.createElement("div",{className:r?"side-box-content content-show":"side-box-content content-hide"},i&&s.default.createElement("header",{className:"header"},s.default.createElement("span",{className:"title"},c),t,s.default.createElement("a",{href:"javaScript:void(0)",onClick:this.toogleSideBox},(0,d.langCheck)("OwnLog-000012","pages",this.props.langJson))),s.default.createElement("div",{className:"body"},r&&p.length>0&&s.default.createElement("div",null,p.map((function(e,t){return s.default.createElement("p",{key:t,style:{marginBottom:"10px"}},e)})))),l&&s.default.createElement("footer",{className:"footer"},n)))}}]),t}(c.Component);t.default=u},1303:function(e,t,n){var o=n(1304);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,a);o.locals&&(e.exports=o.locals)},1304:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".side-box{position:fixed;width:40%;height:80%;background-color:rgba(0,0,0,.2);border-radius:2px;top:0;right:0}.side-box.side-box-hide{display:none;z-index:-5;opacity:0;-webkit-transition-delay:.3s;transition-delay:.3s}.side-box.side-box-show{opacity:1;z-index:300}.side-box .side-box-content{width:100%;height:100%;background-color:#fff;border:1px solid #ccc;-webkit-transition:right .5s;transition:right .5s;position:relative}.side-box .side-box-content.content-show{-webkit-transition-delay:.1s;transition-delay:.1s}.side-box .side-box-content.content-hide{right:-100%}.side-box .side-box-content footer,.side-box .side-box-content header{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:0 20px;height:50px;color:#666;font-size:13px;font-weight:700;-webkit-box-pack:justify;justify-content:space-between}.side-box .side-box-content header{border-bottom:1px solid #ccc}.side-box .side-box-content footer{border-top:1px solid #ccc;position:absolute;bottom:0;width:100%}.side-box .side-box-content footer a{margin-right:0;margin-left:auto}.side-box .side-box-content .uf{color:#d9d9d9;font-size:16px;float:right;cursor:pointer;margin-right:0;margin-left:auto}.side-box .side-box-content .uf:hover{color:#666}.side-box .side-box-content .body{margin:20px;height:calc(100% - 140px);overflow:auto}",""])},1305:function(e,t,n){var o=n(1306);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,a);o.locals&&(e.exports=o.locals)},1306:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".workbench-ownlog-log{height:calc(100vh - 100px);background:#fff;width:100%}.workbench-ownlog-log .log-search-area{margin:0 0 10px;padding-left:20px;border-top:1px solid #d9d9d9;padding-top:5px}.workbench-ownlog-log .header{padding:0 20px;-webkit-box-flex:0;flex:0 0 54px;-webkit-box-pack:justify;justify-content:space-between}.workbench-ownlog-log .header,.workbench-ownlog-log .header .header-left{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.workbench-ownlog-log .header .header-left .iconfont{margin-right:6px;border-radius:50%;font-size:16px;padding:4px;font-weight:400;cursor:pointer}.workbench-ownlog-log .header .header-left .iconfont:hover{background:#e8e8e8}.workbench-ownlog-log .header .header-left div{margin-bottom:0;font-weight:400;font-size:16px;font-weight:700}.workbench-ownlog-log .content .u-tabs-bar{margin-bottom:0!important;border-bottom:none!important}",""])},890:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=x(n(203)),a=x(n(3)),r=x(n(12)),i=x(n(4)),l=x(n(8)),c=x(n(5)),s=x(n(6)),d=n(1),p=x(d),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(874)),g=n(895),h=x(n(1302)),f=x(n(26)),b=n(17),w=n(196);n(1305);var k=x(n(58)),m=n(29);function x(e){return e&&e.__esModule?e:{default:e}}var y=u.createPage,v=u.base,L=u.print,C=v.NCButton,_=v.NCTabs,P=v.NCDiv,O=_.NCTabPane,E={},N={"10220PLOG_enterlog":"enterlog","10220PLOG_operatelog":"operatelog","10220PLOG_busilog":"busilog"},M=function(e){function t(e){(0,i.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.componentWillMount=function(){(0,w.getMulti)({moduleId:"OwnLog",domainName:"workbench",callback:function(e){n.setState({langJson:e})}})},n.getData=function(){var e=n.state.key;(0,n.props.createUIDom)({appcode:"10220PLOGG",pagecode:e},n.callbackFun)},n.callbackFun=function(e){if(e){if(e.template){var t=e.template;t=n.modifier(t,n.props,n),n.props.meta.setMeta(t)}if(e.button){var o=e.button;n.props.button.setButtons(o)}}"10220PLOG_passwordlog"==n.state.key&&n.searchBtnClick()},n.modifier=function(e,t,o){var a=n.state,r=a.key,i=a.langJson,l={label:(0,b.langCheck)("OwnLog-000000","pages",i),attrcode:"opr",itemtype:"customer",width:"50px",visible:!0,render:function(e,t,n){return p.default.createElement("div",null,p.default.createElement("a",{className:"opr-col",onClick:o.watchDetails.bind(this,t)},(0,b.langCheck)("OwnLog-000009","pages",i)))}},c={label:(0,b.langCheck)("OwnLog-000001","pages",i),attrcode:"numberindex",itemtype:"customer",width:"50px",visible:!0,render:function(e,t,n){return p.default.createElement("div",null,n+1)}};return"10220PLOG_busilog"==r&&e.grid.items.push(l),e.grid.items.unshift(c),e.grid.pagination=!0,e},n.tabChange=function(e){n.props.table.setAllTableData("grid",{rows:[],pageInfo:{pageIndex:"0",pageSize:"10"}}),n.props.meta.setMeta(""),n.closeSlider(),n.setState({key:e,printBtnDisabled:!0},(function(){return n.getData()}))},n.searchBtnClick=function(e,t){var o=n.state,r=o.key,i=o.langJson,l=n.props,c=l.search,s=l.table,d=l.meta,p=s.setAllTableData,u=void 0,g=void 0;switch(r){case"10220PLOG_enterlog":g="/nccloud/platform/log/queryenterlog.do";break;case"10220PLOG_operatelog":g="/nccloud/platform/log/queryoperatelog.do";break;case"10220PLOG_busilog":g="/nccloud/platform/log/querybusilog.do";break;case"10220PLOG_passwordlog":g="/nccloud/platform/log/queryuserpasswordlog.do"}if(d.getMeta().search){var h=c.getQueryInfo("search");if(0==h.querycondition||null==h.querycondition)return}(u="10220PLOG_passwordlog"==r?{}:c.getQueryInfo("search")).pageInfo=s.getTablePageInfo("grid"),"pageChange"==e?u.pageInfo.pagepks=t:u.pageInfo.pageIndex=0,(0,f.default)({url:g,data:u,info:{name:(0,b.langCheck)("OwnLog-000013","pages",i),action:(0,b.langCheck)("OwnLog-000003","pages",i),appcode:"10220PLOGG"},success:function(e){var t=e.data;"10220PLOG_passwordlog"==n.state.key&&(d.getMeta().grid.pagination=!1),null!==t.data&&t.data.grid?(t.data.grid.rows&&t.data.grid.rows.length>0&&n.setState({printBtnDisabled:!1}),p("grid",t.data.grid),E=(0,a.default)({},r,t.data.grid.allpks),"10220PLOG_passwordlog"!==n.state.key&&(0,k.default)({status:"success",msg:""+(0,b.langCheck)("OwnLog-000014","pages",i)+t.data.grid.pageInfo.total+(0,b.langCheck)("OwnLog-000015","pages",i)})):(n.setState({printBtnDisabled:!0}),p("grid",{rows:[],pageInfo:{pageIndex:"0",pageSize:u.pageInfo.pageSize,total:"",totalPage:"1"}}),E=(0,a.default)({},r,[]),"10220PLOG_passwordlog"!==n.state.key&&(0,k.default)({status:"warning",msg:(0,b.langCheck)("OwnLog-000016","pages",i)}))}})},n.handlePageInfoChange=function(e,t,o){n.searchBtnClick("pageChange",o)},n.onPrint=function(){var e=n.state.key,t=void 0,a=void 0,r=void 0,i=n.props.table.getTablePageInfo("grid");if(!(0,o.default)(E)[0]!=e){switch(r=n.pickOidsFun(E[e],i),e){case"10220PLOG_enterlog":t="enterlog",a="/nccloud/platform/log/printenterlog.do";break;case"10220PLOG_operatelog":a="/nccloud/platform/log/printoperatelog.do",t="operatelog";break;case"10220PLOG_busilog":t="busilog",a="/nccloud/platform/log/printbusilog.do";break;case"10220PLOG_passwordlog":t="userpasswordlog",a="/nccloud/platform/log/printuserpasswordlog.do"}L("pdf",""+a,{funcode:"10220PLOGG",nodekey:t,appcode:"10220PLOGG",oids:r})}},n.pickOidsFun=function(e,t){if(t.pageSize>=e.length)return e;var n=t.pageIndex*t.pageSize,o=(Number(t.pageIndex)+1)*t.pageSize;return e=e.slice(n,o)},n.onAfterEvent=function(e,t){var o=n.props.meta.getMeta();"typepk_busiobj"==e&&(o.search.items.find((function(e){return"pk_operation"==e.attrcode})).queryCondition=function(){return{metaId:t.refpk}}),n.props.meta.setMeta(o)},n.watchDetails=function(e){n.setState({flag:!0,record:e})},n.onRowClick=function(e,t,o,a,r){n.setState({record:o})},n.closeSlider=function(){n.setState({flag:!1})},n.pageback=function(){n.props.history.push("/")},n.state={key:"10220PLOG_enterlog",flag:!1,record:null,printBtnDisabled:!0,langJson:{}},n}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.getData(),window["nc-lightapp-front"]=u}},{key:"render",value:function(){var e=this,t=this.state,n=t.key,o=t.flag,a=t.record,r=t.printBtnDisabled,i=t.langJson,l=this.props,c=l.search,s=l.table,d=c.NCCreateSearch,u=s.createSimpleTable;return p.default.createElement(g.PageLayout,{header:p.default.createElement(g.PageLayoutHeader,null,p.default.createElement("div",{className:"pageLayoutHeaderOwn"},p.default.createElement("i",{className:"iconfont icon-danjufanhui",onClick:this.pageback}),p.default.createElement(P,{fieldid:(0,b.langCheck)("OwnLog-000002","pages",i),areaCode:P.config.Title},(0,b.langCheck)("OwnLog-000002","pages",i))),p.default.createElement(C,{style:{fontSize:"14px"},disabled:r,onClick:this.onPrint,fieldid:"print"},(0,b.langCheck)("OwnLog-000004","pages",i)))},p.default.createElement("div",{className:"workbench-ownlog-log"},p.default.createElement("div",{className:"content"},p.default.createElement("div",{className:"tabs"},p.default.createElement(_,{navtype:"turn",contenttype:"moveleft",tabBarPosition:"top",defaultActiveKey:n,onChange:this.tabChange},p.default.createElement(O,{tab:(0,b.langCheck)("OwnLog-000005","pages",i),key:"10220PLOG_enterlog"}),p.default.createElement(O,{tab:(0,b.langCheck)("OwnLog-000006","pages",i),key:"10220PLOG_operatelog"}),p.default.createElement(O,{tab:(0,b.langCheck)("OwnLog-000007","pages",i),key:"10220PLOG_busilog"}),p.default.createElement(O,{tab:(0,b.langCheck)("OwnLog-000008","pages",i),key:"10220PLOG_passwordlog"}))),p.default.createElement("div",{className:"log-search-area"},d("search",{clickSearchBtn:this.searchBtnClick,showAdvBtn:!1,onAfterEvent:this.onAfterEvent,fieldid:N[n]})),p.default.createElement("div",null,u("grid",{onRowClick:this.onRowClick,handlePageInfoChange:this.handlePageInfoChange})))),p.default.createElement(h.default,{langJson:i,record:a,flag:o,onChange:function(t){e.setState({flag:t})}}))}}]),t}(d.Component),S=y({})(M);t.default=(0,m.connect)((function(e){return{}}),{})(S)},895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutRight=t.PageLayoutLeft=t.PageLayoutHeader=t.PageScrollLayout=t.PageLayout=void 0;var o,a,r,i,l,c,s,d,p,u,g=y(n(12)),h=y(n(4)),f=y(n(8)),b=y(n(5)),w=y(n(6)),k=n(1),m=y(k),x=y(n(0));function y(e){return e&&e.__esModule?e:{default:e}}n(896);var v=y(n(33)).default.base.NCDiv,L=!1,C=(a=o=function(e){function t(e){(0,h.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,g.default)(t)).call(this,e));return n.handleMouseUp=function(){L=!1},n.handleMouseMove=function(e){if(L){var t=e.clientX,n=document.querySelector("#layoutLeft"),o=n.getBoundingClientRect().left,a=parseInt(t-o)+3;a<200||(n.style.width=a+"px")}},n}return(0,w.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"nc-workbench-page"},this.props.header?this.props.header:null,m.default.createElement("div",{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+this.props.className},this.props.children))}}]),t}(k.Component),o.defaultProps={className:""},a),_=(i=r=function(e){function t(e){(0,h.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,g.default)(t)).call(this,e));return n.handleMouseUp=function(){L=!1},n.handleMouseMove=function(e){if(L){var t=e.clientX,n=document.querySelector("#layoutLeft"),o=n.getBoundingClientRect().left,a=parseInt(t-o)+3;a<200||(n.style.width=a+"px")}},n.handleScroll=function(e){var t=n.refs.ncWorkbenchPageScroll.getBoundingClientRect(),o=t.y;t.width;if(o==n.initScrollContainerTop&&n.setState({suck:!1}),o<n.initScrollContainerTop){if(n.state.suck)return;n.containerWidthChange(),n.setState({suck:!0})}},n.containerWidthChange=function(){var e=n.refs.ncWorkbenchPageOwnpage.getBoundingClientRect().width;document.getElementsByClassName("nc-workbench-page-header")[0].style.width=e+"px",document.getElementById("suckTableHeader")&&(document.getElementById("suckTableHeader").style.width=e+"px")},n.state={suck:!1},n.initScrollContainerTop,n}return(0,w.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.containerWidthChange);var e=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;this.initScrollContainerTop=e}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.containerWidthChange)}},{key:"render",value:function(){var e=this.state.suck;return m.default.createElement("div",{className:"nc-workbench-page-scroll",onScroll:this.handleScroll},m.default.createElement("div",{className:" nc-workbench-page "},m.default.createElement("div",{className:"nc-workbench-page-container "+(e?"nc-workbench-suck":""),ref:"ncWorkbenchPageScroll"},this.props.header?this.props.header:null,m.default.createElement("div",{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,ref:"ncWorkbenchPageOwnpage",className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+this.props.className},this.props.children))))}}]),t}(k.Component),r.defaultProps={className:""},i),P=(c=l=function(e){function t(e){(0,h.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,g.default)(t)).call(this,e));return n.handleMouseDown=function(){L=!0},n}return(0,w.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{id:"layoutLeft",className:"nc-workbench-ownpage-left "+this.props.className},m.default.createElement("span",{className:"layout-drag-block",onMouseDown:this.handleMouseDown}),this.props.children)}}]),t}(k.Component),l.defaultProps={className:""},c),O=(d=s=function(e){function t(e){return(0,h.default)(this,t),(0,b.default)(this,(t.__proto__||(0,g.default)(t)).call(this,e))}return(0,w.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return m.default.createElement(v,{areaCode:v.config.HEADER,className:"nc-workbench-page-header "+this.props.className},this.props.children)}}]),t}(k.Component),s.defaultProps={className:""},d),E=(u=p=function(e){function t(){return(0,h.default)(this,t),(0,b.default)(this,(t.__proto__||(0,g.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"nc-workbench-ownpage-right "+this.props.className},this.props.children)}}]),t}(k.Component),p.defaultProps={className:""},u);C.propTypes={children:x.default.any.isRequired},P.propTypes={children:x.default.any.isRequired},E.propTypes={children:x.default.any.isRequired},t.PageLayout=C,t.PageScrollLayout=_,t.PageLayoutHeader=O,t.PageLayoutLeft=P,t.PageLayoutRight=E},896:function(e,t,n){var o=n(897);"string"==typeof o&&(o=[[e.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,a);o.locals&&(e.exports=o.locals)},897:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,'.nc-workbench-page{position:absolute;top:0;z-index:10;height:100%;width:100%;padding:8px 0 0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.nc-workbench-page .nc-workbench-page-header{-webkit-box-flex:0;flex:0 0 45px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;border-bottom:1px solid #d9d9d9;border-radius:3px 3px 0 0;background:#fff;padding:0 20px}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn{font-size:16px;color:#111;font-weight:700}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont{margin-right:6px;border-radius:50%;font-size:16px;padding:4px;font-weight:400;cursor:pointer}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont:hover{background:#e8e8e8}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-page-header .header_in_icon{display:-webkit-box;display:flex;font-weight:700;font-size:16px;color:#111;line-height:24px}.nc-workbench-page .nc-workbench-page-header .header_in_icon span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-ownpage{min-width:800px;border-radius:0 0 3px 3px}.nc-workbench-page .nc-workbench-ownpage-all{height:100%;display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nc-workbench-page .nc-workbench-ownpage-left{position:relative;height:100%;min-width:280px}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block{position:absolute;right:-3px;z-index:10;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:block;padding:0 3px;height:100%;border-radius:3px;cursor:w-resize}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:after{content:"";display:block;width:1px;height:100%;background:#d9d9d9}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:hover:after{width:2px;background:rgba(0,0,0,.54)}.nc-workbench-page .nc-workbench-ownpage-right{min-width:50%;-webkit-box-flex:1;flex:1}.nc-workbench-page-scroll{height:100%;width:100%;overflow-y:auto}.nc-workbench-page-scroll .nc-workbench-page-container{margin-top:0;min-height:100%;background:#fff;border-radius:3px}.nc-workbench-page-scroll .nc-workbench-page-container .nc-workbench-page-header{position:static;-webkit-transition:top .7s ease;transition:top .7s ease;height:46px}.nc-workbench-page-scroll .nc-workbench-page-container .suck-table-header{position:static;-webkit-transition:top .7s ease;transition:top .7s ease}.nc-workbench-page-scroll .nc-workbench-suck{padding-top:80px}.nc-workbench-page-scroll .nc-workbench-suck .nc-workbench-page-header{position:fixed;z-index:1;top:44px}.nc-workbench-page-scroll .nc-workbench-suck .suck-table-header{position:fixed;z-index:1;top:94px}@media screen and (min-width:1280px){.nc-workbench-page{padding:8px 16px 0}}@media screen and (min-width:1440px){.nc-workbench-page{padding:8px 16px 0}}@media screen and (min-width:1600px){.nc-workbench-page{padding:8px 16px 0}}',""])}}]);