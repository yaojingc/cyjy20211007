(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1033:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(197));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={queryTreeUrl:"/nccloud/riart/ref/mdClassDefaultEntityRefTreeAction.do",refType:"tree",isTreelazyLoad:!1,refName:(0,o.langCheck)("0000PUB-000046"),rootNode:{refname:(0,o.langCheck)("0000PUB-000046"),refpk:"root"}};return r.default.createElement(d,(0,n.default)(t,e))};var r=i(a(1)),l=a(874),o=a(17);function i(e){return e&&e.__esModule?e:{default:e}}var d=l.high.Refer},1072:function(e,t,a){var n=a(1208);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},1074:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(12)),r=c(a(4)),l=c(a(8)),o=c(a(5)),i=c(a(6)),d=a(1),s=c(d);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.renderChildren=function(){var e=a.props,t=e.children,n=e.onDragItemClick;return s.default.Children.map(t,(function(e){return s.default.cloneElement(e,{onDragItemClick:n&&n.bind(a,e.props)})}))},a.state={},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.headerTitle,a=e.renderHeader;return s.default.createElement("div",{className:"side-panel"},s.default.createElement("div",{className:"panel-header"},a||s.default.createElement("span",{className:"title"},t)),s.default.createElement("div",{className:"panel-content clearfix"},this.renderChildren()))}}]),t}(d.Component);t.default=u},1208:function(e,t,a){var n=a(146);(e.exports=a(13)(!1)).push([e.i,'.reset-antd-checkbox .ant-checkbox-checked .ant-checkbox-inner,.reset-antd-checkbox .ant-checkbox-indeterminate .ant-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.reset-antd-checkbox .ant-checkbox-input:focus+.ant-checkbox-inner,.reset-antd-checkbox .ant-checkbox-wrapper:hover .ant-checkbox-inner,.reset-antd-checkbox .ant-checkbox:hover .ant-checkbox-inner{border-color:#e14c46}.reset-antd-select .ant-select-selection:hover{border-color:#40a9ff}.reset-antd-select .ant-select-selection:focus{border-color:#007ace}.empty-area-style{color:#9b9b9b}.empty-area-style .iconfont{color:#f0871a;font-size:13px;margin-right:2px}.hover-property{content:"";position:absolute;width:4px;background:#8cc6ff;left:-2px;top:0;bottom:0;z-index:1}.template-setting-page{width:100%;padding:7px 16px 0}.template-setting-page .ant-input-sm{height:24px}.template-setting-page .template-setting-steps{margin:8px 30px;background:#fff;height:54px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;padding:0 20px}.template-setting-page .template-setting-steps .ant-steps-item-process .ant-steps-item-title:after{background-color:#ccc}.template-setting-page .template-setting-steps .ant-steps{margin:0 19%}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-finish .ant-steps-item-icon{height:20px;line-height:20px;width:20px;background:#e14c46;border:1px solid #e14c46;margin-top:1px}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-finish .ant-steps-item-icon span{color:#fff}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-finish .ant-steps-item-content .ant-steps-item-title:after{background:#e14c46}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-process .ant-steps-item-icon{height:20px;line-height:20px;width:20px;background:#fff;border:1px solid #e14c46;margin-top:1px}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-process .ant-steps-item-icon span{color:#e14c46}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-wait .ant-steps-item-icon{height:20px;line-height:20px;width:20px;background:#fff;border:1px solid #bfbfbf;margin-top:1px}.template-setting-page .template-setting-steps .ant-steps .ant-steps-item-wait .ant-steps-item-icon span{color:#bfbfbf}.template-setting-page .display_none{display:none}.template-setting-page .template-setting-header{-webkit-box-align:center;align-items:center;background:#fff;display:-webkit-box;display:flex;height:45px;-webkit-box-pack:justify;justify-content:space-between;padding-left:20px;padding-right:20px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom:1px solid #e0e0e0}.template-setting-page .template-setting-header .header-name{display:-webkit-box;display:flex;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;font-style:normal;-webkit-box-align:center;align-items:center}.template-setting-page .template-setting-header .header-name .iconfont{margin-right:6px;border-radius:50%;font-size:16px;padding:0 4px;font-weight:400;cursor:pointer}.template-setting-page .template-setting-header .header-name .iconfont:hover{background:#e8e8e8}.template-setting-page .template-setting-header .header-name span{font-size:16px;color:#111;font-weight:700}.template-setting-page .template-setting-container{position:relative;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row;background:#fff;min-height:calc(100vh - 178px);border-bottom-left-radius:3px;border-bottom-right-radius:3px}.template-setting-page .template-setting-container .plat-def{height:30px!important;line-height:30px!important}.template-setting-page .template-setting-container .plat-def .refer{width:88%!important;left:6%!important}.template-setting-page .template-setting-container .template-setting-left-sider-container{border-right:1px solid #eaeaea}.template-setting-page .template-setting-container .template-setting-left-sider-container:hover .toggle-left-btn{display:block}.template-setting-page .template-setting-container .template-setting-left-sider{width:257px;padding:5px;height:calc(100vh - 110px);overflow-y:auto;background-color:#f1f2f4;border-bottom-left-radius:3px}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel{padding:10px 10px 2px}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-header .title{font-size:13px;font-weight:500}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-header .tip{font-size:12px;margin-bottom:8px;color:#9b9b9b}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-header .tip .iconfont{color:#f0871a;font-size:13px;margin-right:2px}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content{display:-webkit-box;display:flex;margin-top:10px;flex-wrap:wrap}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item-wrapper{display:-webkit-box;display:flex;cursor:move;background:#fff;color:#111;width:48%;height:35px;padding:6px 12px;margin-right:4%;margin-bottom:8px;border:1px solid transparent;box-shadow:0 0 3px 1px hsla(0,0%,78.4%,.5);border-radius:3px;-webkit-box-pack:left;justify-content:left;-webkit-box-align:center;align-items:center}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item-wrapper:hover{border-color:#0c88fe}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item-wrapper:active{border-color:#0c88fe;color:#0073e1}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item-wrapper:nth-child(2n){margin-right:0}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item{line-height:16px}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item .name{font-size:13px;vertical-align:middle}.template-setting-page .template-setting-container .template-setting-left-sider .side-panel .panel-content .drag-item .iconfont{font-size:16px;margin-right:4px;vertical-align:middle}.template-setting-page .template-setting-container .template-setting-right-sider{border-left:1px solid #dddfe1;width:256px;background:#fafafa;border-bottom-right-radius:5px;min-height:calc(100vh - 178px)}.template-setting-page .template-setting-container .template-setting-right-sider .ant-tabs-tabpane{height:calc(100vh - 190px);overflow-y:auto}.template-setting-page .template-setting-container .template-setting-right-sider .basic-property{display:-webkit-box;display:flex;flex-wrap:wrap;padding:0 10px;-webkit-box-align:center;align-items:center}.template-setting-page .template-setting-container .template-setting-right-sider .basic-property li:nth-child(odd){list-style-type:none;width:35%;display:inline-block;line-height:1.3;text-align:right;padding:0 6px 6px 0}.template-setting-page .template-setting-container .template-setting-right-sider .basic-property li:nth-child(2n){list-style-type:none;width:65%;display:inline-block;line-height:30px;padding-bottom:6px}.template-setting-page .template-setting-container .template-setting-right-sider .basic-property .metapath{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.template-setting-page .template-setting-container .from-card{padding:10px 10px 0;border-radius:0 0 3px 3px}.template-setting-page .template-setting-container .from-card .ant-row{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.template-setting-page .template-setting-container .from-card .ant-row div{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.template-setting-page .template-setting-container .from-card .ant-row .ant-col-lg-12,.template-setting-page .template-setting-container .from-card .ant-row .ant-col-md-24,.template-setting-page .template-setting-container .from-card .ant-row .ant-col-xl-8{width:100%;padding:0!important}.template-setting-page .template-setting-container .from-card .ant-row .ant-col-lg-12 .ant-form-item,.template-setting-page .template-setting-container .from-card .ant-row .ant-col-md-24 .ant-form-item,.template-setting-page .template-setting-container .from-card .ant-row .ant-col-xl-8 .ant-form-item{margin:0 0 3px}.template-setting-page .template-setting-container .from-card .ant-form-item{display:-webkit-box;display:flex}.template-setting-page .template-setting-container .from-card .ant-form-item .ant-input{font-size:13px}.template-setting-page .template-setting-container .from-card .ant-form-item-control-wrapper{-webkit-box-flex:1;flex:1}.template-setting-page .template-setting-container .from-card .ant-form-item-label{min-width:96px;line-height:34px}.template-setting-page .template-setting-container .from-card .ant-form-item-label label:after{content:" ";margin-right:6px}.template-setting-page .template-setting-container .toggle-left-btn{display:none;position:absolute;cursor:pointer;background-color:#fff;top:50%;left:300px;width:20px;text-align:center;line-height:64px;-webkit-transform:translateY(-50%);transform:translateY(-50%);border:1px solid #dddfe1;border-top-right-radius:3px;border-bottom-right-radius:3px;z-index:1}.template-setting-page .template-setting-container .toggle-left-btn .iconfont{font-size:12px}.template-setting-page .template-setting-container .toggle-left-btn:hover{border:1px solid #0073e1;border-left-color:transparent}.template-setting-page .template-setting-container .toggle-left-btn.show{display:block}.template-setting-page .template-setting-container .toggle-left-btn.hide{display:none}.template-setting-page .template-setting-content{height:calc(100vh - 110px);overflow-y:auto;-webkit-box-flex:1;flex:1;padding:0 10px 10px;scroll-behavior:smooth}.template-setting-page .template-setting-content .area-item{background:#fff;border-radius:3px;border:1px solid #ccc;margin-top:10px}.template-setting-page .template-setting-content .area-item.active{border:1px solid #0073e1}.template-setting-page .template-setting-content .area-item.active .area-item-button,.template-setting-page .template-setting-content .area-item.card-active .area-item-button,.template-setting-page .template-setting-content .area-item:hover .area-item-button{display:-webkit-box;display:flex}.template-setting-page .template-setting-content .area-item .area-item-header{display:table;width:100%;cursor:move;background:#fafafa;height:40px;padding:0 10px}.template-setting-page .template-setting-content .area-item .area-item-header .area-item-name-wrapper{cursor:pointer;display:table-cell;vertical-align:middle}.template-setting-page .template-setting-content .area-item .area-item-header .ant-checkbox-inner{width:14px;height:14px}.template-setting-page .template-setting-content .area-item .area-item-header.show{display:table}.template-setting-page .template-setting-content .area-item .area-item-header.hide{display:none}.template-setting-page .template-setting-content .area-item .area-item-name{display:table;vertical-align:middle;font-size:14px}.template-setting-page .template-setting-content .area-item .area-item-name .area-name{display:table-cell;font-weight:500;padding-left:8px;color:#111;vertical-align:middle}.template-setting-page .template-setting-content .area-item .area-item-name .iconfont{display:table-cell;font-size:12px;color:#999696;vertical-align:middle}.template-setting-page .template-setting-content .area-item .area-item-button-wrapper{display:table-cell;vertical-align:middle;width:455px}.template-setting-page .template-setting-content .area-item .area-item-button{display:none;float:right;-webkit-box-align:center;align-items:center}.template-setting-page .template-setting-content .area-item .area-item-button label{margin-right:12px}.template-setting-page .template-setting-content .area-item .area-item-button a{margin-right:16px}.template-setting-page .template-setting-content .area-item .area-item-button .link,.template-setting-page .template-setting-content .area-item .area-item-button a{color:#555}.template-setting-page .template-setting-content .area-item .area-item-button a:hover{color:#0073e1}.template-setting-page .template-setting-content .area-item .area-item-button .opr-btn:hover{border:1px solid #e14c46;color:#e14c46}.template-setting-page .template-setting-content .area-item .opr-btn{display:inline-block;cursor:pointer;background:#fff;width:30px;height:30px;line-height:30px;text-align:center;margin-right:0;border:1px solid #d0d0d0;border-radius:3px;vertical-align:middle}.template-setting-page .template-setting-content .area-item .opr-btn .iconfont{font-size:20px}.template-setting-page .template-setting-content .area-item .opr-btn .icon-shanchu,.template-setting-page .template-setting-content .area-item .opr-btn .icon-xinzengfenzu{font-size:16px}.template-setting-page .template-setting-content .area-item .opr-btn .iconfont.disabled{color:#b9b9b9}.template-setting-page .template-setting-content .area-item .opr-btn.group-btn{border:none;background:transparent;width:20px;height:24px;line-height:24px}.template-setting-page .template-setting-content .area-item .opr-btn.group-btn .iconfont{font-size:20px}.template-setting-page .template-setting-content .area-item .btn-group>span{display:inline-block}.template-setting-page .template-setting-content .area-item .btn-group>.opr-btn{border-radius:0;border-right:0}.template-setting-page .template-setting-content .area-item .btn-group>.opr-btn:hover{border-right:0}.template-setting-page .template-setting-content .area-item .btn-group>.opr-btn:hover:last-child{border-right:1px solid #e14c46}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn+.opr-btn:hover,.template-setting-page .template-setting-content .area-item .btn-group>.opr-btn:hover+.opr-btn{border-left:1px solid #e14c46}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:first-child:not(:last-child){border-top-left-radius:3px;border-bottom-left-radius:3px}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:last-child:not(:first-child){border-top-right-radius:3px;border-bottom-right-radius:3px}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:first-child:last-child{border-radius:3px}.template-setting-page .template-setting-content .area-item .btn-group .opr-btn:last-child{border-right:1px solid #d0d0d0}.template-setting-page .template-setting-content .area-item .area-item-content{position:relative;min-height:73px}.template-setting-page .template-setting-content .area-item .area-item-content .property-item{-webkit-transition:all .2s ease-out;transition:all .2s ease-out;position:relative;width:25%;padding:1px;display:inline-block;vertical-align:top;cursor:move}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.disabled-card .item-content{position:relative}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.disabled-card .item-content:after{content:"";position:absolute;width:100%;top:0;left:0;bottom:0;z-index:5}.template-setting-page .template-setting-content .area-item .area-item-content .property-item .item-content .u-form-control{font-size:13px;height:30px}.template-setting-page .template-setting-content .area-item .area-item-content .property-item .item-content .item-wrapper{position:relative}.template-setting-page .template-setting-content .area-item .area-item-content .property-item .item-content .item-wrapper:after{content:"";position:absolute;width:calc(100% - 30px);height:30px;left:0;top:0;z-index:2}.template-setting-page .template-setting-content .area-item .area-item-content .property-item .hidden-tag{position:absolute;background:url('+n(a(1209))+') no-repeat;background-size:contain;width:20px;height:18px;top:4px;right:5px;z-index:2}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.table-content{margin:0;padding:0;width:auto;border-radius:0}.template-setting-page .template-setting-content .area-item .area-item-content .property-item.table-content .hidden-tag{top:0;right:0}.template-setting-page .template-setting-content .area-item .area-item-content .property-item:hover .delete-card{display:inline-block}.template-setting-page .template-setting-content .area-item .area-item-content .property-item:not(.table-content).hover:before{content:"";position:absolute;width:4px;background:#8cc6ff;left:-2px;top:0;bottom:0;z-index:1}.template-setting-page .template-setting-content .area-item .area-item-content .card-item{display:-webkit-box;display:flex;-webkit-transition:all .2s ease-out;transition:all .2s ease-out;color:#474d54;text-overflow:ellipsis;min-height:32px;width:100%;padding:2px;-webkit-box-align:center;align-items:center;justify-content:space-around}.template-setting-page .template-setting-content .area-item .area-item-content .card-item .item-name{width:80px;padding-right:4px;text-align:right;line-height:1.2;word-break:break-word}.template-setting-page .template-setting-content .area-item .area-item-content .card-item .item-content{width:100%;line-height:12px;white-space:normal;border:1px solid transparent}.template-setting-page .template-setting-content .area-item .area-item-content .card-item .title{position:relative}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .required-card .card-item .title:after,.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content .required-card .card-item:after,.template-setting-page .template-setting-content .area-item .area-item-content .table-area-content .required-card .item-name:after{position:absolute;content:"*";color:red;height:20px;top:50%;left:6px;margin-top:-10px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .required-card .card-item .title:after{left:-8px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .property-item.select-card .card-item,.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content .property-item.select-card .card-item{border-radius:3px;background-color:rgba(0,153,255,.35)}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content{padding:5px;border-top:1px solid #e4e4e4}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-content .property-item .card-item .item-content{width:calc(100% - 84px)}.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content{padding:5px 10px;border-top:1px solid #e4e4e4}.template-setting-page .template-setting-content .area-item .area-item-content .search-area-content .property-item{width:16.6%}.template-setting-page .template-setting-content .area-item .area-item-content .table-area-content .property-item.select-card .item-name{background-color:rgba(0,153,255,.35)}.template-setting-page .template-setting-content .area-item .area-item-content .card-item.normal-card:hover{background-color:rgba(0,153,255,.14901961)}.template-setting-page .template-setting-content .area-item .area-item-content .table-area-content .normal-card:hover .item-name{background-color:#fff}.template-setting-page .template-setting-content .area-item .area-item-content .delete-card{position:absolute;right:0;top:0;width:15px;height:15px;line-height:12px;text-align:center;border-radius:7px;display:none;color:#fff;background-color:#e14c46;cursor:pointer;z-index:9}.template-setting-page .template-setting-content .area-item .area-item-content .table-item{position:relative;min-width:120px}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .item-name{position:relative;background-color:#eceff5;border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .item-name .title{display:inline-block;padding:6px 15px}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .item-content{min-height:40px;padding:5px;line-height:12px}.template-setting-page .template-setting-content .area-item .area-item-content .table-item .item-content .refer-wrapper .refer:hover{padding-right:20px!important}.template-setting-page .template-setting-content .area-item .area-item-content .query-btn-area{float:right;margin-right:20px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group.active .form-area-content{background-color:rgba(221,236,250,.5)}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group.active .area-item-button,.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group:hover .area-item-button{display:-webkit-box;display:flex}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .area-item-header{border-top:1px solid #ccc}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header{position:relative;display:-webkit-box;display:flex;color:#555;margin:6px 14px 0;height:24px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .form-group-title{line-height:24px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .form-group-title .iconfont{cursor:pointer;font-size:12px;padding-right:4px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-name{padding:0 7px 0 14px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-btns{position:absolute;right:0;top:-14px}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-btns .btn-group>.opr-btn:hover+.opr-btn{border-left:0}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-btns .opr-btn:hover{border:none;color:#e14c46}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .group-btns .opr-btn:last-child{border-right:0}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .dashed-line{-webkit-box-flex:1;flex-grow:1}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-group-header .dashed-line:after{content:"";position:relative;display:block;height:1px;top:50%;border-top:1px dashed #c7c6c6}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .form-area-content{min-height:48px;border-top:0}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .empty-area{text-align:center;padding:10px;font-size:13px;color:#9b9b9b}.template-setting-page .template-setting-content .area-item .area-item-content .form-area-group .empty-area .iconfont{color:#f0871a;font-size:13px;margin-right:2px}.template-setting-page .template-setting-content .area-item .table-area-content{display:-webkit-box;display:flex;overflow-x:auto;white-space:nowrap;margin-right:150px;min-height:73px}.template-setting-page .template-setting-content .area-item .table-area-content .property-item.hover .table-item:before{content:"";position:absolute;width:4px;background:#8cc6ff;left:-2px;top:0;bottom:0;z-index:1}.template-setting-page .template-setting-content .area-item .table-area-content .operate-col{position:absolute;right:0;z-index:10;min-width:150px}.template-setting-page .template-setting-content .area-item .table-area-content .operate-col .property-item{width:100%}.template-setting-page .template-setting-content .area-item .table-area-content .operate-col .item-content{visibility:visible}.template-setting-page .template-setting-content .area-item .table-area-content .operate-col .oper-col-content{background:#fff}.template-setting-page .template-setting-content .area-item .table-area-content .operate-col .btn-link{cursor:pointer;color:#0073e1;line-height:30px}.template-setting-page .template-setting-content .area-item .table-area-content .operate-col .btn-link.disabled{color:#b9b9b9}.template-setting-page .template-setting-content .area-item .table-area-content .operate-col .normal-card:hover .item-name{background:#eceff5}.template-setting-page .template-setting-content .table-fold-area.card-active .area-item-button{display:-webkit-box;display:flex}.template-setting-page .template-setting-content .empty-content{position:relative;text-align:center;top:50%;-webkit-transform:translateY(-70%);transform:translateY(-70%)}.template-setting-page .template-setting-content .empty-content img{width:120px;margin-bottom:16px}.template-setting-page .template-setting-content .empty-content p{color:#888;font-size:14px;line-height:1.5;margin:0}.template-setting-page .ant-drawer{width:auto}.template-setting-page .ant-drawer .ant-drawer-mask{left:273px;width:auto}.template-setting-page .ant-drawer .ant-drawer-content-wrapper{top:96px;height:calc(100vh - 110px)}.template-setting-page .ant-drawer .ant-drawer-mask,.template-setting-page .ant-drawer.ant-drawer-open .ant-drawer-content-wrapper{top:96px;right:272px}.template-setting-page .ant-drawer .drawer-content{height:100%;padding:0}.template-setting-page .ant-drawer .drawer-content .area-item-header{cursor:auto}.template-setting-page .ant-drawer .drawer-content .area-item-header .drawer-close-btn{cursor:pointer;display:table-cell;vertical-align:middle;width:25px;padding-left:26px}.template-setting-page .ant-drawer .drawer-content .area-item-header .drawer-close-btn .iconfont{font-size:18px}.template-setting-page .ant-drawer .drawer-content .area-item-header .drawer-close-btn:hover{color:#e14c46}.template-setting-page .ant-drawer .drawer-content .area-item.side-area{border:0;margin:0}.template-setting-page .ant-drawer .drawer-content .area-item .area-item-content .form-area-content{border-top:0}.template-setting-page .ant-drawer .drawer-content .area-item .area-item-content .form-area-content .property-item{width:33.33333%}.template-setting-page .ant-drawer .drawer-content .grandson-content{border-top:1px solid #e4e4e4;padding:0 20px}.template-setting-page .ant-drawer .drawer-content .grandson-content .table-area-content{margin:0}.template-setting-page .ant-drawer .drawer-content .grandson-content .area-item,.template-setting-page .ant-drawer .drawer-content .grandson-content .area-item .area-item-header{cursor:move}.template-setting-page .ant-popover{z-index:220}.template-setting-page .ant-checkbox-checked .ant-checkbox-inner,.template-setting-page .ant-checkbox-indeterminate .ant-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.template-setting-page .ant-checkbox-input:focus+.ant-checkbox-inner,.template-setting-page .ant-checkbox-wrapper:hover .ant-checkbox-inner,.template-setting-page .ant-checkbox:hover .ant-checkbox-inner{border-color:#e14c46}.template-setting-page .ant-select-selection:hover{border-color:#40a9ff}.template-setting-page .ant-select-selection:focus{border-color:#007ace}.template-setting-color-select{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.template-setting-color-select .color-select-color{margin-left:5px;width:15px;height:15px;border:1px solid #ccc;display:inline-block}.realate-meta-modal .nc-workbench-page{position:static;height:100%;padding:0;margin:0}.realate-meta-modal .nc-workbench-page .sider-list{height:100%;overflow-y:auto;overflow-x:hidden;margin-right:20px;border-radius:4px}.realate-meta-modal .nc-workbench-page .sider-list table,.realate-meta-modal .nc-workbench-page .sider-list td,.realate-meta-modal .nc-workbench-page .sider-list th{border:1px solid #ccc}.realate-meta-modal .nc-workbench-page .sider-list table .close-and-text,.realate-meta-modal .nc-workbench-page .sider-list td .close-and-text,.realate-meta-modal .nc-workbench-page .sider-list th .close-and-text{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.realate-meta-modal .nc-workbench-page .sider-list td,.realate-meta-modal .nc-workbench-page .sider-list th{padding-left:5px}.realate-meta-modal .nc-workbench-page .sider-list table{width:100%}.realate-meta-modal .nc-workbench-page .sider-list tbody tr:hover{background-color:#e6f7ff}.realate-meta-modal .nc-workbench-page .sider-list tbody tr.select{background-color:#bae7ff}.realate-meta-modal .nc-workbench-page .sider-list tbody i{font-size:18px;cursor:pointer}.realate-meta-modal .nc-workbench-page .sider-tree{height:100%;overflow:auto;border:1px solid #d9d9d9;border-radius:4px;margin-right:15px}.Formula{overflow:auto!important}.template-setting-sider .sider-content .sider-search{text-align:center}.template-setting-sider .sider-content .sider-search input{border-top:none;border-right:none;border-left:none}.template-setting-sider .sider-content .sider-search input:focus,.template-setting-sider .sider-content .sider-search input:hover{box-shadow:none}.template-setting-sider .sider-content .sider-search span.ant-input-group-addon{cursor:pointer;background:#fff;border:1px solid #d9d9d9;border-radius:16px;padding:0 8px}.template-setting-sider .sider-content .sider-search span.ant-input-group-addon:hover{border-color:#40a9ff}.template-setting-sider .sider-content .sider-tab{text-align:center}.template-setting-sider .sider-content .sider-tab .rightTemplate .required:before{color:#f5222d;content:"*";display:inline-block;font-family:SimSun;font-size:14px;line-height:1;margin-right:4px}.template-setting-sider .sider-content .sider-tab .rightTemplate li .refer-wrapper{margin-top:7px}.template-setting-sider .sider-content .sider-tab .rightTemplate .isgrandsonRadio>div{text-align:left}.add-not-meta-data .u-modal-body .code-div span{margin-right:16px}.add-not-meta-data .u-modal-body .code-div:before{color:#f5222d;content:"*";display:inline-block;font-family:SimSun;font-size:14px;line-height:1;margin-right:4px}.add-not-meta-data .u-modal-body .not-code span{margin-right:16px}.add-not-meta-data .u-modal-body .not-code:before{color:#f5222d;content:"*";display:inline-block;font-family:SimSun;font-size:14px;line-height:1;margin-right:4px}.add-not-meta-data .u-modal-body input{width:300px}.add-not-meta-data .u-modal-body input.has-error,.add-not-meta-data .u-modal-body input.has-error:focus{border-color:red;box-shadow:none}.add-not-meta-data .u-modal-body .form-explain{color:red;margin-left:5px}.zonesetting-moneyModal .descrip_label{padding:10px;margin-bottom:10px;border-bottom:1px solid #eee;font-weight:700}.zonesetting-moneyModal .mdcontent{display:-webkit-box;display:flex}.zonesetting-moneyModal .mdcontent div .money-label{margin:0 10px 0 20px}.zonesetting-referModal .descrip_label{padding:10px;margin-bottom:10px;border-bottom:1px solid #eee;font-weight:700}.zonesetting-referModal .mdcontent{display:-webkit-box;display:flex}.zonesetting-referModal .mdcontent div .refer_label{display:inline-block;margin-right:10px;text-align:right}.zonesetting-referModal .ant-input{max-width:60%;margin-right:20px}.zonesetting-customModal .u-modal-body{height:100px}.zonesetting-customModal .u-modal-body .mdcontent{margin-top:10px}.zonesetting-customModal .u-modal-body .def-refer{width:80%}.custom-filter-dropdown input.ant-input.ant-input-sm{height:24px;margin-right:8px}.custom-filter-dropdown button{margin-right:8px}.ant-select-sm .ant-select-selection.ant-select-selection--single{height:24px}.ant-select-sm .ant-select-selection.ant-select-selection--single .ant-select-selection__rendered{line-height:22px}.zonesetting-batch-setting-modal.ant-modal{padding-bottom:0}.zonesetting-batch-setting-modal .ant-modal-content{height:100%}.zonesetting-batch-setting-modal .ant-modal-body{padding:12px 16px 0 15px}.zonesetting-batch-setting-modal .ant-modal-body .ant-table-fixed-header .ant-table-scroll .ant-table-header{padding-bottom:0}.zonesetting-batch-setting-modal .u-modal-footer{position:absolute;width:100%;left:0;bottom:0}.zonesetting-batch-setting-modal .ant-checkbox-checked .ant-checkbox-inner,.zonesetting-batch-setting-modal .ant-checkbox-indeterminate .ant-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.zonesetting-batch-setting-modal .ant-checkbox-input:focus+.ant-checkbox-inner,.zonesetting-batch-setting-modal .ant-checkbox-wrapper:hover .ant-checkbox-inner,.zonesetting-batch-setting-modal .ant-checkbox:hover .ant-checkbox-inner{border-color:#e14c46}.ant-modal-wrap{overflow:hidden}.ant-spin-container .ant-table .ant-table-content .ant-table-scroll .ant-table-header{overflow:hidden;margin-bottom:0!important}.u-modal-dialog{-webkit-transform:translateY(0)!important;transform:translateY(0)!important}.meta-add-modal .u-modal-header{padding:5px 16px 5px 0}.meta-add-modal .u-modal-header .customer-header{padding-left:20px;font-weight:400;line-height:30px}.meta-add-modal .u-modal-header .custom-title{display:inline;font-weight:700;margin-right:25px}.meta-add-modal .ant-checkbox-checked .ant-checkbox-inner,.meta-add-modal .ant-checkbox-indeterminate .ant-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.meta-add-modal .ant-checkbox-input:focus+.ant-checkbox-inner,.meta-add-modal .ant-checkbox-wrapper:hover .ant-checkbox-inner,.meta-add-modal .ant-checkbox:hover .ant-checkbox-inner{border-color:#e14c46}.meta-add-modal .ant-tree li .ant-tree-checkbox.ant-tree-checkbox-checked .ant-tree-checkbox-inner{background-color:#e14c46;border-color:#e14c46}.meta-add-modal .ant-tree li .ant-tree-checkbox.ant-tree-checkbox-checked .ant-tree-checkbox-inner:hover{border-color:#e14c46}.u-modal-open .meta-add-modal.u-modal .u-modal-dialog .u-modal-content .u-modal-header .u-modal-title{position:static;float:left;line-height:30px;margin-right:20px}',""])},1209:function(e,t,a){e.exports=a.p+"images/hiddenProperty.png"},1210:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=N(a(39)),r=N(a(197)),l=N(a(201)),o=N(a(65)),i=N(a(431)),d=N(a(140)),s=N(a(430)),c=N(a(12)),u=N(a(4)),p=N(a(8)),f=N(a(5)),m=N(a(6)),g=a(1),h=N(g),b=a(29),v=N(a(26)),y=N(a(58)),k=N(a(906)),C=a(92),S=N(a(937)),E=a(17),x=a(93),w=(a(112),N(a(422))),M=a(946),_=a(899),A=a(428),D=N(a(90));function N(e){return e&&e.__esModule?e:{default:e}}var I=N(a(33)).default.base,Z=I.NCDiv,P=I.NCButton,T=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return a.setModalVisibel=function(e){a.setState({previewVisibel:e})},a.trim=function(e){if(e)return e.replace(/^\s+|\s+$/g,"")},a.validateEmptyArea=function(){var e=a.props,t=e.json,n=e.areaList,r=e.newAreaList,l=D.default.cloneDeep(n),o=!0,c=(0,E.langCheck)("102202APP-000038","pages",t),u=(0,E.langCheck)("102202APP-000039","pages",t),p=[],f=n.filter((function(e){return!e.code||!e.name})),m=r.filter((function(e){return null!==e}));return f&&f.length>0&&(m.forEach((function(e,a){if(!e.code||!e.name){var n=g(e,""+(0,E.langCheck)("ZoneSetting-000046","pages",t)+(a+1));p.push(n)}m.length!==r.length&&function(e){var a={groups:(0,E.langCheck)("ZoneSetting-000208","pages",t),sides:{edit:(0,E.langCheck)("ZoneSetting-000222","pages",t),browse:(0,E.langCheck)("ZoneSetting-000215","pages",t)},grandsons:(0,E.langCheck)("ZoneSetting-000223","pages",t)},n=function(a,n){var r=m.findIndex((function(t){return t.pk_area===e.pk_area}))+1,l=(0,E.langCheck)("ZoneSetting-000046","pages",t);a in e&&e[a].forEach((function(e,t,i){if(!e.code||!e.name){var d="sides"===a?""+n[e.areastatus]:""+n+(t+1),s=g(e,""+l+r+"-"+d);p.push(s),o=!1}}))},r=!0,l=!1,c=void 0;try{for(var u,f=(0,d.default)((0,i.default)(a));!(r=(u=f.next()).done);r=!0){var h=u.value,b=(0,s.default)(h,2),v=b[0],y=b[1];n(v,y)}}catch(e){l=!0,c=e}finally{try{!r&&f.return&&f.return()}finally{if(l)throw c}}}(e)})),o=!1),o||((0,y.default)({status:"error",TextArr:[(0,E.langCheck)("ZoneSetting-000012","pages",t),(0,E.langCheck)("ZoneSetting-000011","pages",t),(0,E.langCheck)("ZoneSetting-000224","pages",t)],content:(0,E.langCheck)("102202APP-000012","pages",t),groupOperation:!0,groupOperationMsg:p}),a.setAreaListValidate(l,f),a.props.updateAreaList(l),a.props.updateAreaValidate(o)),o;function g(e,t){var a="";return e.code||e.name?e.code?e.name||(a=t+"："+u):a=t+"："+c:a=t+"："+[c,u].join(),a}},a.validateCode=function(e){var t=a.props.json,n=D.default.cloneDeep(e),r=!0,l=(0,A.findRepeatItemsByCode)(e),i=a.validateEmptyArea();if(!1===i)return i;if(l&&l.length>0){var d=l&&l.map((function(e){return e.name}));(0,y.default)({status:"error",msg:""+(0,E.langCheck)("ZoneSetting-000046","pages",t)+(0,o.default)(d)+(0,E.langCheck)("102202APP-000011","pages",t)}),r=!1,a.setAreaListValidate(n,l),a.props.updateAreaList(n),a.props.updateAreaValidate(r)}return r},a.setAreaListValidate=function(e,t){e.forEach((function(a,n){a.validate=!0,t.forEach((function(t){a.pk_area===t.pk_area&&(e[n].validate=!1)}))}))},a.saveTemplate=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new l.default((function(t){a.saveZoneData(e).then((function(n){a.saveData({newAreaData:n&&n.area,refresh:e}).then(t)}))}))},a.saveZoneData=function(e){return new l.default((function(t,n){var l=a.props,o=l.json,i=l.areaList,d=l.zoneDatas,s=(0,E.GetQuery)(a.props.location.search),c=void 0;var u=a.props.zoneFormData;if(!i.some((function(e){return"0"!==e.areatype}))||u.headcode)if(u&&u.code&&a.trim(u.code)&&a.trim(u.name))if(!u||!i||i.length<=0)(0,y.default)({status:"warning",msg:(0,E.langCheck)("102202APP-000019","pages",o)});else{var p=a.validateCode(i),f=D.default.cloneDeep(i);f.map((function(e,t){e.newArea&&e.pk_area&&delete e.pk_area,e.formPropertyList=[],e.queryPropertyList=[],e.position=t+1+""})),c={pk_page_templet:d.pk_page_templet,pagecode:d.pagecode||s.pcode,pageid:d.pageid||s.pid,parentid:d.parentid||"root",areaList:f,isdefault:u.isdefault,appcode:s.appcode||d.appcode,mateid:d.mateid,consttype:u.consttype},c=(0,r.default)(u,c),p&&(0,v.default)({url:"/nccloud/platform/templet/settempletarea.do",data:c,info:{name:(0,E.langCheck)("102202APP-000013","pages",o),action:(0,E.langCheck)("102202APP-000014","pages",o)},success:function(n){var r=n.data;r.success&&r.data&&(r.data.templetid||(0,y.default)({status:"error",msg:r.data.msg}),e&&A.queryAllArea.call(a,r.data.templetid),t(r.data))},error:function(e){n(),console.log(e.data)}})}else(0,y.default)({status:"warning",msg:(0,E.langCheck)("102202APP-000063","pages",o)});else(0,y.default)({status:"warning",msg:(0,E.langCheck)("102202APP-000073","pages",o)})}))},a.saveData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.newAreaData,n=e.refresh;return new l.default((function(e){var r=!0,l=a.props,o=l.areaList,i=l.templetid,d=l.pcode,s=l.appcode,c=l.json;l.zoneDatas;if(D.default.forEach(o,(function(e,t){"0"===e.areatype&&D.default.forEach(e.queryPropertyList,(function(t,a){"204"!==t.datatype||"-99"!==t.refname&&""!==t.refname&&null!==t.refname&&void 0!==t.refname||((0,y.default)({status:"typeError",msg:(0,E.langCheck)("ZoneSetting-000046","pages",c)+' "'+e.name+'" '+(0,E.langCheck)("ZoneSetting-000047","pages",c)+' "'+t.label+'" '+(0,E.langCheck)("ZoneSetting-000048","pages",c)+' "'+(0,E.langCheck)("ZoneSetting-000030","pages",c)+'" '+(0,E.langCheck)("ZoneSetting-000049","pages",c)+"，"+(0,E.langCheck)("ZoneSetting-000050","pages",c)+"。"}),r=!1)})),"1"==e.areatype&&D.default.forEach(e.queryPropertyList,(function(t,a){t.colnum<0&&((0,y.default)({status:"typeError",msg:(0,E.langCheck)("ZoneSetting-000046","pages",c)+' "'+e.name+'" '+(0,E.langCheck)("ZoneSetting-000047","pages",c)+' "'+t.label+'" '+(0,E.langCheck)("ZoneSetting-000048","pages",c)+' "'+(0,E.langCheck)("ZoneSetting-000031","pages",c)+'" '+(0,E.langCheck)("ZoneSetting-000051","pages",c)+"，"+(0,E.langCheck)("ZoneSetting-000050","pages",c)+"。"}),r=!1)})),D.default.forEach(e.queryPropertyList,(function(t,a){t.maxlength<0&&((0,y.default)({status:"typeError",msg:(0,E.langCheck)("ZoneSetting-000046","pages",c)+' "'+e.name+'" '+(0,E.langCheck)("ZoneSetting-000047","pages",c)+' "'+t.label+'" '+(0,E.langCheck)("ZoneSetting-000048","pages",c)+' "'+(0,E.langCheck)("ZoneSetting-000032","pages",c)+'" '+(0,E.langCheck)("ZoneSetting-000051","pages",c)+"，"+(0,E.langCheck)("ZoneSetting-000050","pages",c)+"。"}),r=!1)}))})),!r)return!1;var u=[],p=[];D.default.forEach(o,(function(e,t){D.default.forEach(e.queryPropertyList,(function(e){-1!==e.pk_query_property.indexOf("new")&&(e.pk_query_property="")}))})),D.default.forEach(o,(function(e,a){if(e.newArea){var n=t&&t.find((function(t){return t.code===e.code}));e.queryPropertyList.map((function(e){e.areaid=n&&n.pk_area}))}"0"===e.areatype?p=p.concat(e.queryPropertyList):u=u.concat(e.queryPropertyList)}));var f={};f.templetid=i,f.formPropertyList=u,f.queryPropertyList=p,f.ismobile="mobile"===a.urlRequestObj.templettype,(0,v.default)({url:"/nccloud/platform/templet/setareaproperty.do",info:{name:(0,E.langCheck)("ZoneSetting-000017","pages",c),action:(0,E.langCheck)("ZoneSetting-000033","pages",c)},data:f,loading:!0,success:function(t){var r=t.data,l=r.data,o=r.success;o?((0,y.default)({status:"success",msg:l}),console.log("appcode=====",s),console.log("pcode=====",d),console.log("拼接=====","appTempletStorage_"+s+"_"+d),localStorage.removeItem("appTempletStorage_"+s+"_"+d),n&&a.urlRequestObj.templetid&&A.queryTemplateProperty.call(a),a.props.updateSaveFlag(!0),e()):(0,y.default)({status:"error",msg:l})}})}))},a.toggleBackModal=function(e){return a.setState({backModalShow:e})},a.handleBack=function(){a.props.isSave?a.handleNotSaveBack():a.toggleBackModal(!0)},a.back=function(){var e=a.props,t=e.json,n=e.status;if(n)"templateSetting"===n?(0,x.openPage)("/TemplateSetting",!1,{},["status","templetid"]):"templateSetting-unit"===n&&(0,x.openPage)("/TemplateSetting-unit",!1,{},["status","templetid"]);else{var r="/ar",l="102202APP",o=(0,E.langCheck)("ZoneSetting-000044","pages",t);"mobile"===a.urlRequestObj.templettype&&(r="/MobileAppRegister",l="102202MOBILE",o=(0,E.langCheck)("ZoneSetting-000228","pages",t)),(0,x.openPage)(r,!1,{b1:(0,E.langCheck)("ZoneSetting-000041","pages",t),b2:(0,E.langCheck)("ZoneSetting-000042","pages",t),b3:(0,E.langCheck)("ZoneSetting-000043","pages",t),n:o,c:l},["templetid","appcode","pcode","pid","templettype"])}},a.handleSaveBack=function(){a.saveTemplate(!1).then(a.back),a.toggleBackModal(!1)},a.handleNotSaveBack=function(){a.back()},a.handleCancelBack=function(){a.toggleBackModal(!1)},a.getPreviewData=function(){var e=D.default.cloneDeep(a.props.areaList);return e.forEach((function(e){e.formPropertyList=[].concat((0,n.default)(e.queryPropertyList)),e.formPropertyList.forEach((function(e){e.position=e.position&&e.position+""})),e.queryPropertyList.forEach((function(e){e.position=e.position&&e.position+""}))})),e},a.urlRequestObj=(0,E.GetQuery)(a.props.location.search),a.state={previewVisibel:!1,backModalShow:!1},a}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=this.state.previewVisibel,a=this.props,n=a.json,r=a.zoneDatas,l=(0,E.GetQuery)(window.location.hash).c,o={pagecode:r.pagecode,appcode:r.appcode,templetid:this.props.templetid};return h.default.createElement(Z,{className:"template-setting-header",areaCode:Z.config.HEADER},h.default.createElement("div",{className:"header-name"},h.default.createElement("i",{className:"iconfont icon-danjufanhui",onClick:this.handleBack}),h.default.createElement(k.default,{appCode:l}),h.default.createElement(Z,{fieldid:(0,E.langCheck)("ZoneSetting-000035","pages",n),areaCode:Z.config.Title},(0,E.langCheck)("ZoneSetting-000035","pages",n))),h.default.createElement("div",{className:"button-list"},h.default.createElement(P,{colors:"primary",fieldid:"save",onClick:function(){return e.saveTemplate(!0)}},(0,E.langCheck)("ZoneSetting-000038","pages",n)),h.default.createElement(P,{fieldid:"preview",onClick:function(){e.setModalVisibel(!0)}},(0,E.langCheck)("ZoneSetting-000039","pages",n))),t&&h.default.createElement(S.default,{previewVisibel:t,setModalVisibel:this.setModalVisibel,templetData:o,requestUrl:"/nccloud/platform/templet/previewtemplet.do",requestData:this.getPreviewData()}),h.default.createElement(w.default,{mask:!0,closable:!1,title:(0,E.langCheck)("ZoneSetting-000207","pages",n),visible:this.state.backModalShow,centered:!0,maskClosable:!1,width:410,height:200,className:"prompt-box-project",fieldid:"back",footer:[h.default.createElement(P,{colors:"primary",fieldid:"save",onClick:this.handleSaveBack},(0,E.langCheck)("ZoneSetting-000038","pages",n)," "),h.default.createElement(P,{fieldid:"unsave",onClick:this.handleNotSaveBack},(0,E.langCheck)("ZoneSetting-000206","pages",n)," "),h.default.createElement(P,{fieldid:"cancel",onClick:this.handleCancelBack},(0,E.langCheck)("ZoneSetting-000006","pages",n)," ")]},h.default.createElement("p",{className:"prompt-title"},h.default.createElement("i",{className:"icon iconfont icon-zhuyi1 warning"}),h.default.createElement("span",null,(0,E.langCheck)("ZoneSetting-000204","pages",n))," "),h.default.createElement("p",{className:"prompt-content"},(0,E.langCheck)("ZoneSetting-000205","pages",n))," "))}}]),t}(g.Component);t.default=(0,b.connect)((function(e){var t=e.zoneSettingData,a=t.areaList,n=t.newAreaList,r=t.zoneFormData,l=t.isSave;return{areaList:a,zoneFormData:r,zoneDatas:e.zoneRegisterData.zoneDatas,isSave:l,newAreaList:n}}),{setZoneData:M.setZoneData,updateAreaList:_.updateAreaList,updateSaveFlag:_.updateSaveFlag,setZoneDataFun:_.setZoneDataFun,updateAreaValidate:_.updateAreaValidate})((0,C.withRouter)(T))},1211:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=M(a(39)),l=M(a(2)),o=M(a(12)),i=M(a(4)),d=M(a(8)),s=M(a(5)),c=M(a(6)),u=a(1),p=M(u),f=a(29),m=a(899),g=a(946),h=M(a(26));a(1072);var b=M(a(918)),v=M(a(1212)),y=M(a(1226)),k=M(a(90)),C=M(a(58)),S=a(898),E=a(17),x=a(428),w=M(a(1227));function M(e){return e&&e.__esModule?e:{default:e}}M(a(33)).default.base.NCDiv;var _={drop:function(e,t,a){var n=t.getItem();n.type&&"area"===n.type&&"grandson"!==n.areaType&&(0,x.addNewAreaItem)(e,{items:{areatype:n.areaCode},isExpand:!0})},canDrop:function(e,t){return"card"!==t.getItem().type}},A=(0,S.DropTarget)("area",_,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))(n=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.setModalVisible=function(e){a.setState({modalVisible:e})},a.addMetaInArea=function(e,t,n){var r=a.props.json;""!==e&&null!==e&&null!=e?(0,h.default)({url:"/nccloud/platform/templet/querymetapro.do",info:{name:(0,E.langCheck)("ZoneSetting-000017","pages",r),action:(0,E.langCheck)("ZoneSetting-000020","pages",r)},data:{metaid:e},success:function(e){if(e){var o=e.data,i=o.data,d=o.success;if(d&&i&&i.rows&&i.rows.length>0){var s=[];i.rows.map((function(e,t){s.push((0,l.default)({},e,{title:e.refcode+" "+e.refname,key:""+e.refcode,myUniqID:""+e.refcode,isLeaf:e.isleaf}))}));var c=[];k.default.forEach(s,(function(e){"205"===e.datatype&&c.push(e)})),a.setState({metaTree:s,targetAreaID:t,targetAreaType:n,canSelectTreeNodeList:c}),a.setModalVisible(!0)}else d&&i&&i.rows&&!i.rows.length&&(0,C.default)({status:"warning",msg:(0,E.langCheck)("ZoneSetting-000021","pages",r)})}}}):(0,C.default)({status:"warning",msg:(0,E.langCheck)("ZoneSetting-000019","pages",r)})},a.updateMetaTreeData=function(e){a.setState({metaTree:e})},a.addCard=function(e){var t=a.state.targetAreaID,n=a.props.areaList;n=k.default.cloneDeep(n);var r=-1,l="";k.default.forEach(n,(function(e,a){if(t===e.pk_area)return r=a,l=e.metaid,!1})),n[r].queryPropertyList=k.default.uniqBy(n[r].queryPropertyList.concat(e),"code"),k.default.forEach(n[r].queryPropertyList,(function(e,t){e.position=t+1,e.classid=l})),a.props.updateAreaList(n)},a.deleteCard=function(e,t){var n=a.props.areaList;(n=k.default.cloneDeep(n))[t].queryPropertyList.splice(e,1),a.props.updateAreaList(n),a.props.updateSelectCard({})},a.dragAreaItem=function(e,t){var n=a.props.areaList,r=(n=k.default.cloneDeep(n))[e];n.splice(e,1),n.splice(t,0,r),a.props.updateAreaList(n)},a.moveUp=function(e,t){var n=t-1;if(null===a.props.newAreaList[n]){var r=e.slice(0,n);n=k.default.findLastIndex(r,(function(e){return null!==e}))-1}return a.swapAreaItem(e,t,n)},a.moveDown=function(e,t){var n=t+1;return null===a.props.newAreaList[n]&&(n=e.slice(n).findIndex((function(e){return null!==e}))+n+1),a.swapAreaItem(e,t,n)},a.moveArea=function(e,t,n){t[n];var r=(0,x.getFormHeadCode)(t,a.props.zoneFormData.headcode),l=void 0;if("up"===e)if(t[l=n-1].relationcode===r){var o=t.findIndex((function(e){return e.code===r}));a.moveFormGroup("down",t,o)}else a.moveUp(t,n);else"down"===e&&(t[l=n+1].code===r?a.moveFormGroup("up",t,l):a.moveDown(t,n))},a.moveAreaItem=function(e,t){var n=k.default.cloneDeep(a.props.areaList),r=n[t],l=(0,x.getFormHeadCode)(n,a.props.zoneFormData.headcode);"up"===e&&0===t||"down"===e&&t===n.length-1||(r.code===l?a.moveFormGroup(e,n,t):a.moveArea(e,n,t),a.props.updateAreaList(n))},a.moveFormGroup=function(e,t,n){var r=a.getFormGroupList(t);if("up"===e){var l=n-1;a.insertAreaItem(t,n+r.length,l)}else if("down"===e){var o=n+r.length+1;a.insertAreaItem(t,n,o)}},a.swapAreaItem=function(e,t,a){var n;return n=[e[a],e[t]],e[t]=n[0],e[a]=n[1],n},a.insertAreaItem=function(e,t,a){var n=e.splice(a,1)[0];e.splice(t,0,n)},a.moveFormGroupItem=function(e,t){var n=a.props.areaList,r=(0,x.getFormHeadCode)(n,a.props.zoneFormData.headcode),l=k.default.findLastIndex(n,(function(e){return e.relationcode===r&&"1"===e.areatype}),t-1),o=k.default.findIndex(n,(function(e){return e.relationcode===r&&"1"===e.areatype}),t);a.moveChildrenItem(e,t,l,o)},a.moveGrandsonItem=function(e,t,n){var r=a.props.areaList,l=k.default.findLastIndex(r,(function(e){return e.relationcode===n.relationcode&&!0===e.isgrandson}),t-1),o=k.default.findIndex(r,(function(e){return e.relationcode===n.relationcode&&!0===e.isgrandson}),t);a.moveChildrenItem(e,t,l,o)},a.moveChildrenItem=function(e,t,n,r){var l=k.default.cloneDeep(a.props.areaList);if("up"===e){var o=n<0?0:n;a.insertAreaItem(l,o,t)}"down"===e&&a.insertAreaItem(l,r+1,t),a.props.updateAreaList(l)},a.deleteAreaItem=function(e,t){var n=k.default.cloneDeep(a.props.areaList);k.default.remove(n,(function(t){return t.pk_area===e})),a.props.updateAreaList(n),t&&t()},a.expandArea=function(e,t){var n=k.default.cloneDeep(a.props.areaList);n[e].isShow=t,a.props.updateAreaList(n)},a.getFormGroupList=function(e){var t=[].concat((0,r.default)(e)),n=t.filter((function(e){return e.relationcode})),l=(0,x.getFormHeadCode)(t,a.props.zoneFormData.headcode);return t=n.filter((function(e){return e.relationcode===l}))},a.state={modalVisible:!1,metaTree:[],targetAreaID:"",targetAreaType:"",canSelectTreeNodeList:[]},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentWillUnmount",value:function(){this.props.clearData(),this.props.clearZoneData()}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.json,n=t.canDrop,r=t.connectDropTarget,l=(t.areaList,t.newAreaList),o=t.templetid,i="#fff";return n&&(i="rgba(221, 236, 250, 0.3)"),console.log({newAreaList:l}),r(p.default.createElement("div",{type:"ncdiv",fieldid:"middle_area",className:"template-setting-content",style:{backgroundColor:i}},l.length>0?l.map((function(t,n){if(t)return p.default.createElement(v.default,{areaItem:t,key:n,areaListLength:l.length,id:t.pk_area,index:n,areatype:t.areatype,metaid:t.metaid,isShow:t.isShow,deleteCard:e.deleteCard,addMetaInArea:e.addMetaInArea,onDragArea:e.dragAreaItem,onMoveArea:e.moveAreaItem,onMoveFormGroup:e.moveFormGroupItem,onMoveGrandson:e.moveGrandsonItem,onDeleteArea:e.deleteAreaItem,onExpandArea:e.expandArea,json:a,pageStatus:e.props.status,isImplement:e.props.isImplement})})):p.default.createElement("div",{className:"empty-content"},!o&&p.default.createElement("div",null,p.default.createElement("img",{src:w.default}),p.default.createElement("p",null,(0,E.langCheck)("ZoneSetting-000199","pages",a)),p.default.createElement("p",null,(0,E.langCheck)("ZoneSetting-000201","pages",a)))),p.default.createElement(y.default,{metaTree:this.state.metaTree,canSelectTreeNodeList:this.state.canSelectTreeNodeList,modalVisible:this.state.modalVisible,targetAreaID:this.state.targetAreaID,targetAreaType:this.state.targetAreaType,targetAreaCardLength:this.state.targetAreaCardLength,setModalVisible:this.setModalVisible,addCard:this.addCard,updateMetaTreeData:this.updateMetaTreeData,json:this.props.json})))}}]),t}(u.Component))||n;t.default=(0,f.connect)((function(e){return{areaList:e.zoneSettingData.areaList,newAreaList:e.zoneSettingData.newAreaList,zoneFormData:e.zoneSettingData.zoneFormData}}),{clearData:m.clearData,clearZoneData:g.clearZoneData,updateAreaList:m.updateAreaList,updateSelectArea:m.updateSelectArea,updateSelectCard:m.updateSelectCard})((0,b.default)(A))},1212:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=Z(a(39)),l=Z(a(59)),o=Z(a(197)),i=Z(a(201)),d=Z(a(1213)),s=Z(a(203)),c=Z(a(65)),u=Z(a(12)),p=Z(a(4)),f=Z(a(8)),m=Z(a(5)),g=Z(a(6));a(75);var h=a(1),b=Z(h),v=a(29),y=Z(a(1216)),k=a(899),C=Z(a(1218)),S=Z(a(1221)),E=a(898),x=a(17),w=a(428),M=Z(a(58)),A=Z(a(1222)),D=Z(a(1223)),N=Z(a(1224)),I=Z(a(1225));function Z(e){return e&&e.__esModule?e:{default:e}}var P=Z(a(33)).default.base,T=P.NCDiv,O=P.NCPopconfirm,L=P.NCCheckbox,j=P.NCButton,V={beginDrag:function(e){return e.isImplement||(e.updateSelectArea(e.areaItem),(0,w.removeSelectCardCls)()),{id:e.id,index:e.index,type:e.type}},canDrag:function(e){return!e.isImplement}},F=(0,E.DragSource)("area",V,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(n=(0,E.DropTarget)("area",{drop:function(e,t,a){var n=t.getItem();if("card"===n.type){if(e.isImplement&&"0"===e.areatype)return;a.openAddNotMetaInArea(),t.isOver({shallow:!1})&&a.setState({currentNotMeta:{datatype:n.datatype},realAreaIndex:e.index})}else if("left"!==n.from){var r=n.index,l=e.index;if(r===l)return;e.onDragArea(r,l),t.getItem().index=l}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,p.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return a.moveCard=function(e,t,n){var r=a.props.areaList,l=(r=_.cloneDeep(r))[n].queryPropertyList,o=l[e];l.splice(e,1),l.splice(t,0,o),_.forEach(l,(function(e,t){e.position=t+1})),a.props.updateAreaList(r)},a.deleteCard=function(e,t){a.props.deleteCard(e,t)},a.addMetaInArea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.metaId,n=void 0===t?a.props.areaItem.metaid:t,r=e.areaId,l=void 0===r?a.props.id:r,o=e.areaType,i=void 0===o?a.props.areatype:o;a.props.addMetaInArea(n,l,i)},a.openBatchSetting=function(e){a.props.updateSelectCard({}),a.setModalVisibel(!0,e)},a.setModalVisibel=function(e,t){var n=a.props,r=n.areaList,l=n.index,o=t||l;a.props.updateBatchSource(r[o].queryPropertyList),a.setState({batchSettingModalVisibel:e,realAreaIndex:o})},a.openAddNotMetaInArea=function(){a.setAddDataModalVisibel(!0)},a.setAddDataModalVisibel=function(e){a.setState({addDataModalVisibel:e})},a.getAreaIndexByPk=function(e){if(e){var t=void 0;return a.props.areaList.map((function(a,n){a.pk_area===e.pk_area&&(t=n)})),t}},a.showOrHideAreaItem=function(e){var t="boolean"!=typeof e?!a.props.isShow:e;a.props.onExpandArea(a.props.index,t),t&&setTimeout((function(){a.setState({oprWidth:a.oprColRef&&a.oprColRef.clientWidth})}),0)},a.toggleFormGroup=function(e){var t=a.state.groupShowArr;t[e]=!t[e],a.setState({groupShowArr:t})},a.clearSelectCard=function(){(0,w.removeSelectCardCls)(),a.props.updateSelectCard({})},a.selectAreaItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.props.areaItem;e.stopPropagation();var n=a.props,r=n.selectCard,l=n.selectedArea;_.isEmpty(r)||a.clearSelectCard(),l&&t.pk_area!==l.pk_area&&a.props.updateSelectArea(t)},a.checkAreaCodeRepeat=function(e){var t=(0,w.findRepeatItemsByCode)(e);if(t&&t.length>0){var n=t.map((function(e){return e.name}));return(0,M.default)({status:"error",msg:""+(0,x.langCheck)("ZoneSetting-000046","pages",a.props.json)+(0,c.default)(n)+(0,x.langCheck)("102202APP-000011","pages",a.props.json)}),!0}return!1},a.handleAddFormGroup=function(e,t){e.stopPropagation();var n=a.props,r=n.areaItem,l=n.areaList,o=n.zoneFormData,i=(n.json,o.headcode),d=_.findLastIndex(l,(function(e){return e.relationcode===i}))+1;a.props.isShow||a.showOrHideAreaItem(!0),setTimeout((function(){a.addArea(a.props,{items:{areatype:"1",relationcode:i},position:t||d})&&void 0===t&&a["formGroupRef"+(r.groups.length-1)].scrollIntoView()}),0)},a.handleHideGray=function(e){a.setState({shouldHideGray:e})},a.handleGroupHideGray=function(e,t){var n=a.state.groupNotVisibleArr;n[t]=e,a.setState({groupNotVisibleArr:n})},a.getGroupContentVisible=function(e){return a.state.groupShowArr[e]||e>=a.state.groupShowArr.length},a.getGrandsonContentVisible=function(e){var t=a.state.grandsonObj.grandsonShowArr;return t[e]||e>=t.length},a.handleSpecialAreaDrop=function(e,t){var n=e.getItem();a.openAddNotMetaInArea(),a.setState({realAreaIndex:t,currentNotMeta:{datatype:n.datatype}})},a.checkAreaIsBeginOrEnd=function(e){var t=e.type,n=e.index,r=e.child,l=a.props.areaList[n],o=a.props.newAreaList.filter((function(e){return null!==e})),i=o[0],c=o[o.length-1],u=r&&(0,s.default)(r)[0],p=r&&(0,d.default)(r)[0],f=u&&a.props.areaItem[u];return"begin"===t?p?f[0].pk_area===p.pk_area:i.pk_area===l.pk_area:"end"===t?p?f[f.length-1].pk_area===p.pk_area:c.pk_area===l.pk_area:void 0},a.handleDeleteArea=function(e){return new i.default((function(t){var n=void 0,r=a.props,l=r.areaItem,o=r.onDeleteArea;l.groups&&l.groups.length>0&&(n=function(){return(0,M.default)({status:"warning",msg:(0,x.langCheck)("ZoneSetting-000210","pages",a.props.json)})}),o(e,n),a.props.updateSelectArea({}),t()}))},a.addArea=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!a.checkAreaCodeRepeat(a.props.areaList)&&w.addNewAreaItem.apply(a,t)},a.handleToggleFoldForm=function(e){var t=a.state.foldObj,n=a.props.areaItem.sides&&a.props.areaItem.sides.find((function(e){return"browse"===e.areastatus}));a.checkAreaCodeRepeat(a.props.areaList)||(a.props.isImplement||n||(n=a.addArea(a.props,{items:{areatype:"1",areastatus:"browse",relationcode:a.props.areaItem.code}}),t.emptyArea=_.cloneDeep(n)),t.foldShow=!t.foldShow,a.setState({foldObj:t},(function(){a.state.foldObj.foldShow||!a.props.isImplement&&_.isEqual(n,a.state.foldObj.emptyArea)&&a.handleDeleteArea(n.pk_area)})),a.selectAreaItem(e,n))},a.handleToggleSideForm=function(e){var t=a.state.sideObj,n=a.props.areaItem,r=n.sides&&n.sides.find((function(e){return"edit"===e.areastatus})),l=n.grandsons&&n.grandsons.length>0;a.props.isImplement||r||l||(r=a.addArea(a.props,{items:{areatype:"1",areastatus:"edit",relationcode:n.code}}),t.emptyArea=_.cloneDeep(r)),(r||l)&&(r||(r=n),t.sideShow=!t.sideShow,a.setState({sideObj:t},(function(){!0===t.sideShow?a.selectAreaItem(e,r):(!a.props.isImplement&&_.isEqual(r,a.state.sideObj.emptyArea)&&a.handleDeleteArea(r.pk_area),a.props.updateSelectArea({}))})))},a.handleToggleGrandson=function(e){var t=a.state.grandsonObj;t.grandsonShowArr[e]=!t.grandsonShowArr[e],a.setState({grandsonObj:t})},a.handleFoldHideGray=function(e){var t=a.state.foldObj;t.foldNotVisible=e,a.setState({foldObj:t})},a.handleGrandsonHideGray=function(e,t){var n=a.state.grandsonObj;n.grandsonNotVisibleArr[t]=e,a.setState({grandsonObj:n})},a.copyArea=function(e,t){var n=a.props.areaItem,r=n.templetid,l=n.code,i=n.metaid,d=n.metaname,s=n.queryPropertyList,c={relationcode:l,templetid:r,metaid:i,metaname:d,queryPropertyList:a.copyAreaProperty(s)},u=(0,o.default)(c,e);return a.addArea(a.props,{items:u,position:t})},a.copyAreaProperty=function(e){var t=[],a=["areaid","code","datatype","label","metapath","color","isrevise","required","disabled","visible","maxlength","defaultvalue","hyperlinkflag","defaultvar","define1","define2","define3","itemtype","myrefpk"];return e.forEach((function(e){var n={};a.forEach((function(t){var a=void 0!==e[t]?e[t]:"";n[t]=a})),n.pk_query_property="",n.areaid="",t.push(n)})),t},a.handleCopyFoldArea=function(e){var t=a.props.areaItem,n=a.state.foldObj;a.checkAreaCodeRepeat(a.props.areaList)||(t.sides&&t.sides.find((function(e){return"browse"===e.areastatus}))?(0,M.default)({status:"warning",msg:(0,x.langCheck)("ZoneSetting-000213","pages",a.props.json)}):a.copyArea({areatype:"1",areastatus:"browse",code:t.code+"_01",name:t.name+"_01"},e)&&(n.foldShow=!0,a.setState({foldObj:n})))},a.handleCopySideArea=function(e){var t=a.props.areaItem,n=a.state.sideObj;t.sides&&t.sides.find((function(e){return"edit"===e.areastatus}))?(0,M.default)({status:"warning",msg:(0,x.langCheck)("ZoneSetting-000214","pages",a.props.json)}):a.copyArea({areatype:"1",areastatus:"edit",code:t.code+"_02",name:t.name+"_02"},e)&&!1===n.sideShow&&(n.sideShow=!0,a.setState({sideObj:n}))},a.handleAddGrandson=function(e,t){e.stopPropagation(),a.addArea(a.props,{items:{areatype:"2",relationcode:a.props.areaItem.code,isgrandson:!0},position:t})},a.getAreaItemCls=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"area-item";if(e){var n=a.props,r=n.selectedArea,l=n.selectCard;return r&&r.pk_area===e.pk_area?t+=" active":l&&l.areaid===e.pk_area&&(t+=" card-active"),t}},a.renderHeaderBtns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"area",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.props,r=n.json,o=n.index,i=n.isImplement,d=n.areaItem,s=n.zoneFormData,c=["onAddFormGroup","onCopySideArea","onCopyFoldArea","onMoveDown","onMoveUp","onAddGrandsonTable","onDelete"];i&&c.forEach((function(e){return delete t[e]}));var u="opr-btn "+e+"-btn",p=t.child,f=t.hasMeta,m=t.onHideGray,g=t.onAddMeta,h=t.onBatchSetting,v=t.onAddFormGroup,y=t.onCopySideArea,k=t.onCopyFoldArea,C=t.onMoveDown,S=t.onMoveUp,E=t.onAddGrandsonTable,w=t.onDelete,M=a.checkAreaIsBeginOrEnd({type:"begin",index:o,child:p}),_=a.checkAreaIsBeginOrEnd({type:"end",index:o,child:p});return void 0!==p&&(o=a.getAreaIndexByPk(p)),b.default.createElement("span",{className:"area-item-button"},b.default.createElement(L,{onChange:m},(0,x.langCheck)("ZoneSetting-000013","pages",r)),f()?b.default.createElement("span",null,b.default.createElement("a",{onClick:g},(0,x.langCheck)("ZoneSetting-000014","pages",r))):b.default.createElement(l.default,{placement:"top",title:(0,x.langCheck)("ZoneSetting-000203","pages",r)}," ",b.default.createElement("a",{style:{color:"#b9b9b9"}},(0,x.langCheck)("ZoneSetting-000014","pages",r))," "),b.default.createElement("a",{onClick:h},(0,x.langCheck)("ZoneSetting-000015","pages",r)),d.code===(s&&s.headcode)&&v&&b.default.createElement("span",{className:u,onClick:v,style:{marginRight:8}},b.default.createElement("i",{title:(0,x.langCheck)("ZoneSetting-000209","pages",r),className:"iconfont icon-xinzengfenzu"})),y&&k&&b.default.createElement("span",{className:"btn-group body-btns",style:{marginRight:8}},d.code&&y?b.default.createElement("span",{className:u,onClick:y},b.default.createElement("i",{className:"iconfont icon-fuzhicela",title:(0,x.langCheck)("ZoneSetting-000211","pages",r)})," "):b.default.createElement(l.default,{className:u,placement:"top",title:(0,x.langCheck)("ZoneSetting-000221","pages",r)}," ",b.default.createElement("span",{onClick:y},b.default.createElement("i",{className:"iconfont icon-fuzhicela disabled",title:(0,x.langCheck)("ZoneSetting-000211","pages",r)})," ")),d.code&&k?b.default.createElement("span",{className:u,onClick:k},b.default.createElement("i",{className:"iconfont icon-fuzhikapian",title:(0,x.langCheck)("ZoneSetting-000212","pages",r)})," "):b.default.createElement(l.default,{className:u,placement:"top",title:(0,x.langCheck)("ZoneSetting-000221","pages",r)}," ",b.default.createElement("span",{onClick:k},b.default.createElement("i",{className:"iconfont icon-fuzhikapian disabled",title:(0,x.langCheck)("ZoneSetting-000212","pages",r)})," "))),b.default.createElement("span",{className:"btn-group"},C&&b.default.createElement("span",{className:u,onClick:!_&&C},b.default.createElement("i",{title:(0,x.langCheck)("ZoneSetting-000189","pages",r),className:"iconfont icon-xiangxia "+(_?"disabled":"")})),S&&b.default.createElement("span",{className:u,onClick:!M&&S},b.default.createElement("i",{title:(0,x.langCheck)("ZoneSetting-000188","pages",r),className:"iconfont icon-xiangshang "+(M?"disabled":"")})),E&&b.default.createElement("span",{className:u,onClick:E},b.default.createElement("i",{title:(0,x.langCheck)("ZoneSetting-000218","pages",r),className:"iconfont icon-xinzengsunbiao"})),w&&b.default.createElement("span",{className:u},b.default.createElement(O,{content:(0,x.langCheck)("ZoneSetting-000191","pages",r),onClose:w,placement:"topRight"},b.default.createElement("i",{className:"iconfont icon-shanchu",title:(0,x.langCheck)("ZoneSetting-000190","pages",r)})))))},a.renderHeader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"area",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.props,r=n.json,l=n.areaItem,o=t.headerTitle,i=void 0===o?l.name:o,d=t.headerVisible,s=void 0===d||d,c=t.contentVisible,u=t.onToggleHeader,p=t.onDrawerToggle,f=t.btnContainerStyle,m=c?b.default.createElement("i",{title:(0,x.langCheck)("ZoneSetting-000011","pages",r),className:"iconfont icon-bottom"}):b.default.createElement("i",{title:(0,x.langCheck)("ZoneSetting-000012","pages",r),className:"iconfont icon-right"});return b.default.createElement("div",{className:"area-item-header "+(s?"show":"hide"),fieldid:"header"},b.default.createElement("div",{className:"area-item-name-wrapper",onClick:u},b.default.createElement("span",{className:"area-item-name"},u&&m,b.default.createElement("span",{className:"area-name"},i))),b.default.createElement("div",{className:"area-item-button-wrapper",style:f},a.renderHeaderBtns(e,t)),p&&b.default.createElement("span",{className:"drawer-close-btn",onClick:p},b.default.createElement("i",{className:"iconfont icon-celashouqi"})))},a.renderFormGroupCard=function(e,t,n){var r=a.state,l=r.shouldHideGray,o=r.groupNotVisibleArr,i=a.props.areaItem,d=i.groups&&i.groups[t],s=a.getAreaIndexByPk(d);return l=o[t],a.renderCard({item:e,cardIndex:n,areaType:"form",areaIndex:s,shouldHideGray:l})},a.renderTableFoldCard=function(e,t,n){var r=a.props.areaItem.sides&&a.props.areaItem.sides[t],l=a.getAreaIndexByPk(r);return a.renderCard({item:e,cardIndex:n,areaType:"form",areaIndex:l,shouldHideGray:a.state.foldObj.foldNotVisible})},a.renderGrandsonCard=function(e,t,n){var r=a.props.areaItem.grandsons&&a.props.areaItem.grandsons[t],l=a.getAreaIndexByPk(r);return a.renderCard({item:e,cardIndex:n,areaType:"table",areaIndex:l,shouldHideGray:a.state.grandsonObj.grandsonNotVisibleArr[t]})},a.renderCard=function(e){var t=e.item,n=e.areaIndex,r=void 0===n?a.props.index:n,l=e.cardIndex,o=e.areaType,i=e.shouldHideGray,d=void 0===i?a.state.shouldHideGray:i;return b.default.createElement(y.default,{index:l,areaItem:a.props.areaItem,areaIndex:r,key:l,shouldHideGray:d,id:t.pk_query_property,name:t.label,areaid:a.props.areaItem.pk_area,visible:t.visible,color:t.color,required:t.required,moveCard:a.moveCard,deleteCard:function(e){return a.deleteCard(e,r)},cardInfo:t,areaType:o,json:a.props.json,isImplement:a.props.isImplement})},a.renderSearchArea=function(){return b.default.createElement("ul",{className:"area-item-content",fieldid:"content",style:{display:a.props.isShow?"block":"none"}},b.default.createElement("div",{className:"search-area-content"},b.default.createElement("div",{className:"query-btn-area"},b.default.createElement(j,{colors:"primary",fieldid:"search"},b.default.createElement("i",{className:"iconfont icon-sousuo"}))),a.props.areaItem.queryPropertyList.map((function(e,t){return a.renderCard({item:e,cardIndex:t,areaType:"search"})}))))},a.renderGroupHeader=function(e,t,n){var r=a.getGroupContentVisible(t);return b.default.createElement("div",{className:"form-group-header"},b.default.createElement("span",{className:"form-group-title"},b.default.createElement("span",{className:"group-name"},e.name),b.default.createElement("i",{className:"iconfont "+(r?"icon-shouqi":"icon-zhankai"),onClick:function(){return a.toggleFormGroup(t)}})),b.default.createElement("div",{className:"dashed-line"}),b.default.createElement("div",{className:"group-btns"},n))},a.renderAreaHeader=function(){var e=a.props,t=e.areaItem,n=e.areatype,r=e.id,l=e.index,o=e.onMoveArea;return a.renderHeader("area",{headerVisible:!0,contentVisible:a.props.isShow,onToggleHeader:a.showOrHideAreaItem,hasMeta:function(){return t.metaid},btnContainerStyle:"2"===n?{width:485}:{},onHideGray:a.handleHideGray,onAddMeta:function(){return a.addMetaInArea()},onBatchSetting:function(){return a.openBatchSetting()},onAddFormGroup:"1"===n&&a.handleAddFormGroup,onCopySideArea:"2"===n&&function(e){e.stopPropagation(),a.props.areaItem.code&&a.handleCopySideArea(l+1)},onCopyFoldArea:"2"===n&&function(e){e.stopPropagation(),a.props.areaItem.code&&a.handleCopyFoldArea(l+1)},onMoveDown:function(){return o("down",l)},onMoveUp:function(){return o("up",l)},onDelete:function(){return a.handleDeleteArea(r)}})},a.renderFormGroup=function(e,t){var n=a.props.selectedArea&&a.props.selectedArea.pk_area===e.pk_area,r=a.getAreaIndexByPk(e),l=a.state.groupShowArr,o=a.renderHeaderBtns("group",{child:{groups:e},headerVisible:n,hasMeta:function(){return e.metaid},onToggleHeader:function(){return a.toggleFormGroup(t)},onHideGray:function(e){return a.handleGroupHideGray(e,t)},onAddMeta:function(){return a.addMetaInArea({metaId:e.metaid,areaId:e.pk_area,areaType:e.areatype})},onBatchSetting:function(){return a.openBatchSetting(r)},onAddFormGroup:function(e){return a.handleAddFormGroup(e,r+1)},onMoveDown:function(){return a.props.onMoveFormGroup("down",r)},onMoveUp:function(){return a.props.onMoveFormGroup("up",r)},onDelete:function(){return a.props.onDeleteArea(e.pk_area)}}),i=a.renderGroupHeader(e,t,o);return b.default.createElement("div",{ref:function(e){return a["formGroupRef"+t]=e}},b.default.createElement(A.default,{group:e,groupIndex:t,groupShowArr:l,isActive:n,contentVisible:a.getGroupContentVisible(t),renderHeader:i,renderCard:function(e,n){return a.renderFormGroupCard(e,t,n)},emptyText:(0,x.langCheck)("ZoneSetting-000226","pages",a.props.json),onClick:function(t){return a.selectAreaItem(t,e)},onDrop:function(e){return a.handleSpecialAreaDrop(e,r)}}))},a.renderFormArea=function(){var e=a.props.areaItem;return b.default.createElement("ul",{className:"area-item-content",fieldid:"content",style:{display:a.props.isShow?"block":"none"}},b.default.createElement("div",{className:"form-area-content"},e.queryPropertyList.map((function(e,t){return a.renderCard({item:e,cardIndex:t,areaType:"form"})}))),e.groups&&e.groups.map((function(e,t){return a.renderFormGroup(e,t)})))},a.renderTableSide=function(e,t,n){var r=a.state.sideObj.sideShow,l=a.props.selectedArea&&a.props.selectedArea.pk_area===e.pk_area,o=n?t:a.getAreaIndexByPk(e),i=a.renderHeader("area",{headerTitle:e.name,hasMeta:function(){return e.metaid},btnContainerStyle:{width:380},onHideGray:a.handleFoldHideGray,onAddMeta:function(){return a.addMetaInArea({metaId:e.metaid,areaId:e.pk_area,areaType:e.areatype})},onBatchSetting:function(){return a.openBatchSetting(o)},onAddGrandsonTable:a.handleAddGrandson,onDelete:function(){a.handleDeleteArea(e.pk_area).then((function(){var e=a.state.sideObj;e.sideShow=!1,a.setState({sideObj:e})}))},onDrawerToggle:a.handleToggleSideForm});return b.default.createElement(N.default,{areaClassName:a.getAreaItemCls(e),side:e,isActive:l,sideIndex:t,renderHeader:i,renderCard:function(e,n){return a.renderTableFoldCard(e,t,n)},visible:r,onClick:function(t){return a.selectAreaItem(t,e)},onDrop:function(e){return a.handleSpecialAreaDrop(e,o)}},(function(){return b.default.createElement(T,{className:"grandson-content",fieldid:"grandson",areaCode:T.config.Area},a.props.areaItem.grandsons&&a.props.areaItem.grandsons.map((function(e,t){return a.renderGrandsonArea(e,t)})))}))},a.renderTableFold=function(e,t){var n=a.state.foldObj.foldShow,r=a.props.selectedArea&&a.props.selectedArea.pk_area===e.pk_area,l=a.getAreaIndexByPk(e),o=a.renderHeader("area",{headerTitle:e.name,contentVisible:n,btnContainerStyle:{width:355},hasMeta:function(){return e.metaid},onToggleHeader:a.handleToggleFoldForm,onHideGray:a.handleFoldHideGray,onAddMeta:function(){return a.addMetaInArea({metaId:e.metaid,areaId:e.pk_area,areaType:e.areatype})},onBatchSetting:function(){return a.openBatchSetting(l)},onDelete:function(){a.handleDeleteArea(e.pk_area).then((function(){var e=a.state.foldObj;e.foldShow=!1,a.setState({foldObj:e})}))}}),i=a.getAreaItemCls(e,"");return b.default.createElement(T,{className:"table-fold-area "+i,fieldid:"table-fold",areaCode:T.config.Area},b.default.createElement(D.default,{fold:e,foldIndex:t,isActive:r,renderHeader:o,renderCard:function(e,n){return a.renderTableFoldCard(e,t,n)},visible:n,onClick:function(t){return a.selectAreaItem(t,e)},onDrop:function(e){return a.handleSpecialAreaDrop(e,l)}}))},a.renderGrandsonArea=function(e,t){var n=a.props.selectedArea&&a.props.selectedArea.pk_area===e.pk_area,r=a.getAreaIndexByPk(e),l=a.getGrandsonContentVisible(t),o=a.renderHeader("area",{child:{grandsons:e},headerTitle:e.name,hasMeta:function(){return e.metaid},contentVisible:l,onToggleHeader:function(){return a.handleToggleGrandson(t)},onHideGray:function(e){return a.handleGrandsonHideGray(e,t)},onAddMeta:function(){return a.addMetaInArea({metaId:e.metaid,areaId:e.pk_area,areaType:e.areatype})},onBatchSetting:function(){return a.openBatchSetting(r)},onAddGrandsonTable:function(e){return a.handleAddGrandson(e,r+1)},onMoveDown:function(){return a.props.onMoveGrandson("down",r,e)},onMoveUp:function(){return a.props.onMoveGrandson("up",r,e)},onDelete:function(){return a.handleDeleteArea(e.pk_area)}});return b.default.createElement(I.default,{areaClassName:a.getAreaItemCls(e),grandson:e,grandsonIndex:r,isActive:n,contentVisible:l,renderHeader:o,renderCard:function(e,n){return a.renderGrandsonCard(e,t,n)},isImplement:a.props.isImplement,onClick:function(t){return a.selectAreaItem(t,e)},onDrop:function(e){return a.handleSpecialAreaDrop(e,r)},onDragArea:a.props.onDragArea})},a.renderTableArea=function(){var e=a.props.areaItem,t=e.sides&&[].concat((0,r.default)(e.sides));return e.grandsons&&(t=[].concat((0,r.default)(t),(0,r.default)(e.grandsons))),b.default.createElement("ul",{className:"area-item-content",fieldid:"content",style:{display:a.props.isShow?"block":"none"}},b.default.createElement("div",{className:"table-area-content",style:a.hideTableOprCol()?{marginRight:0}:{marginRight:a.state.oprWidth}},a.renderTableOperateCol(),a.props.areaItem.queryPropertyList.map((function(e,t){return a.renderCard({item:e,cardIndex:t,areaType:"table"})}))),t&&t.map((function(n,r){var l=t.find((function(e){return"edit"===e.areastatus&&!0!==e.isgrandson}));if(!0===n.isgrandson){if(!l)return a.renderTableSide(e,a.props.index,!0)}else{if("browse"===n.areastatus)return a.renderTableFold(n,r);if("edit"===n.areastatus)return a.renderTableSide(n,r)}})))},a.renderTableOperateCol=function(){var e=a.props,t=e.areaItem,n=e.json,r=e.isImplement,o=a.state.foldObj.foldShow?(0,x.langCheck)("ZoneSetting-000217","pages",n):(0,x.langCheck)("ZoneSetting-000215","pages",n);return a.hideTableOprCol()?null:b.default.createElement("div",{className:"operate-col",ref:function(e){return a.oprColRef=e}},b.default.createElement("li",{className:"property-item table-content normal-card"},b.default.createElement("div",{className:"table-item"},b.default.createElement("div",{className:"item-name"},b.default.createElement("span",{className:"title"},(0,x.langCheck)("ZoneSetting-000225","pages",n))," "),b.default.createElement("div",{className:"item-content oper-col-content"},!r||!t.sides||t.sides.find((function(e){return"edit"===e.areastatus}))||t.grandsons&&0!==t.grandsons.length?t.code?b.default.createElement("span",{className:"btn-link",style:{marginRight:20},onClick:a.handleToggleSideForm},(0,x.langCheck)("ZoneSetting-000216","pages",n)):b.default.createElement(l.default,{placement:"top",title:(0,x.langCheck)("ZoneSetting-000221","pages",n)}," ",b.default.createElement("span",{className:"btn-link disabled",style:{marginRight:20}},(0,x.langCheck)("ZoneSetting-000216","pages",n))):null,r&&t.sides&&!t.sides.find((function(e){return"browse"===e.areastatus}))?null:t.code?b.default.createElement("span",{className:"btn-link",onClick:a.handleToggleFoldForm},o):b.default.createElement(l.default,{placement:"top",title:(0,x.langCheck)("ZoneSetting-000221","pages",n)}," ",b.default.createElement("span",{className:"btn-link disabled"},o))))))},a.hideTableOprCol=function(){var e=a.props,t=e.areaItem,n=e.isImplement;return!(t.grandsons&&t.grandsons.length>0)&&(n&&(!t.sides||t.sides&&0===t.sides.length))},a.renderAreaContent=function(){var e=void 0;switch(a.props.areaItem.areatype){case"0":e=a.renderSearchArea();break;case"1":case"3":e=a.renderFormArea();break;case"2":e=a.renderTableArea()}return e},a.state={isShow:e.isShow,batchSettingModalVisibel:!1,addDataModalVisibel:!1,shouldHideGray:!1,currentNotMeta:{},realAreaIndex:e.index,groupShowArr:e.areaItem.groups?[].concat((0,r.default)(e.areaItem.groups)).fill(!0):[],groupNotVisibleArr:e.areaItem.groups?[].concat((0,r.default)(e.areaItem.groups)).fill(!1):[],foldObj:e.areaItem.sides?{foldShow:!1,foldNotVisible:!1,emptyArea:{}}:{},sideObj:e.areaItem.sides?{sideShow:!1,sideNotVisible:!1,emptyArea:{}}:{},grandsonObj:{grandsonShowArr:e.areaItem.grandsons?[].concat((0,r.default)(e.areaItem.grandsons)).fill(!0):[],grandsonNotVisibleArr:e.areaItem.grandsons?[].concat((0,r.default)(e.areaItem.grandsons)).fill(!1):[]},oprWidth:150},a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){1==this.props.areaListLength&&this.showOrHideAreaItem(!0)}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource,a=e.connectDropTarget,n=e.areaList,r=e.index,l=e.areaItem,o=this.getAreaItemCls(l),i=n[r]&&!1===n[r].validate?{borderColor:"#f5222d"}:{};return t(a(b.default.createElement("div",{type:"ncdiv",fieldid:l.code+"_area",className:o,onClick:this.selectAreaItem,style:i},this.renderAreaHeader(),this.renderAreaContent(),this.state.batchSettingModalVisibel&&b.default.createElement(C.default,{batchSettingModalVisibel:this.state.batchSettingModalVisibel,areaIndex:this.state.realAreaIndex,setModalVisibel:this.setModalVisibel,json:this.props.json}),b.default.createElement(S.default,{areatype:this.props.areatype,addDataModalVisibel:this.state.addDataModalVisibel,areaIndex:this.state.realAreaIndex,setAddDataModalVisibel:this.setAddDataModalVisibel,json:this.props.json,propperty:this.state.currentNotMeta}))))}}]),t}(h.Component))||n)||n;t.default=(0,v.connect)((function(e){return{selectedArea:e.zoneSettingData.selectedArea,areaList:e.zoneSettingData.areaList,newAreaList:e.zoneSettingData.newAreaList,selectCard:e.zoneSettingData.selectCard,zoneFormData:e.zoneSettingData.zoneFormData}}),{updateSelectCard:k.updateSelectCard,updateSelectArea:k.updateSelectArea,updateBatchSource:k.updateBatchSource,updateAreaList:k.updateAreaList})(F)},1216:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=S(a(203)),l=S(a(3)),o=S(a(2)),i=S(a(12)),d=S(a(4)),s=S(a(8)),c=S(a(5)),u=S(a(6)),p=a(898),f=a(1),m=S(f),g=a(29),h=a(899),b=a(1217),v=a(428),y=a(17),k=S(a(58)),C=S(a(90));function S(e){return e&&e.__esModule?e:{default:e}}var E=(0,p.DropTarget)("card",{hover:function(e,t,a){t.getItem().index,e.index},drop:function(e,t,a){var n=t.getItem(),r=e.index;t.didDrop()||n.index===r||n.areaIndex!==e.areaIndex||e.moveCard(n.index,r,e.areaIndex)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=(0,p.DragSource)("card",{beginDrag:function(e){return{id:e.id,index:e.index,areaIndex:e.areaIndex}},isDragging:function(e,t){return t.getItem().id===e.id}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(n=function(e){function t(e){(0,d.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.deleteCard=function(e){e.stopPropagation();var t=a.props.areaList[a.props.areaIndex].queryPropertyList[a.props.index];a.props.isImplement&&1==t.isfixedcondition?(0,k.default)({status:"warning",msg:(0,y.langCheck)("ZoneSetting-000231","pages",a.props.json)}):a.props.deleteCard(a.props.index)},a.selectThisCard=function(e){e.stopPropagation(),a.updateThisCard(e),C.default.isEmpty(a.props.selectedArea)||a.props.updateSelectArea({})},a.updateThisCard=function(e){var t=a.props,n=t.areaList,r=t.areaIndex,l=t.index,o=n[r].queryPropertyList[l];a.updateActiveCardCls(e),a.props.updateSelectCard(o)},a.updateActiveCardCls=function(e){(0,v.removeSelectCardCls)(),e&&e.currentTarget&&e.currentTarget.classList.add("select-card")},a.getCardClassName=function(){var e=a.props,t=e.selectCard,n=e.required,r=e.id,l=e.areaid,o=e.cardInfo,i=e.isOver?" hover":"",d=1==o.disabled?" disabled-card":"",s="";return n&&(s=" required-card"),""+(s=t.pk_query_property===r&&t.areaid===l?"select-card"+s:"normal-card"+s)+i+d},a.renderCard=function(e){e.opacity;var t=e.showName,n=a.props,r=n.areaType,i=n.color,d=n.cardInfo,s=n.visible,c=n.selectCard,u=(n.isOver,n.json),p=a.getCardClassName(),f="table"!==r?"card":r,g=(0,o.default)({},d,{onClick:a.selectThisCard}),h={};return d.pk_form_property!==c.pk_form_property||"table"!==f||isNaN(c.width)||(h.minWidth=c.width+"px",c.width&&+c.width<120&&(h.minWidth=120)),m.default.createElement("li",{className:"property-item "+f+"-content "+p,fieldid:d.code,onClick:a.selectThisCard},m.default.createElement("div",(0,l.default)({style:{color:i},className:f+"-item",title:t},"style",h),"search"!==r&&m.default.createElement("div",{className:"item-name"},m.default.createElement("span",{className:"title"},t)),m.default.createElement("div",{className:"item-content"},b.getItemTypeCom.call(a,g,r,u)),m.default.createElement("span",{className:"delete-card",onClick:a.deleteCard}," x "),!s&&m.default.createElement("span",{className:"hidden-tag"})))},a.state={radioSelectedValue:"",passwordValue:""},a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!((0,r.default)(e.selectCard).length>0&&!C.default.isEqual(e.selectCard,this.props.selectCard))&&(e.shouldHideGray!==this.props.shouldHideGray||(e.areaItem.areatype,this.props.areaItem.areatype,!0))}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.visible,n=e.shouldHideGray,r=e.isDragging,l=e.connectDragSource,o=e.connectDropTarget;console.log("render card");var i=r?.3:a?1:.6,d=C.default.isEmpty(t)?String.fromCharCode(160):t;return!0===n&&!1===a?null:l(o(this.renderCard({opacity:i,showName:d})))}}]),t}(f.Component))||n)||n;t.default=(0,g.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard,selectedArea:e.zoneSettingData.selectedArea,areaList:e.zoneSettingData.areaList}}),{updateSelectArea:h.updateSelectArea,updateSelectCard:h.updateSelectCard})(E)},1217:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(18)),r=m(a(12)),l=m(a(4)),o=m(a(8)),i=m(a(5)),d=m(a(6)),s=m(a(2));t.getItemTypeCom=function(e,t,a){var n=this,r=e.disabled,l=e.label,o=e.onClick,i=e.disabled,d="32"===e.datatype?[a["ZoneSetting-000229"]+"=Y",a["ZoneSetting-000230"]+"=N"]:e.showdataval&&e.showdataval.split(","),c={disabled:r,placeholder:"search"===t&&l,onClick:o},p={input:u.default.createElement(b,(0,s.default)({onChange:function(){}},c)),residtxt:u.default.createElement(b,(0,s.default)({onChange:function(){}},c)),password:u.default.createElement(v,(0,s.default)({value:this.state.passwordValue,onChange:function(e){return n.setState({passwordValue:e.split("").fill("●").join("")})}},c)),label:u.default.createElement(v,(0,s.default)({isViewMode:!0},c)),number:"between"===e.queryOperateType?u.default.createElement(w,{start:{scale:Number(-1),max:e.max,min:e.min,placeholder:"起始"},end:{scale:Number(-1),max:e.max,min:e.min,placeholder:"结束"}}):u.default.createElement(x,(0,s.default)({max:e.max,min:e.min,suffix:e.suffix,scale:Number(-1),formNumber:!0},c)),textarea:u.default.createElement(M,(0,s.default)({style:{resize:"none"}},c)),radio:(m=u.default.createElement(y,{color:"info",disabled:i}),d&&d.length>0&&(m=d.map((function(e,t){var a=e.indexOf("=")>0?e.split("="):[];return u.default.createElement(y,{color:"info",disabled:i,value:a[1],key:t},a[0])}))),u.default.createElement(O,{selectedValue:n.state.radioSelectedValue,onChange:function(e){return n.setState({radioSelectedValue:e})}},m)),checkbox_switch:u.default.createElement(k,{className:"single-checkbox",disabled:i,colors:"primary",type:"switch"}),checkbox:d?d&&d.map((function(e,t){var a=e.indexOf("=")>0?e.split("="):[];return u.default.createElement(k,{disabled:i,colors:"primary",key:t},a[0])})):u.default.createElement(k,{className:"single-checkbox",disabled:i,colors:"primary"}),NCTZDatePickerStart:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(_,c)),NCTZDatePickerRangeDay:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(A,(0,s.default)({format:e.format||"YYYY-MM-DD HH:mm:ss"},c))),NCTZDatePickClientHourTime:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(D,(0,s.default)({format:e.format||"YYYY-MM-DD HH:mm:ss"},c))),datetimepicker:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(N,c)),timepicker:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(I,(0,s.default)({format:"HH:mm:ss"},c))),NCTZDatePickerEnd:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(Z,c)),datePickerNoTimeZone:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(P,c)),select:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(C,(0,s.default)({multiple:!!e.isMultiSelectedEnabled,labelInValue:!0},c),d&&d.map((function(e,t){var a=e.indexOf("=")>0?e.split("="):[];return u.default.createElement(L,{title:a[0],value:a[1],key:t},a[0])})))),datepicker:u.default.createElement("div",{className:"item-wrapper"},u.default.createElement(E,c)),switch_browse:u.default.createElement(S,{disabled:i}),switch:u.default.createElement(S,{disabled:i}),refer:u.default.createElement(j,(0,s.default)({item:e},c))},f="search"===t&&["radio","checkbox_switch","checkbox","switch_browse","switch"].includes(e.itemtype)?"select":e.itemtype;var m;return p[f]};var c=a(1),u=m(c),p=m(a(33)),f=a(429);function m(e){return e&&e.__esModule?e:{default:e}}var g=p.default.base,h=p.default.high,b=g.NCInput,v=g.NCFormControl,y=g.NCRadio,k=g.NCCheckbox,C=g.NCSelect,S=g.NCSwitch,E=g.NCDatePicker,x=g.NCNumber,w=g.NCBetweenNum,M=g.NCTextArea,_=g.NCTZDatePickerStart,A=g.NCTZDatePickerRangeDay,D=g.NCTZDatePickClientHourTime,N=g.NCTZDatePickClientTime,I=g.NCTimepicker,Z=g.NCTZDatePickerEnd,P=g.NCDatePickerNoTimeZone,T=h.Refer,O=y.NCRadioGroup,L=C.NCOption;var j=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.renderRefer=function(){var e=a.props,t=(e.item,(0,n.default)(e,["item"])),r=a.props.item.refcode;if(a.state["myRefDom"+r]){var l=(0,a.state["myRefDom"+r])();return u.default.createElement(T,(0,s.default)({foolValue:a.state.defaultvalueObj,onChange:function(e,t){a.setState({defaultvalueObj:t})},showHistory:!1},l.props,t))}f.createScript.call(a,""+r)},a.renderFakeRefer=function(){return u.default.createElement("div",{className:"refer-wrapper "+(a.props.disabled?"refer-wrapper-disabled":""),onMouseEnter:a.renderRefer},u.default.createElement("div",{className:"refer",style:{backgroundColor:"black"==window.top.nccColor?"unset":a.props.disabled?"#f3f3f3":"#fff"}},u.default.createElement("div",{className:"u-form-control-wrapper"},u.default.createElement("input",{type:"text",class:"nc-input refer-input u-form-control md",placeholder:a.props.placeholder,disabled:a.props.disabled})),u.default.createElement("i",{className:"icon-refer",style:{cursor:"pointer"}})))},a.state={defaultvalueObj:{}},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.item,t=void 0;return(t=e.visible?e.refcode?this.renderRefer():this.renderFakeRefer():this.state["myRefDom"+e.refcode]?this.renderRefer():this.renderFakeRefer())||(t=this.renderFakeRefer()),u.default.createElement("div",null,t)}}]),t}(c.PureComponent)},1218:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(431)),r=v(a(140)),l=v(a(430)),o=v(a(12)),i=v(a(4)),d=v(a(8)),s=v(a(5)),c=v(a(6)),u=a(1),p=v(u),f=a(29),m=v(a(422)),g=a(899),h=v(a(1219)),b=a(17);function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel(!1),a.currentPage=1},a.onOkDialog=function(){var e=a.props,t=e.areaList,n=e.areaIndex,r=e.batchSource;t=_.cloneDeep(t),r=_.cloneDeep(r),a.setCheckedByCheckAll(r),t[n].queryPropertyList=r,a.props.updateAreaList(t),a.showModalHidden()},a.saveNewSource=function(e){var t=a.props.batchSource,n=e.concat(t.slice(e.length,t.length));a.setState({newSource:e}),a.props.updateBatchSource(n)},a.saveAllNewSource=function(e,t,n){var r=a.props.batchSource,l=_.cloneDeep(r);l.map((function(e){return e[t]=n})),a.setState({newSource:e}),a.props.updateBatchSource(l)},a.loadNextPage=function(){var e=a.state.newSource,t=e.concat(a.props.batchSource.slice(e.length,e.length+a.pageSize));a.setCheckedByCheckAll(t),a.setState({newSource:t})},a.handleScrollTable=function(){var e=a.batchTableRef&&a.batchTableRef.querySelector(".ant-table-body");e&&e.scrollTop+e.clientHeight>=.8*e.scrollHeight&&a.currentPage<a.totalPage&&(a.currentPage++,a.loadNextPage())},a.setCheckedByCheckAll=function(e){var t=function(t,a,n){n||e.map((function(e){return e[t]=a}))},o=!0,i=!1,d=void 0;try{for(var s,c=(0,r.default)((0,n.default)(a.checkAllCheckedObj));!(o=(s=c.next()).done);o=!0){var u=s.value,p=(0,l.default)(u,2),f=p[0],m=p[1];t(f,m.checked,m.indeterminate)}}catch(e){i=!0,d=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw d}}},a.pageSize=30,a.currentPage=1,a.totalPage=Math.ceil(a.props.batchSource.length/a.pageSize),a.state={newSource:[]},a.checkAllCheckedObj={},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.batchSource.slice(0,this.pageSize);this.setState({newSource:e})}},{key:"componentWillReceiveProps",value:function(e){!0===e.batchSettingModalVisibel&&this.setState({newSource:e.batchSource.slice(0,this.state.newSource.length)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.areaIndex,n=t.areaList,r=t.json,l=(t.batchSource,this.state.newSource);return p.default.createElement(m.default,{closable:!0,className:"zonesetting-batch-setting-modal",style:{margin:0},title:(0,b.langCheck)("ZoneSetting-000016","pages",r),maskClosable:!1,visible:this.props.batchSettingModalVisibel,okText:(0,b.langCheck)("ZoneSetting-000005","pages",r),cancelText:(0,b.langCheck)("ZoneSetting-000006","pages",r),onOk:this.onOkDialog,onCancel:this.showModalHidden,destroyOnClose:!0,width:"98%",bodyHeight:document.body.clientHeight-110+"px",fieldid:"batchSetting"},p.default.createElement("div",{type:"ncdiv",fieldid:"batchSetting_table",ref:function(t){return e.batchTableRef=t},onScrollCapture:this.handleScrollTable},p.default.createElement(h.default,{newSource:l,areatype:n[a].areatype,saveNewSource:this.saveNewSource,saveAllNewSource:this.saveAllNewSource,forwardRef:function(t,a){return e.checkAllCheckedObj[t]=a}})))}}]),t}(u.Component);t.default=(0,f.connect)((function(e){return{areaList:e.zoneSettingData.areaList,batchSource:e.zoneSettingData.batchSource}}),{updateAreaList:g.updateAreaList,updateBatchSource:g.updateBatchSource})(y)},1219:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=S(a(963)),r=S(a(2)),l=S(a(3)),o=S(a(12)),i=S(a(4)),d=S(a(8)),s=S(a(5)),c=S(a(6)),u=S(a(18)),p=S(a(139));a(964),a(195);var f=a(1),m=S(f),g=a(29),h=a(429),b=a(899),v=a(428),y=S(a(913)),k=S(a(90)),C=a(1220);function S(e){return e&&e.__esModule?e:{default:e}}var E=S(a(33)).default.base.NCCheckbox,x=(p.default.Search,function(e,t){return m.default.createElement("div",{fieldid:t},e)}),w=function(e){var t=e.fieldid,a=(0,u.default)(e,["fieldid"]);return m.default.createElement("th",a,x(a.children,t))},M=function(e){var t=e.fieldid,a=(0,u.default)(e,["fieldid"]),n=x(e.children,t);return void 0===e.children[2]&&(n=m.default.createElement("div",{fieldid:t},m.default.createElement("span",null," "))),m.default.createElement("td",a,n)},_=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleVisibleChange=function(e,t){!1!==e&&a.setState((0,l.default)({},"visible"+t,e))},a.hidePopover=function(e){a.setState((0,l.default)({},"visible"+e,!1))},a.onCellChange=function(e,t){return function(n){var r=a.props.newSource,l=(r=k.default.cloneDeep(r))[e];l&&(l[t]=n,a.props.saveNewSource(r))}},a.onCheckedChange=function(e,t){return function(n){var r=a.props.newSource,l=(r=k.default.cloneDeep(r))[e];l&&(l[t]=n,a.props.saveNewSource(r))}},a.onAllColCellChange=function(e){return function(t){a.saveAllCellValue(t,e)}},a.saveAllCellValue=function(e,t){var n=a.props.newSource;n=k.default.cloneDeep(n),k.default.forEach(n,(function(a){a[t]=e})),a.props.saveAllNewSource(n,t,e)},a.publicIndeterminate=function(e,t,n){(e=a.props.batchSource.map((function(e){return e[n]}))).includes(!0)&&(e.includes(null)||e.includes(!1))?k.default.forEach(t,(function(e,t){e.property==n&&(e.indeterminate=!0,e.checkAll=!1)})):e.includes(!0)?k.default.forEach(t,(function(e,t){e.property==n&&(e.indeterminate=!1,e.checkAll=!0)})):k.default.forEach(t,(function(e,t){e.property==n&&(e.indeterminate=!1,e.checkAll=!1)})),e=[]},a.columns=[],a.state={visible:!1},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.newSource,l=t.areatype;k.default.forEach(a,(function(e,t){e.key=t}));var o=[],i=0,d=[];if("0"===l){var s=[],c=[],u=[],p=[],f=[],g=[],b=[],S=[],x=[],_=[],A=[],D=[];d=(0,h.batchSearchData)(),k.default.forEach(a,(function(e,t){s.push(e.isnotmeta),c.push(e.isuse),u.push(e.disabled),p.push(e.visible),f.push(e.ismultiselectedenabled),g.push(e.isfixedcondition),b.push(e.required),S.push(e.isquerycondition),x.push(e.containlower),_.push(e.ischeck),A.push(e.isbeyondorg),D.push(e.usefunc)})),this.publicIndeterminate(s,d,"isnotmeta"),this.publicIndeterminate(c,d,"isuse"),this.publicIndeterminate(u,d,"disabled"),this.publicIndeterminate(p,d,"visible"),this.publicIndeterminate(f,d,"ismultiselectedenabled"),this.publicIndeterminate(g,d,"isfixedcondition"),this.publicIndeterminate(b,d,"required"),this.publicIndeterminate(S,d,"isquerycondition"),this.publicIndeterminate(x,d,"containlower"),this.publicIndeterminate(_,d,"ischeck"),this.publicIndeterminate(A,d,"isbeyondorg"),this.publicIndeterminate(D,d,"usefunc")}else if("1"===l){var N=[],I=[],Z=[],P=[],T=[];d=(0,h.batchFormData)(),k.default.forEach(a,(function(e,t){N.push(e.isrevise),I.push(e.isnextrow),Z.push(e.visible),P.push(e.required),T.push(e.disabled)})),this.publicIndeterminate(N,d,"isrevise"),this.publicIndeterminate(I,d,"isnextrow"),this.publicIndeterminate(Z,d,"visible"),this.publicIndeterminate(P,d,"required"),this.publicIndeterminate(T,d,"disabled")}else{var O=[],L=[],j=[],V=[],F=[];d=(0,h.batchTableData)(),k.default.forEach(a,(function(e,t){O.push(e.isrevise),L.push(e.istotal),j.push(e.visible),V.push(e.required),F.push(e.disabled)})),this.publicIndeterminate(O,d,"isrevise"),this.publicIndeterminate(L,d,"istotal"),this.publicIndeterminate(j,d,"visible"),this.publicIndeterminate(V,d,"required"),this.publicIndeterminate(F,d,"disabled")}k.default.forEach(d,(function(t,n){var r={dataIndex:t.property,width:t.width};switch("label"===r.dataIndex&&(r.fixed="left"),"code"===r.dataIndex&&(r.fixed="left"),i+=t.width,"checkbox"===t.type?r.title=m.default.createElement(E,{onChange:function(a){e.saveAllCellValue(a,t.property)},indeterminate:t.indeterminate,checked:t.checkAll,ref:function(a){return e.props.forwardRef(t.property,{checked:t.checkAll,indeterminate:t.indeterminate})}},t.title):r.title=t.title,t.type){case"input":r.render=function(a,n,r){return m.default.createElement(C.EditableCell,{value:a,property:t.property,updateValue:e.onCellChange(r,t.property)})};break;case"checkbox":r.render=function(a,n,r){return m.default.createElement(C.EditableCheck,{value:a,property:t.property,onChange:e.onCellChange(r,t.property)})};break;case"select":r.render=function(a,n,r){return m.default.createElement(C.SelectCell,{selectValue:a,property:t.property,selectObj:t.selectObj,onChange:e.onCellChange(r,t.property)})};break;case"text":r.title=t.title;break;case"formula":r.render=function(n,r,l){return m.default.createElement(C.FormulaCell,{value:n,property:t.property,onFormula:function(){e.props.formula[t.property]||(v.handleFormula.call(e,a[l]),e.props.toggleFormula(t.property,!0)),e.props.setCurrentBatchCell({index:l,code:t.property})},updateValue:e.onCellChange(l,t.property)})}}o.push(r)}));var z=o.map((function(e){var t=e.dataIndex||e.key;return(0,r.default)({},e,{onCell:function(e){return{fieldid:t}},onHeaderCell:function(e){return{fieldid:t}}})}));return m.default.createElement(n.default,{bordered:!0,dataSource:a,columns:z,components:{header:{cell:w},body:{cell:M}},pagination:!1,scroll:{x:i,y:.72*document.documentElement.clientHeight},locale:{emptyText:m.default.createElement(y.default,{type:"treeCardTable"})}})}}]),t}(f.Component);t.default=(0,g.connect)((function(e){return{formula:e.zoneSettingData.formula,areaList:e.zoneSettingData.areaList,batchSource:e.zoneSettingData.batchSource}}),{toggleFormula:b.toggleFormula,setFormulaInfo:b.setFormulaInfo,setCurrentBatchCell:b.setCurrentBatchCell})(_)},1220:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormulaCell=t.SelectCell=t.EditableCheck=t.EditAllCell=t.EditableCell=void 0;var n=g(a(42)),r=g(a(12)),l=g(a(4)),o=g(a(8)),i=g(a(5)),d=g(a(6)),s=g(a(139));a(91),a(195);var c=a(1),u=g(c),p=g(a(90)),f=a(17),m=a(196);function g(e){return e&&e.__esModule?e:{default:e}}var h=g(a(33)).default.base,b=h.NCCheckbox,v=h.NCSelect,y=v.NCOption,k=s.default.Search;t.EditableCell=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleChange=function(e){var t=e.target.value;a.props.updateValue(t)},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.value!==e.value}},{key:"render",value:function(){var e=this,t=this.props,a=t.value;t.property;return u.default.createElement(s.default,{size:"small",style:{width:100},value:a,onChange:this.handleChange,ref:function(t){return e.input=t}})}}]),t}(u.default.Component),t.EditAllCell=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleClick=function(e){a.props.onChange(a.state.inputValue),a.props.hidePopover()},a.close=function(){a.props.hidePopover()},a.changeValue=function(e){a.setState({inputValue:e.target.value})},a.state={inputValue:"",json:{}},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,m.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this.state.json;return u.default.createElement("div",{className:"custom-filter-dropdown"},u.default.createElement(s.default,{value:this.state.inputValue,size:"small",ref:"customInput",onChange:this.changeValue}),u.default.createElement(n.default,{type:"primary",onClick:this.handleClick},(0,f.langCheck)("ZoneSetting-000005","pages",e)),u.default.createElement(n.default,{onClick:this.close},(0,f.langCheck)("ZoneSetting-000006","pages",e)))}}]),t}(u.default.Component),t.EditableCheck=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleChange=function(e){a.props.onChange(e)},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.value!==e.value}},{key:"render",value:function(){var e=this.props.value;return u.default.createElement(b,{checked:Boolean(e),onChange:this.handleChange})}}]),t}(u.default.Component),t.SelectCell=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleSelectChange=function(e){a.props.onChange(e)},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.selectValue!==e.selectValue}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectValue,n=t.selectObj,r=t.property;return u.default.createElement(v,{showClear:!1,value:p.default.isEmpty(a)?n[0].value:a,onChange:function(t){e.handleSelectChange(t)},size:"small",fieldid:r},"color"===r?n.map((function(e,t){return u.default.createElement(y,{key:t,value:e.value},u.default.createElement("span",{className:"template-setting-color-select"},u.default.createElement("span",null,e.name),u.default.createElement("span",{className:"color-select-color",style:{backgroundColor:e.value}})))})):n.map((function(e,t){return u.default.createElement(y,{key:t,value:e.value},e.name)})))}}]),t}(c.Component),t.FormulaCell=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.handleChange=function(e){var t=e.target.value;a.props.updateValue(t)},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.value!==e.value}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.onFormula;return u.default.createElement(k,{size:"small",style:{width:100},value:t,onChange:function(){},onSearch:a})}}]),t}(u.default.Component)},1221:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(139)),r=v(a(12)),l=v(a(4)),o=v(a(8)),i=v(a(5)),d=v(a(6));a(195);var s=a(1),c=v(s),u=v(a(90)),p=a(29),f=v(a(422)),m=a(899),g=a(429),h=a(17),b=a(428);function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setAddDataModalVisibel(!1),a.setState({notMetaDataName:"",notMetaDataCode:"",explainForName:"",explainForCode:""})},a.onOkDialog=function(){var e=!0,t=a.state,n=t.notMetaDataName,r=t.notMetaDataCode,l=a.props,o=l.json,i=l.propperty;if(a.checkDataCorrect(n).correct&&a.checkDataCorrect(r,"code").correct&&(e=!1),e)return""==n&&a.setState({explainForName:(0,h.langCheck)("ZoneSetting-000000","pages",o)}),void(""==r&&a.setState({explainForCode:(0,h.langCheck)("ZoneSetting-000000","pages",o)}));var d=a.props,s=d.areaList,c=d.areaIndex,u=s[c].queryPropertyList,p={},f=(0,g.getItemtypeByDatatype)(i.datatype);p="0"===a.props.areatype?{pk_query_property:"newNotMetaData"+(new Date).getTime(),areaid:s[c].pk_area,label:a.state.notMetaDataName,code:a.state.notMetaDataCode,metapath:"",isnotmeta:!0,isuse:!0,position:""+(u.length+1),opersign:"=@>@>=@<@<=@like@",opersignname:(0,h.langCheck)("ZoneSetting-000001","pages",o),defaultvalue:"",isfixedcondition:!1,required:!1,disabled:!1,visible:!0,ismultiselectedenabled:!1,isquerycondition:!1,datatype:i.datatype||"1",refname:"-99",containlower:!1,ischeck:!1,isbeyondorg:!1,usefunc:!1,showtype:"1",returntype:"refpk",define1:"",define2:"",define3:"",define4:"",define5:"",itemtype:f||"input",visibleposition:"",tablecode:"",querytablename:""}:{pk_query_property:"newNotMetaData"+(new Date).getTime(),areaid:s[c].pk_area,code:a.state.notMetaDataCode,datatype:i.datatype||"1",label:a.state.notMetaDataName,position:""+(u.length+1),metapath:"",color:(0,g.colorObj)()&&(0,g.colorObj)()[0].value,isrevise:!1,required:!1,disabled:!1,visible:!0,maxlength:"20",defaultvalue:"",hyperlinkflag:!1,defaultvar:"",define1:"",define2:"",define3:"",itemtype:f||"input"},"1"===a.props.areatype&&(p.colnum="1",p.isnextrow=!1),"2"===a.props.areatype&&(p.width="",p.istotal=!1),s[c].queryPropertyList=u.concat(p),a.setState({notMetaDataName:"",notMetaDataCode:"",explainForName:"",explainForCode:""}),a.props.updateAreaList(s),b.selectCardFromOther.call(a,p),a.showModalHidden()},a.isUniqueInQueryList=function(e){var t=a.props,n=t.areaList[t.areaIndex].queryPropertyList,r=!0;return u.default.forEach(n,(function(t){if(t.code===e)return r=!1,!1})),r},a.checkDataCorrect=function(e,t){var n=!0,r="",l=a.props.json;if("code"===t)if(""===e)r=(0,h.langCheck)("ZoneSetting-000000","pages",l),n=!1;else{/[\u4e00-\u9fa5]/.test(e)&&(r=(0,h.langCheck)("ZoneSetting-000002","pages",l),n=!1),a.isUniqueInQueryList(e)||(r=(0,h.langCheck)("ZoneSetting-000003","pages",l),n=!1)}else""===e&&(r=(0,h.langCheck)("ZoneSetting-000000","pages",l),n=!1);return{correct:n,errorMsg:r}},a.checkNameAndCodeCorrect=function(){var e=!1,t=a.state,n=t.notMetaDataName,r=t.notMetaDataCode;return a.checkDataCorrect(n).correct&&a.checkDataCorrect(r,"code").correct&&(e=!0),e},a.onPressEnter=function(){a.checkNameAndCodeCorrect()&&a.onOkDialog()},a.changeNotMetaDataName=function(e){a.setState({notMetaDataName:e.target.value});var t=a.checkDataCorrect(e.target.value),n=(t.correct,t.errorMsg);a.setState({explainForName:n})},a.changeNotMetaDataCode=function(e){a.setState({notMetaDataCode:e.target.value});var t=a.checkDataCorrect(e.target.value,"code"),n=(t.correct,t.errorMsg);a.setState({explainForCode:n})},a.componentWillUpdate=function(e,t){!a.props.addDataModalVisibel&&e.addDataModalVisibel&&setTimeout((function(){a.refs.addNotMetaDataInputDom.focus()}),0)},a.state={notMetaDataName:"",notMetaDataCode:"",explainForName:"",explainForCode:""},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.json;return c.default.createElement(f.default,{maskClosable:!1,customHeader:(0,h.langCheck)("ZoneSetting-000004","pages",e),wrapClassName:"add-not-meta-data",visible:this.props.addDataModalVisibel,okText:(0,h.langCheck)("ZoneSetting-000005","pages",e),cancelText:(0,h.langCheck)("ZoneSetting-000006","pages",e),onOk:this.onOkDialog,onCancel:this.showModalHidden,fieldid:"addNotMeta"},c.default.createElement("div",null,c.default.createElement("div",{className:"code-div",ref:"addNotMetaCodeDiv",style:""===this.state.explainForCode?{marginBottom:"19.09px"}:{}},c.default.createElement("span",null,(0,h.langCheck)("ZoneSetting-000007","pages",e)),c.default.createElement(n.default,{className:""===this.state.explainForCode?"":"has-error",ref:"addNotMetaDataInputDom",placeholder:(0,h.langCheck)("ZoneSetting-000008","pages",e),value:this.state.notMetaDataCode,onChange:this.changeNotMetaDataCode,onPressEnter:this.onPressEnter,fieldid:"notMetaCode"}),c.default.createElement("br",null),c.default.createElement("div",{style:{marginLeft:"26%",visibility:""===this.state.explainForCode?"hidden":"visible"},className:"form-explain"},this.state.explainForCode)),c.default.createElement("div",{ref:"addNotMetaNameDiv",className:"not-code",style:""===this.state.explainForName?{marginBottom:"19.09px"}:{}},c.default.createElement("span",null,(0,h.langCheck)("ZoneSetting-000009","pages",e)),c.default.createElement(n.default,{className:""===this.state.explainForName?"":"has-error",placeholder:(0,h.langCheck)("ZoneSetting-000010","pages",e),value:this.state.notMetaDataName,onChange:this.changeNotMetaDataName,onPressEnter:this.onPressEnter,fieldid:"notMetaName"}),c.default.createElement("br",null),c.default.createElement("div",{style:{marginLeft:"26%",visibility:""===this.state.explainForName?"hidden":"visible"},className:"form-explain"},this.state.explainForName))))}}]),t}(s.Component);t.default=(0,p.connect)((function(e){return{areaList:e.zoneSettingData.areaList}}),{updateAreaList:m.updateAreaList,updateSelectCard:m.updateSelectCard,updateSelectArea:m.updateSelectArea})(y)},1222:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=u(a(12)),l=u(a(4)),o=u(a(8)),i=u(a(5)),d=u(a(6)),s=a(1),c=u(s);function u(e){return e&&e.__esModule?e:{default:e}}var p=(0,a(898).DropTarget)("area",{drop:function(e,t,a){"card"===t.getItem().type&&e.onDrop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.group,a=e.isActive,n=e.contentVisible,r=e.renderCard,l=e.onClick,o=e.renderHeader,i=e.emptyText;return(0,e.connectDropTarget)(c.default.createElement("div",{type:"ncdiv",fieldid:t.code+"_group",className:"form-area-group "+(a?"active":""),onClick:l},o,c.default.createElement("div",{className:"form-area-content",style:{display:n?"block":"none"}},t.queryPropertyList.length>0?t.queryPropertyList.map(r):c.default.createElement("div",{className:"empty-area"},c.default.createElement("i",{className:"iconfont icon-zhuyi1"}),i))))}}]),t}(s.Component))||n;t.default=p},1223:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=u(a(12)),l=u(a(4)),o=u(a(8)),i=u(a(5)),d=u(a(6)),s=a(1),c=u(s);function u(e){return e&&e.__esModule?e:{default:e}}var p=(0,a(898).DropTarget)("area",{drop:function(e,t,a){"card"===t.getItem().type&&e.onDrop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fold,a=e.isActive,n=e.renderCard,r=e.visible,l=e.onClick,o=e.renderHeader;return(0,e.connectDropTarget)(c.default.createElement("div",{className:"form-area-group "+(a?"active":""),style:{display:r?"block":"none"},onClick:l},o,c.default.createElement("div",{className:"form-area-content",fieldid:"content"},t.queryPropertyList.map(n))))}}]),t}(s.Component))||n;t.default=p},1224:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=f(a(464)),l=f(a(12)),o=f(a(4)),i=f(a(8)),d=f(a(5)),s=f(a(6));a(459);var c=a(1),u=f(c),p=a(898);function f(e){return e&&e.__esModule?e:{default:e}}var m=f(a(33)).default.base.NCDiv,g=(0,p.DropTarget)("area",{drop:function(e,t,a){"card"===t.getItem().type&&e.onDrop(t)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,o.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.areaClassName,a=e.side,n=e.children,l=e.isActive,o=e.renderCard,i=e.visible,d=e.renderHeader,s=e.onClick,c=e.connectDropTarget;return u.default.createElement(r.default,{getContainer:document.getElementsByClassName("template-setting-content")[0],closable:!1,placement:"right",maskClosable:!1,width:725,visible:i,mask:!0,zIndex:180,destroyOnClose:!0,style:{padding:0,height:"100%"}},u.default.createElement("div",{className:"drawer-content"},u.default.createElement("div",{className:t+" side-area",onClick:s},u.default.createElement(m,{className:"table-side-area",fieldid:"table-side",areaCode:m.config.Area},d,c(u.default.createElement("div",{className:"area-item-content",fieldid:"content"},u.default.createElement("div",{className:"form-area-group "+(l?"active":"")},u.default.createElement("div",{className:"form-area-content"},a.queryPropertyList.map(o))))))),n&&n()))}}]),t}(c.Component))||n;t.default=g},1225:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=g(a(12)),l=g(a(4)),o=g(a(8)),i=g(a(5)),d=g(a(6)),s=a(1),c=g(s),u=a(29),p=a(898),f=a(899),m=a(428);function g(e){return e&&e.__esModule?e:{default:e}}var h={beginDrag:function(e){return e.isImplement||(e.updateSelectArea(e.grandson),(0,m.removeSelectCardCls)()),{id:e.grandson.pk_area,index:e.grandsonIndex,type:"area",areaType:"grandson"}}},b=(0,p.DragSource)("area",h,(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(n=(0,p.DropTarget)("area",{drop:function(e,t,a){var n=t.getItem();if("card"===n.type)e.onDrop(t);else if("left"!==n.from){var r=n.index,l=e.grandsonIndex;if(r===l||e.isImplement)return;e.onDragArea(r,l),t.getItem().index=l}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(n=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.state={},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.areaClassName,a=e.grandson,n=(e.isActive,e.renderCard),r=e.contentVisible,l=e.renderHeader,o=e.onClick;return(0,e.connectDragSource)((0,e.connectDropTarget)(c.default.createElement("div",{type:"ncdiv",fieldid:a.code+"_area",className:t,onClick:o},l,c.default.createElement("div",{className:"area-item-content",fieldid:"content",style:{display:r?"block":"none"}},c.default.createElement("div",{className:"table-area-content"},a.queryPropertyList.map(n))))))}}]),t}(s.Component))||n)||n;t.default=(0,u.connect)((function(){return{}}),{updateSelectArea:f.updateSelectArea})(b)},1226:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=E(a(39)),r=E(a(201)),l=E(a(2)),o=E(a(12)),i=E(a(4)),d=E(a(8)),s=E(a(5)),c=E(a(6)),u=E(a(76));a(111);var p=a(1),f=E(p),m=E(a(90)),g=E(a(26)),h=a(29),b=E(a(422)),v=a(429),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(v),k=a(17),C=a(428),S=a(899);function E(e){return e&&e.__esModule?e:{default:e}}var x=E(a(33)).default.base,w=x.NCDiv,M=x.NCCheckbox,_=x.NCTree,A=_.NCTreeNode,D=u.default.Option,N=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.showModalHidden=function(){a.setModalVisible(!1)},a.setModalVisible=function(e){a.setState({selectedKeys:[],checkedKeys:[],selectedNodes:[],checkedNodes:[],needToBeAllSelectNodeList:[]}),a.props.setModalVisible(e)},a.onOkMoveDialog=function(){var e=a.state.selectedNodes,t=a.props,n=t.targetAreaID,r=t.json,l=[];m.default.forEach(e,(function(e,t){var o=e.props.dataRef,i=o.myUniqID,d=o.datatype,s=o.refname,c=(o.refcode,o.pid,o.refpk),u=o.isLeaf,p=o.modelname,f=o.length,m=o.notSearchAreaCode,g=o.proid,h=o.resid,b=o.readonly,C={};if("0"===a.props.targetAreaType){var S=y.getObjNameByDatatype(d,y.opersignObj),E=y.getObjNameByDatatype(d,(0,v.opersignNameObj)());C={pk_query_property:"newMetaData_"+i,areaid:n,datatype:d,code:i,label:s,metapath:i,isnotmeta:!1,isuse:!0,opersign:S||"=@>@>=@<@<=@like@",opersignname:E||(0,k.langCheck)("ZoneSetting-000001","pages",r),defaultvalue:"",isfixedcondition:!1,required:!1,disabled:!1,visible:"56"!==d,ismultiselectedenabled:!1,isquerycondition:!0,refname:"204"===d?p:"-99",containlower:!u,ischeck:!1,isbeyondorg:!1,usefunc:"34"===d,showtype:"1",returntype:"refpk",define1:"",define2:"",define3:"",define4:"",define5:"",itemtype:"input",myrefpk:c,visibleposition:"",tablecode:"",querytablename:"",maxlength:f}}else C={pk_query_property:"newMetaData_"+i,areaid:n,code:m||i,datatype:d,label:s,metapath:i,color:(0,v.colorObj)()&&(0,v.colorObj)()[0].value,isrevise:!1,required:!1,disabled:!1,visible:"56"!==d,maxlength:f,defaultvalue:"",hyperlinkflag:!1,defaultvar:"",define1:"",define2:"",define3:"",itemtype:"input",myrefpk:c};"1"===a.props.targetAreaType&&(C.colnum="1",C.isnextrow=!1),"2"===a.props.targetAreaType&&(C.width="",C.istotal=!1),"204"===C.datatype&&(C.metaid=c,C.iscode=!1,C.modelname=p),"56"===C.datatype&&(C.isdefined=!0),"31"!==C.datatype&&"52"!==C.datatype||(C.dataval="2,,"),C.itemtype=y.getItemtypeByDatatype(C.datatype),C.proid=g,C.resid=h,!0===b&&(C.disabled=!0),l.push(C)}));var o=[];m.default.forEach(l,(function(e){"203"===e.datatype&&(console.log(e.label),o.push(e.myrefpk))})),o.length>0?(0,g.default)({url:"/nccloud/platform/templet/getEnumValue.do",info:{name:(0,k.langCheck)("ZoneSetting-000017","pages",r),action:(0,k.langCheck)("ZoneSetting-000122","pages",r)},data:o,success:function(e){if(e){var t=e.data,n=t.data,r=t.success;r&&n&&m.default.forEach(n,(function(e){m.default.forEach(l,(function(t){m.default.forEach(e,(function(e){e.id===t.myrefpk&&(m.default.isEmpty(t.dataval)?t.dataval=e.name+"="+e.value:t.dataval=t.dataval+","+e.name+"="+e.value)}))}))})),a.setDatavalForCard(l,!1)}}}):a.setDatavalForCard(l,!1)},a.setDatavalForCard=function(e,t){var n=a.props.json;if("0"!==a.props.targetAreaType){var r=[];m.default.forEach(e,(function(e){"204"===e.datatype&&r.push(e.modelname)})),r.length>0?(0,g.default)({url:"/nccloud/platform/templet/getRefDefaultSel.do",info:{name:(0,k.langCheck)("ZoneSetting-000017","pages",n),action:(0,k.langCheck)("ZoneSetting-000024","pages",n)},data:r,success:function(n){if(n){var r=n.data,l=r.data,o=r.success;o&&l&&m.default.forEach(l,(function(t){m.default.forEach(e,(function(e){t.name===e.modelname&&(e.dataval=t.pk_refinfo+",code=N",e.refname=t.name,e.refcode=t.refpath)}))})),e[0]&&C.selectCardFromOther.call(a,e[0]),a.props.addCard(e),a.setModalVisible(t)}}}):(e[0]&&C.selectCardFromOther.call(a,e[0]),a.props.addCard(e),a.setModalVisible(t))}else e[0]&&C.selectCardFromOther.call(a,e[0]),a.props.addCard(e),a.setModalVisible(t)},a.onSelect=function(e,t){a.setState({checkedKeys:e,selectedKeys:e,selectedNodes:t.selectedNodes,checkedNodes:t.selectedNodes})},a.onCheck=function(e,t){a.setState({selectedKeys:e,checkedKeys:e,checkedNodes:t.checkedNodes,selectedNodes:t.checkedNodes})},a.renderTreeNodes=function(e){return e.map((function(e){var t="fieldid_"+e.refcode+"_node";return e.children?f.default.createElement(A,{title:e.title,key:e.key,dataRef:e,className:t},a.renderTreeNodes(e.children)):(e.isleaf,f.default.createElement(A,(0,l.default)({},e,{dataRef:e,className:t})))}))},a.onLoadData=function(e){var t=a.props.json;return new r.default((function(r){e.props.children?r():(0,g.default)({url:"/nccloud/platform/templet/querymetapro.do",info:{name:(0,k.langCheck)("ZoneSetting-000017","pages",t),action:(0,k.langCheck)("ZoneSetting-000020","pages",t)},data:{metaid:e.props.refpk},success:function(t){if(t){var o=t.data,i=o.data,d=o.success;if(d&&i&&i.rows&&i.rows.length>0){var s=[];i.rows.map((function(t,n){var r=(0,l.default)({},t,{title:t.refcode+" "+t.refname,key:e.props.myUniqID+"."+t.refcode,myUniqID:e.props.myUniqID+"."+t.refcode,isLeaf:t.isleaf});"0"!==a.props.targetAreaType&&e.props.notSearchAreaCode&&(r.notSearchAreaCode=e.props.notSearchAreaCode+"."+t.refcode),"0"!==a.props.targetAreaType&&"205"===e.props.datatype&&(r.notSearchAreaCode=""+t.refcode),s.push(r)})),e.props.dataRef.children=[].concat(s),a.props.updateMetaTreeData([].concat((0,n.default)(a.props.metaTree))),r()}}}})}))},a.getContentDom=function(){var e=a.props.metaTree;return f.default.createElement("div",{className:"template-setting-left-sider template-setting-sider"},f.default.createElement("div",{className:"sider-content"},f.default.createElement("div",{className:"sider-search"}),f.default.createElement(w,{className:"sider-tree",fieldid:"addMeta",areaCode:w.config.TreeCom},f.default.createElement(_,{checkable:!0,checkStrictly:!0,loadData:a.onLoadData,showLine:!0,multiple:!0,onSelect:a.onSelect,selectedKeys:a.state.selectedKeys,checkedKeys:a.state.checkedKeys,onCheck:a.onCheck,fieldid:"meta"},a.renderTreeNodes(e)))))},a.selectAllTreeNode=function(e,t){var n=a.state,r=n.selectedKeys;n.checkedKeys;r=m.default.cloneDeep(r),e?m.default.forEach(t,(function(e,t){-1===r.indexOf(e.myUniqID)&&"205"!==e.datatype&&(r.push(e.myUniqID),a.state.selectedNodes.push({props:{dataRef:(0,l.default)({},e)}}))})):(m.default.forEach(t,(function(e,t){m.default.remove(r,(function(t){return t===e.myUniqID}))})),m.default.forEach(t,(function(e,t){m.default.remove(a.state.selectedNodes,(function(t){return t.props.dataRef.myUniqID===e.myUniqID}))}))),a.setState({selectedKeys:r,checkedKeys:r})},a.handleChangeSelectTreeNode=function(e){var t=a.props,n=(t.metaTree,t.canSelectTreeNodeList);m.default.forEach(n,(function(t){-1===e.indexOf(t.refcode+" "+t.refname)?null!==t.children&&setTimeout((function(){a.selectAllTreeNode(!1,t.children)}),0):null!==t.children&&setTimeout((function(){a.selectAllTreeNode(!0,t.children)}),0)})),a.setState({needToBeAllSelectNodeList:e})},a.getModalTitleDom=function(){var e=a.props.json;return f.default.createElement("div",{className:"customer-header"},f.default.createElement(M,{className:"dnd-cancel",onChange:function(e){a.selectAllTreeNode(e,a.props.metaTree)}},(0,k.langCheck)("ZoneSetting-000125","pages",e)),function(){if(a.props.canSelectTreeNodeList.length>0)return f.default.createElement("div",{fieldid:"root",style:{display:"inline"}},f.default.createElement(u.default,{className:"dnd-cancel",maxTagCount:1,size:"small",style:{width:"50%"},multiple:!0,mode:"multiple",placeholder:(0,k.langCheck)("ZoneSetting-000126","pages",e),onChange:a.handleChangeSelectTreeNode,value:a.state.needToBeAllSelectNodeList,dropdownClassName:"fieldid_root_select"},a.props.canSelectTreeNodeList.map((function(e,t){return f.default.createElement(D,{key:e.refcode+" "+e.refname,disabled:!e.children},e.refcode," ",e.refname)}))))}())},a.state={checkedKeys:[],selectedKeys:[],selectedNodes:[],searchValue:"",needToBeAllSelectNodeList:[]},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.json;return f.default.createElement(b.default,{maskClosable:!1,title:(0,k.langCheck)("ZoneSetting-000124","pages",e),header:this.getModalTitleDom(),wrapClassName:"meta-add-modal",visible:this.props.modalVisible,okText:(0,k.langCheck)("ZoneSetting-000005","pages",e),cancelText:(0,k.langCheck)("ZoneSetting-000006","pages",e),onOk:this.onOkMoveDialog,onCancel:this.showModalHidden,destroyOnClose:!0,width:"50%",fieldid:"addMeta",titleFieldid:(0,k.langCheck)("ZoneSetting-000124","pages",e)},this.getContentDom())}}]),t}(p.Component);t.default=(0,h.connect)((function(e){return{}}),{updateSelectCard:S.updateSelectCard,updateSelectArea:S.updateSelectArea})(N)},1227:function(e,t,a){e.exports=a.p+"images/template-empty-content.png"},1228:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,l=O(a(3)),o=O(a(1078)),i=O(a(2)),d=O(a(94)),s=O(a(95)),c=O(a(12)),u=O(a(4)),p=O(a(8)),f=O(a(5)),m=O(a(6)),g=O(a(200)),h=O(a(139));a(1073),a(199),a(195);var b=a(1),v=O(b),y=a(29),k=O(a(26)),C=a(429),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(C),E=a(899),x=a(428),w=O(a(1232)),M=O(a(1233)),A=O(a(1234)),D=O(a(1236)),N=O(a(1237)),I=O(a(1238)),Z=a(17),P=O(a(1241)),T=O(a(33));function O(e){return e&&e.__esModule?e:{default:e}}var L=T.default.base,j=L.NCDiv,V=L.NCCheckbox,F=L.NCSelect,z=T.default.high,q=(z.Refer,z.FormulaEditor),R=h.default.Search,B=F.NCOption,H=g.default.TabPane,G={height:28,width:"100%"},U=(n=function(e){function t(e){(0,u.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return r.call(a),a.state={moneyModalVisibel:!1,referModalVisibel:!1,relateMetaModalVisibel:!1,customModalVisibel:!1,defaultValueModalVisibel:!1,customDocDefaultModalVisibel:!1,showformula:!1,editformula:!1,validateformula:!1},a}var a;return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){window["nc-lightapp-front"]=T.default}},{key:"getMyInput",value:function(e,t,a){var n=this,r=!1;if("width"==t&&(null!=this.props.selectCard[t]&&""!=this.props.selectCard[t]||(this.props.selectCard[t]="120")),r=(""!=a&&null!=a||"code"!=t)&&"code"==t,this.props.isImplement&&1==this.props.selectCard.isfixedcondition){["opersign","opersignname","defaultvalue"].includes(t)&&(r=!0)}return v.default.createElement("div",{fieldid:t},v.default.createElement(h.default,{disabled:r,style:G,value:this.props.selectCard[t],onChange:function(e){n.changeValue(e.target.value,t)},onBlur:function(e){n.updateCardInArea()},ref:function(e){return n[t+"input"]=e},onPressEnter:function(e){n.onPressEnter(e.target.value,t)}}))}},{key:"asyncUpdataCardAndAreaList",value:(a=(0,s.default)(d.default.mark((function e(t,a){return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateSelectCard(t);case 2:return e.next=4,this.updateCardInArea();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,a=t.selectCard,n=t.areaList,r=t.formula,l=t.selectedArea,o=t.json,i=void 0;if(_.isEmpty(l)&&_.isEmpty(a))i=null;else if(_.isEmpty(l)){var d=this.getMetaType(a),s=this.getAreaType(n,a);i="0"===s?d?this.getDom1():this.getDom2():this.getDom3(s,d)}else i=v.default.createElement(P.default,{json:this.props.json,isImplement:this.props.isImplement});return v.default.createElement(j,{className:"template-setting-right-sider template-setting-sider",fieldid:"right",areaCode:j.config.Area},v.default.createElement("div",{className:"sider-content"},v.default.createElement("div",{className:"sider-tab"},i)),r.showformula&&v.default.createElement(q,{value:a.showformula,isValidateOnOK:!0,validateUrl:"/nccloud/platform/formula/check.do",validateData:{areacodes:r.regionCode},formulaUrl:"/nccloud/platform/formula/control.do",treeParam:{pk_billtype:"CM02",bizmodelStyle:"fip",classid:""},noShowAttr:[(0,Z.langCheck)("ZoneSetting-000106","pages",o)],show:r.showformula,onHide:function(){e.props.toggleFormula("showformula",!1)},attrConfig:r.tab,onOk:function(t){return e.handleFormulaOkClick(t,"showformula")},onCancel:function(){e.props.toggleFormula("showformula",!1)}}),r.editformula&&v.default.createElement(q,{value:a.editformula,isValidateOnOK:!0,validateUrl:"/nccloud/platform/formula/check.do",validateData:{areacodes:r.regionCode},formulaUrl:"/nccloud/platform/formula/control.do",noShowAttr:[(0,Z.langCheck)("ZoneSetting-000106","pages",o)],show:r.editformula,onHide:function(){e.props.toggleFormula("editformula",!1)},attrConfig:r.tab,onOk:function(t){return e.handleFormulaOkClick(t,"editformula")},onCancel:function(){e.props.toggleFormula("editformula",!1)}}),r.validateformula&&v.default.createElement(q,{value:a.validateformula,isValidateOnOK:!0,validateUrl:"/nccloud/platform/formula/check.do",validateData:{areacodes:r.regionCode},formulaUrl:"/nccloud/platform/formula/control.do",noShowAttr:[(0,Z.langCheck)("ZoneSetting-000106","pages",o)],show:r.validateformula,onHide:function(){e.props.toggleFormula("validateformula",!1)},attrConfig:r.tab,onOk:function(t){return e.handleFormulaOkClick(t,"validateformula")},onCancel:function(){e.props.toggleFormula("validateformula",!1)}}))}}]),t}(b.Component),r=function(){var e=this;this.changeValue=function(t,a){var n=e.props.selectCard;_.isEmpty(n)||((n=(0,i.default)({},n))[a]=t,e.props.updateSelectCard(n))},this.changeCheckboxValue=function(t,a){var n=e.props.selectCard;if(!_.isEmpty(n))if(n=_.cloneDeep(n),"visible"===a&&(n.visibleposition=""),e.props.isImplement&&"isfixedcondition"===a&&1==n.isfixedcondition){var r=e.getArea(n);e.queryFixedCondition({pk_template:e.props.zoneFormData.pk_page_templet,araecode:r.code,propcode:n.code},(function(r){n[a]=t,n.isfixedcondition=r,e.asyncUpdataCardAndAreaList(n,a)}))}else n[a]=t,e.asyncUpdataCardAndAreaList(n,a)},this.getArea=function(t){var a=void 0;return e.props.areaList.forEach((function(e,n){e.queryPropertyList.forEach((function(n,r){t.areaid!==n.areaid||(a=e)}))})),a},this.updateCardInArea=function(){var t=e.props,a=t.areaList,n=t.selectCard;if(!_.isEmpty(n)){var r=0,l=0;a=_.cloneDeep(a),_.forEach(a,(function(e,t){_.forEach(e.queryPropertyList,(function(e,a){if(e.areaid===n.areaid&&e.pk_query_property===n.pk_query_property)return r=t,l=a,!1}))})),a[r].queryPropertyList[l]=n,e.props.updateAreaList(a)}},this.getCardListInAreaBySelectCard=function(){var t=e.props,a=t.areaList,n=t.selectCard,r=0;return _.forEach(a,(function(e,t){if(e.pk_area===n.areaid)return r=t,!1})),a[r].queryPropertyList},this.onPressEnter=function(t,a){e[a+"input"].blur()},this.getMyNumberInput=function(t,a){return v.default.createElement("div",{fieldid:a},v.default.createElement(o.default,{min:1,value:e.props.selectCard[a],onChange:function(t){e.changeValue(t,a)},onBlur:function(t){e.updateCardInArea()},ref:function(t){return e[a+"input"]=t},onPressEnter:function(t){e.onPressEnter(t.target.value,a)}}))},this.getMyCheckbox=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.props.isImplement&&1==e.props.selectCard.isfixedcondition&&"isuse"===t&&(a=!0),v.default.createElement("div",{fieldid:t},v.default.createElement(V,{disabled:a,checked:Boolean(e.props.selectCard[t]),onChange:function(a){e.changeCheckboxValue(a,t)}}))},this.handleSelectChange=function(t,a){var n=e.props.selectCard;_.isEmpty(n)||(n=(0,i.default)({},n),void 0===a?n=(0,i.default)({},n,t):(n[a]=t,"datatype"===a&&(n.dataval="",n.itemtype=S.getItemtypeByDatatype(n.datatype),"31"!==t&&"52"!==t||(n.dataval="2,,"))),e.asyncUpdataCardAndAreaList(n,a))},this.getMySelect=function(t,a){return v.default.createElement("div",{fieldid:a},v.default.createElement(F,{showClear:!1,value:_.isEmpty(e.props.selectCard[a])?t[0].value:e.props.selectCard[a],onChange:function(t){e.handleSelectChange(t,a)},style:G,fieldid:a},"color"===a?t.map((function(e,t){return v.default.createElement(B,{key:t,value:e.value},v.default.createElement("span",{className:"template-setting-color-select"},v.default.createElement("span",null,e.name),v.default.createElement("span",{className:"color-select-color",style:{backgroundColor:e.value}})))})):t.map((function(e,t){return v.default.createElement(B,{key:t,value:e.value},e.name)}))))},this.getMetaType=function(e){return!!e.metapath},this.getAreaType=function(e,t){var a=void 0;return _.forEach(e,(function(e,n){_.forEach(e.queryPropertyList,(function(n,r){t.areaid!==n.areaid||(a=e.areatype)}))})),a},this.setModalVisibel=function(t,a){e.setState((0,l.default)({},t,a))},this.getMySearch=function(t,a){var n=e.props.selectCard,r=n[t];if("57"===n.datatype)if("dataval"===t)r=n.refname;else if("defaultvalue"===t){var o=n.defaultvalue&&n.defaultvalue.split("=");r=o&&o[0]}return v.default.createElement("div",{fieldid:t},v.default.createElement(R,{disabled:e.getPropertyDisabled(t),style:G,value:r,onChange:function(){},onSearch:function(){e.setState((0,l.default)({},a,!0))}}))},this.getMyFormulaSearch=function(t){var a=e.props,n=a.selectCard,r=a.toggleFormula;return v.default.createElement("div",{fieldid:t},v.default.createElement(R,{style:G,value:n[t],onChange:function(){},onSearch:function(){x.handleFormula.call(e,n),r([t],!0)}}))},this.renderCanEditFields=function(){var t=[{key:"#a",name:(0,Z.langCheck)("ZoneSetting-000192","pages",e.props.json)},{key:"#b",name:(0,Z.langCheck)("ZoneSetting-000193","pages",e.props.json)},{key:"#c",name:(0,Z.langCheck)("ZoneSetting-000194","pages",e.props.json)},{key:"#d",name:(0,Z.langCheck)("ZoneSetting-000195","pages",e.props.json)}];if(!e.props.isImplement)return t.map((function(t){return[v.default.createElement("li",null,t.name),v.default.createElement("li",null,e.getMyCheckbox(t.key))]}))},this.renderCustomDocRefer=function(){var t=e.props,a=t.selectCard,n=t.json;return v.default.createElement("li",null,e.getMySearch("defaultvalue","customDocDefaultModalVisibel"),v.default.createElement(I.default,{docPk:a.dataval,refname:a.refname,isgrade:a.isgrade,handleSelectChange:e.handleSelectChange,defaultvalue:a.defaultvalue,modalVisibel:e.state.customDocDefaultModalVisibel,setModalVisibel:e.setModalVisibel,json:n}))},this.renderMoneyModal=function(){var t=e.props.selectCard;return v.default.createElement("li",null,e.getMySearch("dataval","moneyModalVisibel"),v.default.createElement(w.default,{datatype:t.datatype,handleSelectChange:e.handleSelectChange,initVal:t.dataval,modalVisibel:e.state.moneyModalVisibel,setModalVisibel:e.setModalVisibel}))},this.getPropertyDisabled=function(t){var a=e.props,n=a.selectCard,r=a.isImplement;return"defaultvalue"===t&&(r&&1==n.isfixedcondition)},this.queryFixedCondition=function(e,t){(0,k.default)({url:"/nccloud/platform/templet/checkfixedconditionaction.do",data:e,success:function(e){var a=e.data,n=a.success,r=a.data;n&&t(r)}})},this.getDom1=function(){var t=e.props,a=t.selectCard,n=t.json;console.log("selectCard--",a);var r=a.metapath;return v.default.createElement(g.default,{defaultActiveKey:"1",renderTabBar:function(e,t){return v.default.createElement(j,{areaCode:j.config.TABS}," ",v.default.createElement(t,e))}},v.default.createElement(H,{tab:(0,Z.langCheck)("ZoneSetting-000075","pages",n),key:"1"},v.default.createElement("ul",{className:"basic-property"},v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000076","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000076","pages",n),"label")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000077","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000077","pages",n),"resid")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000078","pages",n)),function(){if(a.isdefined)return v.default.createElement("li",null,e.getMySelect((0,C.dataTypeObj)(),"datatype"));var t=S.getObjNameByDatatype(a.datatype,(0,C.dataTypeObj)());return t=""===t?a.datatype:t,v.default.createElement("li",null,t)}(),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000022","pages",n)),"203"==a.datatype||"32"==a.datatype?v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",n),"showdataval")):v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",n),"dataval")),function(){if("203"==a.datatype||"32"==a.datatype)return v.default.createElement("li",{style:{display:"none"}},(0,Z.langCheck)("ZoneSetting-000022","pages",n))}(),function(){if("203"==a.datatype||"32"==a.datatype)return v.default.createElement("li",{style:{display:"none"}},e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",n),"dataval"))}(),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000032","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000032","pages",n),"maxlength")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000079","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isnotmeta")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000080","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isuse")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000081","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000081","pages",n),"code",r)),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000082","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000082","pages",n),"opersign")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000083","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000083","pages",n),"opersignname")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000084","pages",n)),"204"===a.datatype&&"-99"!==a.refname?v.default.createElement("li",null,e.getMySearch("defaultvalue","defaultValueModalVisibel"),v.default.createElement(N.default,{areatype:"0",refcode:a.refcode,refname:a.refname,isMultiSelectedEnabled:Boolean(a.ismultiselectedenabled),handleSelectChange:e.handleSelectChange,defaultvalue:a.defaultvalue,modalVisibel:e.state.defaultValueModalVisibel,setModalVisibel:e.setModalVisibel})):"57"===a.datatype&&a.dataval?e.renderCustomDocRefer():v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000084","pages",n),"defaultvalue")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000085","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("disabled",e.props.isImplement&&(!0===a["#a"]||!0===a["#b"]))),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000086","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("visible")),function(){if(a.visible)return[v.default.createElement("li",{key:"visibleposition0"},(0,Z.langCheck)("ZoneSetting-000087","pages",n)),v.default.createElement("li",{key:"visibleposition1"},e.getMyInput((0,Z.langCheck)("ZoneSetting-000087","pages",n),"visibleposition"))]}(),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000088","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("ismultiselectedenabled")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000089","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isfixedcondition")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000090","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("required")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000091","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isquerycondition")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000030","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000030","pages",n),"refname")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000092","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("containlower")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000093","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("ischeck")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000094","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isbeyondorg")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000095","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("usefunc")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000096","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000096","pages",n),"tablecode")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000097","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000097","pages",n),"querytablename")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000098","pages",n)),v.default.createElement("li",null,e.getMySelect(S.getItemtypeObjByDatatype(a.datatype),"itemtype")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000099","pages",n)),v.default.createElement("li",null,e.getMySelect((0,C.showType)(),"showtype")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000100","pages",n)),v.default.createElement("li",null,e.getMySelect((0,C.returnType)(),"returntype")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000101","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000101","pages",n),"define1")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000102","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000102","pages",n),"define2")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000103","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000103","pages",n),"define3")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000104","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000104","pages",n),"define4")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000105","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000105","pages",n),"define5")))))},this.getDom2=function(){var t=e.props,a=t.selectCard,n=t.json,r=a.metapath;return console.log("selectCard=",a),v.default.createElement(g.default,{defaultActiveKey:"1",renderTabBar:function(e,t){return v.default.createElement(j,{areaCode:j.config.TABS}," ",v.default.createElement(t,e))}},v.default.createElement(H,{tab:(0,Z.langCheck)("ZoneSetting-000075","pages",n),key:"1"},v.default.createElement("ul",{className:"basic-property"},v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000076","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000076","pages",n),"label")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000077","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000077","pages",n),"resid")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000079","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isnotmeta")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000080","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isuse")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000106","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000106","pages",n),"metadataproperty")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000032","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000032","pages",n),"maxlength")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000081","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000081","pages",n),"code",r)),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000082","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000082","pages",n),"opersign")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000083","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000083","pages",n),"opersignname")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000084","pages",n)),"204"===a.datatype&&"-99"!==a.refname?v.default.createElement("li",null,e.getMySearch("defaultvalue","defaultValueModalVisibel"),v.default.createElement(N.default,{areatype:"0",refcode:a.refcode,refname:a.refname,isMultiSelectedEnabled:Boolean(a.ismultiselectedenabled),handleSelectChange:e.handleSelectChange,defaultvalue:a.defaultvalue,modalVisibel:e.state.defaultValueModalVisibel,setModalVisibel:e.setModalVisibel})):"57"===a.datatype&&a.dataval?e.renderCustomDocRefer():v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000084","pages",n),"defaultvalue")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000085","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("disabled",e.props.isImplement&&(!0===a["#a"]||!0===a["#b"]))),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000086","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("visible")),function(){if(a.visible)return[v.default.createElement("li",{key:"visibleposition0"},(0,Z.langCheck)("ZoneSetting-000087","pages",n)),v.default.createElement("li",{key:"visibleposition1"},e.getMyInput((0,Z.langCheck)("ZoneSetting-000087","pages",n),"visibleposition"))]}(),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000088","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("ismultiselectedenabled")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000089","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isfixedcondition")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000090","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("required")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000091","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isquerycondition")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000030","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000030","pages",n),"refname")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000092","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("containlower")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000093","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("ischeck")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000094","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("isbeyondorg")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000095","pages",n)),v.default.createElement("li",null,e.getMyCheckbox("usefunc")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000096","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000096","pages",n),"tablecode")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000097","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000097","pages",n),"querytablename")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000099","pages",n)),v.default.createElement("li",null,e.getMySelect((0,C.showType)(),"showtype")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000100","pages",n)),v.default.createElement("li",null,e.getMySelect((0,C.returnType)(),"returntype")))),v.default.createElement(H,{tab:(0,Z.langCheck)("ZoneSetting-000107","pages",n),key:"2"},v.default.createElement("ul",{className:"basic-property"},v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000078","pages",n)),v.default.createElement("li",null,e.getMySelect((0,C.dataTypeObj)(),"datatype")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000022","pages",n)),"203"==a.datatype||"32"==a.datatype?v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",n),"showdataval")):"31"===a.datatype||"52"===a.datatype||"4"===a.datatype?e.renderMoneyModal():v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",n),"dataval")),function(){if("203"==a.datatype||"32"==a.datatype)return v.default.createElement("li",{style:{display:"none"}},(0,Z.langCheck)("ZoneSetting-000022","pages",n))}(),function(){if("203"==a.datatype||"32"==a.datatype)return v.default.createElement("li",{style:{display:"none"}},e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",n),"dataval"))}(),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000098","pages",n)),v.default.createElement("li",null,e.getMySelect(S.getItemtypeObjByDatatype(a.datatype),"itemtype")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000101","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000101","pages",n),"define1")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000102","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000102","pages",n),"define2")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000103","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000103","pages",n),"define3")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000104","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000104","pages",n),"define4")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000105","pages",n)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000105","pages",n),"define5")))))},this.getDom3=function(t,a){var n=e.props,r=n.selectCard,l=n.json,o=n.formula;console.log("selectCard-------",r);var i="204"===r.datatype?"block":"none",d=e.getCardListInAreaBySelectCard(),s=r.metapath,c={areacodes:o.regionCode};return console.log("validateDataParm-----------",c),v.default.createElement(g.default,{defaultActiveKey:"1",renderTabBar:function(e,t){return v.default.createElement(j,{areaCode:j.config.TABS}," ",v.default.createElement(t,e))}},v.default.createElement(H,{tab:(0,Z.langCheck)("ZoneSetting-000075","pages",l),key:"1"},v.default.createElement("ul",{className:"basic-property"},v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000076","pages",l)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000076","pages",l),"label")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000077","pages",l)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000077","pages",l),"resid")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000081","pages",l)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000081","pages",l),"code",s)),function(){if(!a)return[v.default.createElement("li",{key:"metadataproperty0"},(0,Z.langCheck)("ZoneSetting-000106","pages",l)),v.default.createElement("li",{key:"metadataproperty1"},e.getMyInput((0,Z.langCheck)("ZoneSetting-000106","pages",l),"metadataproperty"))]}(),"1"===t?[v.default.createElement("li",{key:"colnum0"},(0,Z.langCheck)("ZoneSetting-000031","pages",l)),v.default.createElement("li",{key:"colnum1"},e.getMyInput((0,Z.langCheck)("ZoneSetting-000031","pages",l),"colnum"))]:[v.default.createElement("li",{key:"width0"},(0,Z.langCheck)("ZoneSetting-000108","pages",l)),v.default.createElement("li",{key:"width1"},e.getMyInput((0,Z.langCheck)("ZoneSetting-000108","pages",l),"width"))],v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000032","pages",l)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000032","pages",l),"maxlength")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000109","pages",l)),v.default.createElement("li",null,e.getMyCheckbox("isrevise",e.props.isImplement&&(!0===r["#a"]||!0===r["#d"]))),"1"===t?[v.default.createElement("li",{key:"nextrow0"},(0,Z.langCheck)("ZoneSetting-000110","pages",l)),v.default.createElement("li",{key:"nextrow1"},e.getMyCheckbox("isnextrow"))]:[v.default.createElement("li",{key:"istotal0"},(0,Z.langCheck)("ZoneSetting-000111","pages",l)),v.default.createElement("li",{key:"istotal1"},e.getMyCheckbox("istotal",e.props.isImplement&&!0===r["#a"]))],v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000112","pages",l)),v.default.createElement("li",null,e.getMyCheckbox("visible",e.props.isImplement&&(!0===r["#a"]||!0===r["#c"]))),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000113","pages",l)),v.default.createElement("li",null,e.getMyCheckbox("required",e.props.isImplement&&!0===r["#a"])),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000085","pages",l)),v.default.createElement("li",null,e.getMyCheckbox("disabled",e.props.isImplement&&(!0===r["#a"]||!0===r["#b"]))),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000084","pages",l)),"204"!==r.datatype||_.isUndefined(r.refcode)||""===r.refcode||null===r.refcode?"57"===r.datatype&&r.dataval?e.renderCustomDocRefer():v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000084","pages",l),"defaultvalue")):v.default.createElement("li",null,e.getMySearch("defaultvalue","defaultValueModalVisibel"),v.default.createElement(N.default,{refcode:r.refcode,refname:r.refname,isMultiSelectedEnabled:Boolean(r.ismultiselectedenabled),handleSelectChange:e.handleSelectChange,defaultvalue:r.defaultvalue,modalVisibel:e.state.defaultValueModalVisibel,setModalVisibel:e.setModalVisibel})),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000114","pages",l)),v.default.createElement("li",null,e.getMySelect(S.defaultvarObj,"defaultvar")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000115","pages",l)),v.default.createElement("li",null,e.getMySelect((0,C.colorObj)(),"color")))),v.default.createElement(H,{tab:(0,Z.langCheck)("ZoneSetting-000107","pages",l),key:"2"},v.default.createElement("ul",{className:"basic-property"},v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000078","pages",l)),function(){if(a){if(r.isdefined)return v.default.createElement("li",null,e.getMySelect((0,C.dataTypeObj)(),"datatype"));var t=S.getObjNameByDatatype(r.datatype,(0,C.dataTypeObj)());return t=""===t?r.datatype:t,v.default.createElement("li",null,t)}return v.default.createElement("li",null,e.getMySelect((0,C.dataTypeObj)(),"datatype"))}(),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000022","pages",l)),function(){switch(!0){case"204"===r.datatype:return v.default.createElement("li",null,e.getMySearch("refname","referModalVisibel"),v.default.createElement(M.default,{handleSelectChange:e.handleSelectChange,dataval:r.dataval,refname:r.refname,iscode:r.iscode,modalVisibel:e.state.referModalVisibel,setModalVisibel:e.setModalVisibel}));case"31"===r.datatype||"52"===r.datatype||"4"===r.datatype:return e.renderMoneyModal();case"57"===r.datatype:return v.default.createElement("li",null,e.getMySearch("dataval","customModalVisibel"),v.default.createElement(A.default,{handleSelectChange:e.handleSelectChange,initVal:r.dataval,refname:r.refname,iscodeVal:r.iscode,modalVisibel:e.state.customModalVisibel,setModalVisibel:e.setModalVisibel}));case"203"===r.datatype:case"32"===r.datatype:return v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",l),"showdataval"));default:return v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",l),"dataval"))}}(),function(){if("203"==r.datatype||"32"==r.datatype)return v.default.createElement("li",{style:{display:"none"}},(0,Z.langCheck)("ZoneSetting-000022","pages",l))}(),function(){if("203"==r.datatype||"32"==r.datatype)return v.default.createElement("li",{style:{display:"none"}},e.getMyInput((0,Z.langCheck)("ZoneSetting-000022","pages",l),"dataval"))}(),function(){if(a&&!r.isdefined)return v.default.createElement("li",{style:{display:i}},(0,Z.langCheck)("ZoneSetting-000071","pages",l))}(),function(){if(a&&!r.isdefined)return v.default.createElement("li",{style:{display:i}},e.getMySearch("relatemeta","relateMetaModalVisibel"),v.default.createElement(D.default,{cards:d,handleSelectChange:e.handleSelectChange,initVal:r.relatemeta,modalVisibel:e.state.relateMetaModalVisibel,setModalVisibel:e.setModalVisibel}))}(),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000098","pages",l)),v.default.createElement("li",null,e.getMySelect(S.getItemtypeObjByDatatype(r.datatype),"itemtype")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000116","pages",l)),v.default.createElement("li",null,e.getMyFormulaSearch("showformula")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000117","pages",l)),v.default.createElement("li",null,e.getMyFormulaSearch("editformula")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000118","pages",l)),v.default.createElement("li",null,e.getMyFormulaSearch("validateformula")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000119","pages",l)),v.default.createElement("li",null,e.getMyCheckbox("hyperlinkflag")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000120","pages",l)),v.default.createElement("li",{title:r.metapath,className:"metapath"},r.metapath),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000101","pages",l)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000101","pages",l),"define1")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000102","pages",l)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000102","pages",l),"define2")),v.default.createElement("li",null,(0,Z.langCheck)("ZoneSetting-000103","pages",l)),v.default.createElement("li",null,e.getMyInput((0,Z.langCheck)("ZoneSetting-000103","pages",l),"define3")))))},this.onCellChange=function(t,a){return function(n){var r=e.props.batchSource,l=(r=_.cloneDeep(r))[t];l&&(l[a]=n,e.props.updateBatchSource(r))}},this.handleFormulaOkClick=function(t,a){var n=e.props.currentBatchCell,r=n.index,l=n.code;_.isEmpty(e.props.selectCard)?e.onCellChange(r,l)(t):e.handleSelectChange(t,a),e.props.toggleFormula(a,!1)}},n);t.default=(0,y.connect)((function(e){return{areaList:e.zoneSettingData.areaList,selectCard:e.zoneSettingData.selectCard,formula:e.zoneSettingData.formula,selectedArea:e.zoneSettingData.selectedArea,currentBatchCell:e.zoneSettingData.currentBatchCell,batchSource:e.zoneSettingData.batchSource,zoneFormData:e.zoneSettingData.zoneFormData}}),{updateAreaList:E.updateAreaList,updateSelectCard:E.updateSelectCard,updateBatchSource:E.updateBatchSource,toggleFormula:E.toggleFormula,setFormulaInfo:E.setFormulaInfo})(U)},1232:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(a(1078)),r=h(a(3)),l=h(a(12)),o=h(a(4)),i=h(a(8)),d=h(a(5)),s=h(a(6));a(1073);var c=a(1),u=h(c),p=h(a(422)),f=h(a(58)),m=a(17),g=a(196);function h(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){(0,o.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("moneyModalVisibel",!1)},a.onOkDialog=function(){var e=a.state,t=e.small,n=e.big,r=e.customScale,l=e.json,o=a.props.datatype,i=void 0;if(""!==t&&""!==n&&Number(t)>=Number(n))return(0,f.default)({status:"error",msg:(0,m.langCheck)("ZoneSetting-000056","pages",l)});i="4"===o?t+","+n:r+","+t+","+n,a.props.handleSelectChange(i,"dataval"),a.showModalHidden()},a.saveValue=function(e,t){(_.isNull(t)||_.isUndefined(t))&&(t=""),a.setState((0,r.default)({},e,t))},a.state={initVal:a.props.initVal,small:"",big:"",customScale:"",json:{}},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;!0===e.modalVisibel&&this.setState({initVal:e.initVal},(function(){var a=e.datatype,n=t.state.initVal;if(""===n||null===n)t.setState({customScale:"4"===a?0:2,small:"",big:""});else{var r=n&&n.split(",");"4"===a?t.setState({customScale:0,small:r&&3===n.length?r[1]:n&&2===n.length?r[0]:"",big:r?r[r.length-1]:""}):t.setState({customScale:r?r[0]:31,small:r?r[1]:"",big:r?r[2]:""})}}))}},{key:"componentDidMount",value:function(){var e=this;(0,g.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.customScale,r=t.small,l=t.big,o=t.json,i=this.props.datatype;return u.default.createElement("div",{className:"myZoneModal"},u.default.createElement(p.default,{closable:!1,customHeader:(0,m.langCheck)("ZoneSetting-000022","pages",o),wrapClassName:"zonesetting-moneyModal",visible:this.props.modalVisibel,okText:(0,m.langCheck)("ZoneSetting-000005","pages",o),cancelText:(0,m.langCheck)("ZoneSetting-000006","pages",o),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"money"},function(){if("4"!==i)return u.default.createElement("div",null,u.default.createElement("div",{className:"descrip_label"},(0,m.langCheck)("ZoneSetting-000057","pages",o)," "),u.default.createElement("div",{className:"mdcontent"},u.default.createElement("div",null,u.default.createElement("span",{className:"money-label"}," ",(0,m.langCheck)("ZoneSetting-000058","pages",o)),u.default.createElement(n.default,{precision:0,min:0,max:8,value:a,onChange:function(t){e.saveValue("customScale",t)}}))))}(),u.default.createElement("div",null,u.default.createElement("div",{className:"descrip_label"},(0,m.langCheck)("ZoneSetting-000059","pages",o)," "),u.default.createElement("div",{className:"mdcontent"},u.default.createElement("div",null,u.default.createElement("span",{className:"money-label"},(0,m.langCheck)("ZoneSetting-000060","pages",o)),u.default.createElement(n.default,{precision:a,value:r,onChange:function(t){e.saveValue("small",t)}})),u.default.createElement("div",null,u.default.createElement("span",{className:"money-label"},(0,m.langCheck)("ZoneSetting-000061","pages",o)),u.default.createElement(n.default,{value:l,precision:a,onChange:function(t){e.saveValue("big",t)}}))))))}}]),t}(c.Component);t.default=b},1233:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(94)),r=y(a(95)),l=y(a(12)),o=y(a(4)),i=y(a(8)),d=y(a(5)),s=y(a(6)),c=y(a(76));a(111);var u=a(1),p=y(u),f=y(a(90)),m=y(a(26)),g=a(29),h=y(a(422)),b=a(17),v=a(196);function y(e){return e&&e.__esModule?e:{default:e}}var k=y(a(33)).default.base.NCCheckbox,C=c.default.Option,S=function(e){function t(e){(0,o.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("referModalVisibel",!1)},a.handleSelectChange=function(e,t){a.setState({pk_refinfo:e,refname:t})},a.checkboxChange=function(e,t){a.setState({iscode:e})},a.state={pk_refinfo:"",refname:a.props.refname,iscode:a.props.iscode,option:[],json:{}},a.onOkDialog=a.onOkDialog.bind(a),a}var a;return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state.json;if(!0===e.modalVisibel){var n=this.props.dataval;if(!f.default.isEmpty(n)){var r=n.split(",")[0];this.setState({pk_refinfo:r,refname:e.refname,iscode:e.iscode})}var l;"/nccloud/platform/templet/queryrefinfo.do",l={defdoc:e.selectCard&&e.selectCard.metaid},(0,m.default)({url:"/nccloud/platform/templet/queryrefinfo.do",data:l,info:{name:(0,b.langCheck)("ZoneSetting-000062","pages",a),action:(0,b.langCheck)("ZoneSetting-000063","pages",a)},success:function(e){var a=e.data;a.success&&a.data?t.setState({option:a.data}):Notice({status:"error",msg:a.data.true})}})}}},{key:"onOkDialog",value:(a=(0,r.default)(n.default.mark((function e(){var t,a,r,l,o,i,d,s,c=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.refname,r=t.iscode,l=t.pk_refinfo,o=t.option,i=t.json,d=r?"Y":"N",!(s=f.default.filter(o,(function(e){return e.pk_refinfo===l})))){e.next=6;break}return e.next=6,this.props.handleSelectChange(s[0].refpath,"refcode");case 6:return e.next=8,this.props.handleSelectChange(a,"refname");case 8:return e.next=10,this.props.handleSelectChange(l+",code="+d,"dataval");case 10:return e.next=12,this.props.handleSelectChange(r,"iscode");case 12:(0,m.default)({url:"/nccloud/platform/templet/getMetaByRefName.do",info:{scode:(0,b.langCheck)("ZoneSetting-000064","pages",i),action:(0,b.langCheck)("ZoneSetting-000065","pages",i)},data:{iscode:d,refname:a},success:function(e){if(e){var t=e.data,a=t.data,n=t.success;n&&a&&c.props.handleSelectChange(a,"metadataproperty")}}}),this.showModalHidden();case 14:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentDidMount",value:function(){var e=this;(0,v.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.iscode,n=t.option,r=(t.refname,t.pk_refinfo),l=t.json;return p.default.createElement("div",{className:"myZoneModal"},p.default.createElement(h.default,{customHeader:(0,b.langCheck)("ZoneSetting-000066","pages",l),wrapClassName:"zonesetting-referModal",visible:this.props.modalVisibel,okText:(0,b.langCheck)("ZoneSetting-000005","pages",l),cancelText:(0,b.langCheck)("ZoneSetting-000006","pages",l),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"referType"},p.default.createElement("div",null,p.default.createElement("div",{className:"descrip_label"},(0,b.langCheck)("ZoneSetting-000067","pages",l)," "),p.default.createElement("div",{className:"mdcontent"},p.default.createElement("div",null,p.default.createElement("span",{className:"refer_label"},(0,b.langCheck)("ZoneSetting-000068","pages",l)),p.default.createElement(c.default,{showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:r,onChange:function(t,a){console.log(t,a),e.handleSelectChange(t,a.props.children)},style:{width:200}},n.map((function(e,t){return p.default.createElement(C,{key:t,value:e.pk_refinfo},e.name)})))))),p.default.createElement("div",null,p.default.createElement("div",{className:"descrip_label"},(0,b.langCheck)("ZoneSetting-000069","pages",l)," "),p.default.createElement("div",{className:"mdcontent"},p.default.createElement("div",null,p.default.createElement("span",{className:"refer_label"},(0,b.langCheck)("ZoneSetting-000070","pages",l)),p.default.createElement(k,{checked:a,onChange:function(t){e.checkboxChange(t)}}))))))}}]),t}(u.Component);t.default=(0,g.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard}}),{})(S)},1234:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(12)),r=g(a(4)),l=g(a(8)),o=g(a(5)),i=g(a(6)),d=a(1),s=g(d),c=a(29),u=g(a(422)),p=g(a(1235)),f=a(17),m=a(196);function g(e){return e&&e.__esModule?e:{default:e}}var h=g(a(33)).default.base.NCCheckbox,b=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("customModalVisibel",!1)},a.onOkDialog=function(){var e=a.state,t=e.initVal,n=e.iscodeVal,r=e.refname,l=e.isgrade;a.props.handleSelectChange({dataval:t,iscode:n,refname:r,defaultvalue:"",isgrade:l}),a.showModalHidden()},a.checkboxChange=function(e){a.setState({iscodeVal:e})},a.state={initVal:a.props.initVal,refname:a.props.refname,iscodeVal:a.props.iscodeVal,isgrade:"",json:{}},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({initVal:e.initVal,refname:e.refname,iscodeVal:e.iscodeVal})}},{key:"componentDidMount",value:function(){var e=this;(0,m.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.initVal,n=t.iscodeVal,r=t.refname,l=t.json;return s.default.createElement("div",{className:"myZoneModal"},s.default.createElement(u.default,{closable:!1,title:(0,f.langCheck)("ZoneSetting-000022","pages",l),wrapClassName:"zonesetting-customModal",visible:this.props.modalVisibel,okText:(0,f.langCheck)("ZoneSetting-000005","pages",l),cancelText:(0,f.langCheck)("ZoneSetting-000006","pages",l),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"custom"},s.default.createElement("div",{className:"def-refer"},s.default.createElement(p.default,{value:{refpk:a,refname:r,refcode:""},placeholder:(0,f.langCheck)("ZoneSetting-000023","pages",l),fieldid:"defdocList",onChange:function(t){e.setState({initVal:t&&t.refpk,refname:t&&t.refname,isgrade:t&&t.values&&t.values.isgrade&&t.values.isgrade.value})}})),s.default.createElement("div",{className:"mdcontent"},s.default.createElement("span",{className:"refer_label"},(0,f.langCheck)("ZoneSetting-000070","pages",l)),s.default.createElement(h,{checked:n,onChange:this.checkboxChange}))))}}]),t}(d.Component);t.default=(0,c.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard}}),{})(b)},1235:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(197));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={refType:"grid",refName:(0,o.langCheck)("0000PUB-000061"),placeholder:(0,o.langCheck)("0000PUB-000061"),refCode:"uapbd.refer.userdef.DefdocListGridRef",queryGridUrl:"/nccloud/uapbd/userdef/DefdocListGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:[(0,o.langCheck)("0000PUB-000062"),(0,o.langCheck)("0000PUB-000063")],code:["code","name"]}]};return r.default.createElement(d,(0,n.default)(t,e))};var r=i(a(1)),l=a(874),o=a(17);function i(e){return e&&e.__esModule?e:{default:e}}var d=l.high.Refer},1236:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=E(a(14)),r=E(a(39)),l=E(a(2)),o=E(a(201)),i=E(a(12)),d=E(a(4)),s=E(a(8)),c=E(a(5)),u=E(a(6)),p=E(a(914));a(920),a(912);var f=a(1),m=E(f),g=E(a(90)),h=E(a(26)),b=a(29),v=E(a(422)),y=E(a(427)),k=a(17),C=a(196),S=a(895);function E(e){return e&&e.__esModule?e:{default:e}}var x=E(a(33)).default.base.NCDiv,w=p.default.TreeNode,M=function(e){function t(e){(0,d.default)(this,t);var a=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.onLoadData=function(e){var t=a.state.json;return new o.default((function(n){e.props.children?n():(0,h.default)({url:"/nccloud/platform/templet/querymetapro.do",info:{name:(0,k.langCheck)("ZoneSetting-000017","pages",t),action:(0,k.langCheck)("ZoneSetting-000020","pages",t)},data:{metaid:e.props.refpk},success:function(t){if(t){var o=t.data,i=o.data,d=o.success;if(d&&i&&i.rows&&i.rows.length>0){var s=[];i.rows.map((function(t,a){s.push((0,l.default)({},t,{title:t.refcode+" "+t.refname,key:e.props.myUniqID+"."+t.refcode,myUniqID:e.props.myUniqID+"."+t.refcode,isLeaf:t.isleaf}))})),e.props.dataRef.children=[].concat(s),a.setState({metaTree:[].concat((0,r.default)(a.state.metaTree))}),n()}}}})}))},a.showModalHidden=function(){var e=a.props.cards;g.default.forEach(e,(function(e,t){e.myMetaPath&&""!==e.myMetaPath&&(e.myMetaPath="")})),a.props.setModalVisibel("relateMetaModalVisibel",!1)},a.onOkDialog=function(){var e="",t=a.props.cards;g.default.forEach(t,(function(t,a){t.myMetaPath&&""!==t.myMetaPath&&(e=""===e?t.code+"="+t.myMetaPath:e+","+t.code+"="+t.myMetaPath)})),a.props.handleSelectChange(e,"relatemeta"),a.showModalHidden()},a.renderTreeNodes=function(e){return e.map((function(e){var t="fieldid_"+e.refcode+"_node";return e.children?m.default.createElement(w,{icon:function(e){var t=e.expanded;return m.default.createElement(y.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return m.default.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},title:e.title,key:e.key,dataRef:e,className:t},a.renderTreeNodes(e.children)):e.isLeaf?m.default.createElement(w,(0,l.default)({icon:m.default.createElement("span",{className:"tree-dot"})},e,{dataRef:e,className:t})):m.default.createElement(w,(0,l.default)({},e,{icon:function(e){var t=e.expanded;return m.default.createElement(y.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return m.default.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},dataRef:e,className:t}))}))},a.onSelect=function(e,t){a.setState({selectedKeys:e,selectTreeNodes:t.selectedNodes})},a.cardClick=function(e){var t=a.state.selectTreeNodes;if(t.length>0){var n=t[0].props.dataRef;n.datatype===e.datatype&&(e.myMetaPath=n.myUniqID,a.setState({selectedKeys:[],selectTreeNodes:[]}))}},a.deleteMyMetaPath=function(e,t){e.myMetaPath="",a.setState({selectedKeys:[],selectTreeNodes:[]})},a.getOpacity=function(e,t){var a=1;return""!==t&&e!==t&&(a=.5),a},a.state={metaTree:[],selectTreeNodes:[],json:{}},a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state.json;if(!0===e.modalVisibel){var n=this.props.selectCard,r=n.metaid,o=n.relatemeta,i=this.props.cards;if(o&&""!==o){var d=o.split(","),s=[];g.default.forEach(d,(function(e){var t=e.split("=");s.push({code:t[0],myMetaPath:t[1]})})),g.default.forEach(i,(function(e,t){g.default.forEach(s,(function(t){t.code===e.code&&(e.myMetaPath=t.myMetaPath)}))}))}(0,h.default)({url:"/nccloud/platform/templet/querymetapro.do",info:{name:(0,k.langCheck)("ZoneSetting-000017","pages",a),action:(0,k.langCheck)("ZoneSetting-000020","pages",a)},data:{metaid:r},success:function(e){if(e){var n=e.data,r=n.data,o=n.success;if(o&&r&&r.rows&&r.rows.length>0){var i=[];r.rows.map((function(e,t){i.push((0,l.default)({},e,{title:e.refcode+" "+e.refname,key:""+e.refcode,myUniqID:""+e.refcode,isLeaf:e.isleaf}))})),t.setState({metaTree:i})}else o&&r&&r.rows&&!r.rows.length&&Notice({status:"warning",msg:(0,k.langCheck)("ZoneSetting-000021","pages",a)})}}})}}},{key:"componentDidMount",value:function(){var e=this;(0,C.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.metaTree,r=t.selectTreeNodes,l=t.json,o=this.props.cards,i="";return r.length>0&&(i=r[0].props.dataRef.datatype),m.default.createElement(v.default,{title:m.default.createElement("div",null,(0,k.langCheck)("ZoneSetting-000071","pages",l),m.default.createElement("span",{style:{fontSize:"13px",marginLeft:"10px"}},(0,k.langCheck)("ZoneSetting-000072","pages",l))),wrapClassName:"realate-meta-modal",visible:this.props.modalVisibel,okText:(0,k.langCheck)("ZoneSetting-000005","pages",l),cancelText:(0,k.langCheck)("ZoneSetting-000006","pages",l),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,width:"80%",bodyHeight:.72*document.body.clientHeight+"px",fieldid:"relateMeta"},m.default.createElement(S.PageLayout,null,m.default.createElement(S.PageLayoutLeft,null,m.default.createElement(x,{className:"sider-tree",fieldid:"releateMeta",areaCode:x.config.TreeCom},m.default.createElement(p.default,{loadData:this.onLoadData,showLine:!0,showIcon:!0,onSelect:this.onSelect,selectedKeys:this.state.selectedKeys},this.renderTreeNodes(a)))),m.default.createElement(S.PageLayoutRight,null,m.default.createElement("div",{className:"sider-list"},m.default.createElement("table",null,m.default.createElement("thead",null,m.default.createElement("tr",null,m.default.createElement("th",null,(0,k.langCheck)("ZoneSetting-000073","pages",l)),m.default.createElement("th",null,(0,k.langCheck)("ZoneSetting-000074","pages",l)))),m.default.createElement("tbody",null,o.map((function(t,a){if(t.metapath&&""!==t.metapath)return m.default.createElement("tr",{key:a,onClick:function(a){e.cardClick(t)},style:{opacity:e.getOpacity(t.datatype,i)}},m.default.createElement("td",null,t.label),t.myMetaPath&&""!==t.myMetaPath?m.default.createElement("td",null,m.default.createElement("div",{className:"close-and-text"},m.default.createElement(n.default,{type:"close",onClick:function(){e.deleteMyMetaPath(t,a)}})," ",t.myMetaPath)):m.default.createElement("td",null))}))))))))}}]),t}(f.Component);t.default=(0,b.connect)((function(e){return{selectCard:e.zoneSettingData.selectCard}}),{})(M)},1237:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(a(2)),r=v(a(12)),l=v(a(4)),o=v(a(8)),i=v(a(5)),d=v(a(6)),s=a(1),c=v(s),u=v(a(422)),p=b(a(874)),f=v(a(26)),m=b(a(429)),g=a(17),h=a(196);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var y=p.high.Refer,k=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("defaultValueModalVisibel",!1)},a.onOkDialog=function(){var e=a.state.defaultvalueObj,t=e.display,n=e.value,r="";""!==t&&""!==n&&(r=t+"="+n),a.props.handleSelectChange(r,"defaultvalue"),a.showModalHidden()},a.state={defaultvalueObj:{},json:{}},a.onOkDialog=a.onOkDialog.bind(a),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.state.json;if(!0===e.modalVisibel){var n={},r=e.defaultvalue,l=e.isMultiSelectedEnabled,o=e.refname;if(r){var i=r.split("=");n={display:i[0],value:i[1]}}"0"===e.areatype?(0,f.default)({url:"/nccloud/platform/templet/getRefDefaultSel.do",info:{name:(0,g.langCheck)("ZoneSetting-000017","pages",a),action:(0,g.langCheck)("ZoneSetting-000024","pages",a)},data:[o],success:function(e){if(e){var a=e.data,r=a.data,o=a.success,i=void 0;o&&r&&(_.forEach(r,(function(e){i=e.refpath})),t.setState({refcode:i,defaultvalueObj:n,isMultiSelectedEnabled:l}))}}}):this.setState({refcode:e.refcode,defaultvalueObj:n,isMultiSelectedEnabled:l})}}},{key:"componentDidMount",value:function(){var e=this;window["nc-lightapp-front"]=p;(0,h.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this,t=this.state.json;return this.state.refcode?c.default.createElement(u.default,{customHeader:(0,g.langCheck)("ZoneSetting-000025","pages",t),wrapClassName:"zonesetting-defaultValueModal",visible:this.props.modalVisibel,okText:(0,g.langCheck)("ZoneSetting-000005","pages",t),cancelText:(0,g.langCheck)("ZoneSetting-000006","pages",t),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"defaultValue"},c.default.createElement("div",{className:"mdcontent"},function(){if(e.state["myRefDom"+e.state.refcode]){var a=(0,e.state["myRefDom"+e.state.refcode])();return c.default.createElement(y,(0,n.default)({isMultiSelectedEnabled:e.state.isMultiSelectedEnabled},a.props,{foolValue:e.state.defaultvalueObj,fieldid:"defaultValueRef",onChange:function(t,a){e.setState({defaultvalueObj:a})},functions:[{name:(0,g.langCheck)("ZoneSetting-000026","pages",t),code:"#mainorg#"},{name:(0,g.langCheck)("ZoneSetting-000027","pages",t),code:"#operator#"}]}))}m.createScript.call(e,""+e.state.refcode)}())):null}}]),t}(s.Component);t.default=k},1238:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(2)),r=g(a(12)),l=g(a(4)),o=g(a(8)),i=g(a(5)),d=g(a(6)),s=a(1),c=g(s),u=g(a(422)),p=g(a(1239)),f=g(a(1240)),m=a(17);function g(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,l.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel("customDocDefaultModalVisibel",!1)},a.onOkDialog=function(){var e=a.state.defaultvalueObj,t=e.display,n=e.value,r="";""!==t&&""!==n&&(r=t+"="+n),a.props.handleSelectChange(r,"defaultvalue"),a.showModalHidden()},a.renderDocRefer=function(){var e=a.props,t=e.isgrade,r=e.docPk,l=e.refname,o=(e.json,{foolValue:a.state.defaultvalueObj,queryCondition:function(){return{pk_defdoclist:r}},refName:l,placeholder:l,onChange:function(e,t){a.setState({defaultvalueObj:t})}});return"Y"===t?c.default.createElement(f.default,(0,n.default)({fieldid:"defdocTreeRef"},o)):c.default.createElement(p.default,(0,n.default)({fieldid:"defdocGridRef"},o))},a.state={defaultvalueObj:{}},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(!0===e.modalVisibel){var t={},a=e.defaultvalue;e.refname;if(a){var n=a.split("=");t={display:n[0],value:n[1]}}this.setState({defaultvalueObj:t})}}},{key:"render",value:function(){var e=this.props.json;return c.default.createElement(u.default,{closable:!1,title:(0,m.langCheck)("ZoneSetting-000227","pages",e),wrapClassName:"zonesetting-defaultValueModal",visible:this.props.modalVisibel,okText:(0,m.langCheck)("ZoneSetting-000005","pages",e),cancelText:(0,m.langCheck)("ZoneSetting-000006","pages",e),onOk:this.onOkDialog,destroyOnClose:!0,onCancel:this.showModalHidden,fieldid:"cusDocDefault"},c.default.createElement("div",{className:"mdcontent"},this.renderDocRefer()))}}]),t}(s.Component);t.default=h},1239:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(197));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={refType:"grid",refName:(0,o.langCheck)("0000PUB-000060"),placeholder:(0,o.langCheck)("0000PUB-000060"),refCode:"uapbd.refer.userdef.DefdocGridRef",queryGridUrl:"/nccloud/uapbd/userdef/DefdocGridRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:[(0,o.langCheck)("0000PUB-000032"),(0,o.langCheck)("0000PUB-000033")],code:["code","name"]}]};return r.default.createElement(d,(0,n.default)(t,e))};var r=i(a(1)),l=a(874),o=a(17);function i(e){return e&&e.__esModule?e:{default:e}}var d=l.high.Refer},1240:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(197));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={refType:"tree",refName:(0,o.langCheck)("0000PUB-000060"),placeholder:(0,o.langCheck)("0000PUB-000060"),refCode:"uapbd.refer.userdef.DefdocTreeRef",queryTreeUrl:"/nccloud/uapbd/userdef/DefdocTreeRef.do",isMultiSelectedEnabled:!1,columnConfig:[{name:[(0,o.langCheck)("0000PUB-000032"),(0,o.langCheck)("0000PUB-000033")],code:["code","name"]}]};return r.default.createElement(d,(0,n.default)(t,e))};var r=i(a(1)),l=a(874),o=a(17);function i(e){return e&&e.__esModule?e:{default:e}}var d=l.high.Refer},1241:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(139)),r=y(a(2)),l=y(a(12)),o=y(a(4)),i=y(a(8)),d=y(a(5)),s=y(a(6)),c=y(a(200));a(195),a(199);var u=a(1),p=y(u),f=a(29),m=(y(a(0)),a(429)),g=a(899),h=a(17),b=a(112),v=y(a(1033));function y(e){return e&&e.__esModule?e:{default:e}}var k=y(a(33)).default.base,C=k.NCSelect,S=k.NCRadio,E=k.NCDiv,x=C.NCOption,w=c.default.TabPane,M=S.NCRadioGroup,A={height:28,width:"100%"},D=function(e){function t(e){(0,o.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.relationcode=function(){var e=a.props,t=e.areaList,n=e.selectedArea;return t&&t.length&&t.filter((function(e){return e.pk_area!==n.pk_area})).map((function(e,t){return{name:e.code,value:e.code}}))},a.onPressEnter=function(e,t){a[t+"input"].blur()},a.changeTemplateValue=function(e,t){var n=a.props,l=n.selectedArea,o=n.areaList,i=n.json;if(o=_.cloneDeep(o),!_.isEmpty(l)){var d=_.cloneDeep(l);if(l=(0,r.default)({},l),"metaObj"===t){var s=o.findIndex((function(e){return e.pk_area===l.pk_area}));if(!_.isEmpty(o[s].queryPropertyList))return void(0,b.ControlTip)({status:"warning",title:(0,h.langCheck)("102202APP-000021","pages",i),msg:(0,h.langCheck)("102202APP-000071","pages",i),onOk:function(){c.call(a)},onCancel:function(){l.metaname=d.metaname,l.metaid="root",l.refcode=d.refcode,a.props.updateSelectArea(l)}});c.call(a)}else l[t]=e,o.map((function(a){a.pk_area==l.pk_area&&(a[t]=e)})),a.props.updateSelectArea(l),a.props.updateAreaList(o)}function c(){l.metaname=e.refname,l.metaid=e.refpk,l.refcode=e.refcode,l.queryPropertyList=[],l.formPropertyList=[],o.map((function(t){t.code==l.code&&(t.metaname=e.refname,t.metaid=e.refpk,t.refcode=e.refcode,t.queryPropertyList=[],t.formPropertyList=[])})),this.props.updateSelectArea(l),this.props.updateAreaList(o)}},a.getTemplateInput=function(e,t){var l=A,o=a.props,i=o.areaList,d=o.selectedArea,s=o.validate,c=i.findIndex((function(e){return e.pk_area===d.pk_area})),u=i[c];return!1===s&&u&&["code","name"].includes(t)&&""===u[t]&&(l=(0,r.default)({},A,{borderColor:"#f5222d"})),p.default.createElement("div",{fieldid:t},p.default.createElement(n.default,{style:l,value:a.props.selectedArea[t],onChange:function(e){a.changeTemplateValue(e.target.value,t)},onBlur:function(e){a.changeTemplateValue(e.target.value,t)},ref:function(e){return a[t+"input"]=e},onPressEnter:function(e){a.onPressEnter(e.target.value,t)},disabled:a.getItemDisabled(t)}))},a.getTemplateSelect=function(e,t){return p.default.createElement("div",{fieldid:t},p.default.createElement(C,{showSearch:!0,showClear:!1,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:a.props.selectedArea[t],onChange:function(e){a.changeTemplateValue(e,t)},style:A,disabled:a.getItemDisabled(t),fieldid:t},e&&e.map((function(e,t){return p.default.createElement(x,{key:t,value:e.value},e.name)}))))},a.getTemplateRefer=function(e){var t=a.props.selectedArea,n={refcode:t?t.refcode:"",refname:t?t.metaname:"",refpk:t?t.metaid:""};return p.default.createElement(v.default,{value:n,onChange:function(e){a.changeTemplateValue(e,"metaObj")},disabled:a.props.isImplement,fieldid:"mdDefaultClassEntity"})},a.getTemplateRadio=function(e,t){return p.default.createElement("div",{fieldid:t},p.default.createElement(M,{defaultValue:!!a.props.selectedArea[t]&&a.props.selectedArea[t],selectedValue:a.props.selectedArea[t],onChange:function(e){a.changeTemplateValue(e,t)},style:A,disabled:a.getItemDisabled(t)},p.default.createElement(S,{value:!0},(0,h.langCheck)("102202APP-000069","pages",a.props.json)),p.default.createElement(S,{value:!1},(0,h.langCheck)("102202APP-000070","pages",a.props.json))))},a.getItemDisabled=function(e){return a.props.isImplement&&!["name","isunfold"].includes(e)},a.state={},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.json,a=e.selectedArea;return p.default.createElement(c.default,{defaultActiveKey:"1",renderTabBar:function(e,t){return p.default.createElement(E,{areaCode:E.config.TABS}," ",p.default.createElement(t,e))}},p.default.createElement(w,{tab:(0,h.langCheck)("102202APP-000067","pages",t),key:"1"},p.default.createElement("ul",{className:"basic-property rightTemplate"},p.default.createElement("li",{className:"required"},(0,h.langCheck)("102202APP-000038","pages",t)),p.default.createElement("li",null,this.getTemplateInput((0,h.langCheck)("102202APP-000038","pages",t),"code")),p.default.createElement("li",{className:"required"},(0,h.langCheck)("102202APP-000039","pages",t)),p.default.createElement("li",null,this.getTemplateInput((0,h.langCheck)("102202APP-000039","pages",t),"name")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000040","pages",t)),p.default.createElement("li",null,this.getTemplateSelect((0,m.areatype)(t),"areatype")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000064","pages",t)),p.default.createElement("li",null,this.getTemplateSelect((0,m.isunfold)(t),"isunfold")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000041","pages",t)),p.default.createElement("li",null,this.getTemplateInput((0,h.langCheck)("102202APP-000041","pages",t),"areadesc")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000042","pages",t)),p.default.createElement("li",null,this.getTemplateSelect(this.relationcode(),"relationcode")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000043","pages",t)),p.default.createElement("li",null,this.getTemplateInput((0,h.langCheck)("102202APP-000043","pages",t),"clazz")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000044","pages",t)),p.default.createElement("li",null,this.getTemplateSelect((0,m.areastatus)(t),"areastatus")),p.default.createElement("li",null,(0,h.langCheck)("102202APP-000036","pages",t)),p.default.createElement("li",null,p.default.createElement("div",{fieldid:"mdDefaultClassEntity"},this.getTemplateRefer((0,h.langCheck)("102202APP-000036","pages",t)))),a.areatype&&"2"==a.areatype&&p.default.createElement("li",null,(0,h.langCheck)("102202APP-000072","pages",t)),a.areatype&&"2"==a.areatype&&p.default.createElement("li",{className:"isgrandsonRadio"},this.getTemplateRadio((0,h.langCheck)("102202APP-000072","pages",t),"isgrandson")))))}}]),t}(u.Component);D.PropTypes={},t.default=(0,f.connect)((function(e){return{areaList:e.zoneSettingData.areaList,selectedArea:e.zoneSettingData.selectedArea,validate:e.zoneSettingData.validate}}),{updateAreaList:g.updateAreaList,updateSelectArea:g.updateSelectArea})(D)},1242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(12)),r=m(a(4)),l=m(a(8)),o=m(a(5)),i=m(a(6)),d=a(1),s=m(d),c=m(a(918)),u=m(a(1243)),p=m(a(1245)),f=m(a(1247));function m(e){return e&&e.__esModule?e:{default:e}}var g=m(a(33)).default.base.NCDiv,h=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.show;return s.default.createElement(g,{className:"template-setting-left-sider-container",fieldid:"left",areaCode:g.config.Area},s.default.createElement("div",{className:"toggle-left-btn "+(e?"hide":"show"),style:{left:e?257:-11},onClick:this.props.onToggleBtnClick},s.default.createElement("i",{className:"iconfont "+(e?"icon-jiantouzuo":"icon-jiantouyou")})),s.default.createElement("div",{className:"template-setting-sider template-setting-left-sider",style:{display:e?"block":"none"}},s.default.createElement(f.default,{isImplement:this.props.status}),!this.props.status&&s.default.createElement(u.default,{json:this.props.json}),s.default.createElement(p.default,{json:this.props.json})))}}]),t}(d.Component);t.default=(0,c.default)(h)},1243:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(12)),r=h(a(4)),l=h(a(8)),o=h(a(5)),i=h(a(6)),d=a(1),s=h(d),c=a(17),u=a(29),p=h(a(1074)),f=h(a(1244)),m=a(899),g=a(428);function h(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.json,a=[{areacode:"0",name:(0,c.langCheck)("102202APP-000033","pages",t),icon:"ncc-pt-cxq"},{areacode:"1",name:(0,c.langCheck)("102202APP-000032","pages",t),icon:"ncc-pt-bdq"},{areacode:"2",name:(0,c.langCheck)("102202APP-000031","pages",t),icon:"ncc-pt-bgq"},{areacode:"3",name:(0,c.langCheck)("102202APP-000074","pages",t),icon:"ncc-pt-bdq"}],n=s.default.createElement("div",null,s.default.createElement("div",{className:"tip"},s.default.createElement("i",{className:"iconfont icon-zhuyi1"}),(0,c.langCheck)("ZoneSetting-000197","pages",t)),s.default.createElement("span",{className:"title"},(0,c.langCheck)("ZoneSetting-000196","pages",t))," ");return s.default.createElement(p.default,{renderHeader:n,onDragItemClick:function(t){return(0,g.addNewAreaItem)(e.props,{items:{areatype:t.items.areacode},isExpand:!0})}},a.map((function(e){return s.default.createElement(f.default,{items:e})})))}}]),t}(d.Component);t.default=(0,u.connect)((function(e){return{areaList:e.zoneSettingData.areaList}}),{updateAreaList:m.updateAreaList,updateSelectArea:m.updateSelectArea})(b)},1244:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(1),l=(n=r)&&n.__esModule?n:{default:n},o=a(898);t.default=(0,o.DragSource)("area",{beginDrag:function(e){return{type:"area",from:"left",areaCode:e.items.areacode}}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))((function(e){var t=e.items,a=e.connectDragSource,n=e.onDragItemClick,r=t.areacode,o=t.name,i=t.icon;return a(l.default.createElement("div",{className:"drag-item-wrapper area",key:r,onClick:n},l.default.createElement("div",{className:"drag-item",title:o},l.default.createElement("i",{className:"iconfont icon-"+i}),l.default.createElement("span",{className:"name"},o))))}))},1245:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(12)),r=m(a(4)),l=m(a(8)),o=m(a(5)),i=m(a(6)),d=a(1),s=m(d),c=a(17),u=m(a(1074)),p=m(a(1246)),f=a(429);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.state={},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.json,t=(0,f.dataTypeObj)();return s.default.createElement(u.default,{headerTitle:(0,c.langCheck)("ZoneSetting-000202","pages",e)},t.map((function(e){return s.default.createElement(p.default,{items:e})})))}}]),t}(d.Component);t.default=g},1246:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(1),l=(n=r)&&n.__esModule?n:{default:n},o=(a(29),a(898));t.default=(0,o.DragSource)("area",{beginDrag:function(e){return{type:"card",from:"left",datatype:e.items.value}}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))((function(e){var t=e.items,a=e.connectDragSource,n=e.onDragItemClick,r=t.datatype,o=t.name,i=t.icon,d=t.nowrap;return a(l.default.createElement("div",{className:"drag-item-wrapper",key:r,onClick:n,style:d&&{padding:"6px 2px"}},l.default.createElement("div",{className:"drag-item",title:o},l.default.createElement("i",{className:"iconfont icon-"+i}),l.default.createElement("span",{className:"name"},o))))}))},1247:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(423)),r=v(a(907)),l=v(a(12)),o=v(a(4)),i=v(a(8)),d=v(a(5)),s=v(a(6)),c=v(a(76));a(424),a(909),a(111);var u=a(1),p=v(u),f=a(29),m=v(a(0)),g=a(899),h=a(1248),b=a(17);a(196);function v(e){return e&&e.__esModule?e:{default:e}}var y=c.default.Option,k=function(e){function t(e,a){(0,o.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,a));return n.getFromData=function(){var e=n.props.form,t=e.getFieldsValue,a=e.validateFields,r=!1;return a((function(e,t){e||(r=!0)})),r?t():null},n.getFormItem=function(e){var t,a=n.props.areaList,r=[],l=[];if(a&&a.map((function(e,t){"1"===e.areatype?r.push(e):"2"===e.areatype&&l.push(e)})),n.props.isImplement)e=e.filter((function(e,t){return"name"===e.code}));else if(0!==r.length||0!==l.length){var o=e.find((function(e){return"headcode"===e.code}));o&&(o.options=(t=a&&a.filter((function(e,t){return"0"!==e.areatype})))&&t.map((function(e,t){return p.default.createElement(y,{key:e.code,value:e.code},e.name)})))}else e=e&&e.filter((function(e,t){return"headcode"!==e.code}));return e},n.createConsttypeOption=function(){return[{code:"bill-list",name:"主子表_列表"},{code:"bill-card",name:"主子表_卡片"},{code:"bill-extCard",name:"一主多子_卡片"},{code:"single-table",name:"单表"},{code:"bill-tree-table",name:"树表"},{code:"bill-tree-card",name:"树卡"}].map((function(e){return p.default.createElement(y,{key:e.code,value:e.code},e.name)}))},n.state={},n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.props.setZoneDataFun(this.getFromData)}},{key:"render",value:function(){var e=this.props.json,t=[{lable:(0,b.langCheck)("102202APP-000005","pages",e),type:"input",code:"code",required:!0},{lable:(0,b.langCheck)("102202APP-000006","pages",e),type:"input",code:"name",required:!0,disabled:this.props.isImplement},{lable:(0,b.langCheck)("102202APP-000007","pages",e),type:"input",code:"resid"},{lable:(0,b.langCheck)("102202APP-000008","pages",e),type:"input",code:"templetdesc",required:!1},{lable:(0,b.langCheck)("102202APP-000009","pages",e),type:"input",code:"clazz",required:!1},{lable:(0,b.langCheck)("102202APP-000010","pages",e),type:"select",code:"headcode",options:[],required:!0},{lable:(0,b.langCheck)("102202APP-000068","pages",e),type:"radio",code:"isdefault"},{lable:"模板类型",type:"select",code:"consttype",options:this.createConsttypeOption()}];return t=this.getFormItem(t),p.default.createElement(n.default,{className:"from-card"},p.default.createElement(r.default,{gutter:24},(0,h.createForm)(t,this.props)))}}]),t}(u.Component);(k=n.default.create()(k)).PropTypes={zoneArr:m.default.object.isRequired,zoneDatas:m.default.object.isRequired,setZoneDataFun:m.default.func.isRequired},t.default=(0,f.connect)((function(e){var t=e.zoneRegisterData,a=t.zoneDatas,n=t.json,r=e.zoneSettingData;return{zoneDatas:a,json:n,areaList:r.areaList,zoneFormData:r.zoneFormData}}),{setZoneDataFun:g.setZoneDataFun,updateAreaList:g.updateAreaList})(k)},1248:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=void 0;var n=p(a(139)),r=p(a(3)),l=p(a(23)),o=p(a(2)),i=p(a(908)),d=p(a(423));a(195),a(910),a(424);var s=p(a(1)),c=a(17),u=p(a(58));function p(e){return e&&e.__esModule?e:{default:e}}var f=p(a(33)).default.base,m=f.NCSelect,g=f.NCRadio,h=d.default.Item,b=g.NCRadioGroup,v=(t.createForm=function(e,t){var a=[];return e&&e.map((function(e,n){e.lable;var r=e.md,l=void 0===r?24:r,o=e.lg,d=void 0===o?12:o,c=e.xl,u=void 0===c?8:c;a.push(s.default.createElement(i.default,{md:l,lg:d,xl:u,key:n,fieldid:e.code},v(t,e)))})),a.filter((function(e){return e.props.children}))},function(e,t){var a=e.zoneDatas,i=e.json,d=e.zoneFormData,p=e.form,f=p.getFieldDecorator,v=(p.getFieldsValue,t.lable),y=t.type,k=t.code,C=t.required,S=t.check,E=(t.search,t.disabled),x=function(t){var a=(0,o.default)({},d),n=["string","boolean"].includes(void 0===t?"undefined":(0,l.default)(t))?t:t.target.value,i=(0,o.default)({},a,(0,r.default)({},k,n));e.setZoneDataFun(i),"headcode"===k&&e.updateAreaList(e.areaList)};switch(y){case"select":return a.areaList&&a.areaList.length>0&&a.areaList.map((function(e){a[k]!==e.code||"0"!==e.areatype||(0,u.default)({status:"error",msg:(0,c.langCheck)("102202APP-000000","pages",i)})})),s.default.createElement(h,{label:v},f(k,{initialValue:a[k]?a[k]+"":"",rules:[{required:C,message:(0,c.langCheck)("102202APP-000001","pages",i)},{validator:S||null}]})(s.default.createElement(m,{showClear:!1,fieldid:k,onChange:x},t.options)));case"radio":var w=!!a[k]&&a[k];return s.default.createElement(h,{label:v},f(k,{initialValue:w,rules:[{required:C},{type:"boolean",validator:S||null}]})(s.default.createElement(b,{selectedValue:e.zoneFormData[k],onChange:x},s.default.createElement(g,{value:!0},(0,c.langCheck)("102202APP-000069","pages",i)),s.default.createElement(g,{value:!1},(0,c.langCheck)("102202APP-000070","pages",i)))));default:return s.default.createElement(h,{label:v},E?s.default.createElement("span",null,a[k]):f(k,{initialValue:a[k]?a[k]+"":"",rules:[{required:C,message:""+(0,c.langCheck)("102202APP-000002","pages",i)+v},{validator:S||null}]})(s.default.createElement(n.default,{onChange:x})))}})},881:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(a(12)),r=C(a(4)),l=C(a(8)),o=C(a(5)),i=C(a(6)),d=C(a(441));a(439);var s=a(1),c=C(s),u=a(29);a(1072);var p=C(a(1210)),f=C(a(1211)),m=C(a(1228)),g=C(a(1242)),h=a(17),b=a(196),v=a(428),y=a(899),k=a(946);C(a(26));function C(e){return e&&e.__esModule?e:{default:e}}d.default.Step;var S=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.toggleLeftSider=function(){var e=a.state.leftSiderShow;a.setState({leftSiderShow:!e})},a.urlRequestObj=(0,h.GetQuery)(a.props.location.search),a.state={templetid:a.urlRequestObj.templetid,status:a.urlRequestObj.status,pcode:a.urlRequestObj.pcode,appcode:a.urlRequestObj.appcode,json:{},isLang:!1,leftSiderShow:!0,isImplement:"templateSetting"===a.urlRequestObj.status||"templateSetting-unit"===a.urlRequestObj.status},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentWillMount",value:function(){var e=this;(0,b.getMulti)({moduleId:["ZoneSetting","102202APP"],domainName:"workbench",callback:function(t){window.multiZoneSettingLang=t,e.props.setJson(t),e.setState({json:t,isLang:!0})}})}},{key:"componentDidMount",value:function(){var e=this,t=(0,h.GetQuery)(this.props.location.search);this.props.setZoneTempletid(t.templetid),v.queryAllArea.call(this).then((function(){v.queryTemplateProperty.call(e)}))}},{key:"render",value:function(){this.state.json;return console.log("pcode",this.state.pcode),console.log("appcode",this.state.appcode),c.default.createElement("div",{className:"template-setting-page"},c.default.createElement(p.default,{templetid:this.state.templetid,status:this.state.status,pcode:this.state.pcode,appcode:this.state.appcode,json:this.state.json,isImplement:this.state.isImplement}),c.default.createElement("div",{className:"template-setting-container"},c.default.createElement(g.default,{json:this.state.json,status:this.state.status,show:this.state.leftSiderShow,onToggleBtnClick:this.toggleLeftSider}),c.default.createElement(f.default,{templetid:this.state.templetid,status:this.state.status,json:this.state.json,isImplement:this.state.isImplement}),this.state.isLang?c.default.createElement(m.default,{json:this.state.json,status:this.state.status,isImplement:this.state.isImplement}):null))}}]),t}(s.Component);t.default=(0,u.connect)((function(e){return{}}),{setJson:k.setJson,setZoneData:k.setZoneData,setZoneTempletid:k.setZoneTempletid,setZoneDataFun:y.setZoneDataFun,updateAreaList:y.updateAreaList})(S)},895:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutRight=t.PageLayoutLeft=t.PageLayoutHeader=t.PageScrollLayout=t.PageLayout=void 0;var n,r,l,o,i,d,s,c,u,p,f=C(a(12)),m=C(a(4)),g=C(a(8)),h=C(a(5)),b=C(a(6)),v=a(1),y=C(v),k=C(a(0));function C(e){return e&&e.__esModule?e:{default:e}}a(896);var S=C(a(33)).default.base.NCDiv,E=!1,x=(r=n=function(e){function t(e){(0,m.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleMouseUp=function(){E=!1},a.handleMouseMove=function(e){if(E){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,r=parseInt(t-n)+3;r<200||(a.style.width=r+"px")}},a}return(0,b.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{className:"nc-workbench-page"},this.props.header?this.props.header:null,y.default.createElement("div",{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+this.props.className},this.props.children))}}]),t}(v.Component),n.defaultProps={className:""},r),w=(o=l=function(e){function t(e){(0,m.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleMouseUp=function(){E=!1},a.handleMouseMove=function(e){if(E){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,r=parseInt(t-n)+3;r<200||(a.style.width=r+"px")}},a.handleScroll=function(e){var t=a.refs.ncWorkbenchPageScroll.getBoundingClientRect(),n=t.y;t.width;if(n==a.initScrollContainerTop&&a.setState({suck:!1}),n<a.initScrollContainerTop){if(a.state.suck)return;a.containerWidthChange(),a.setState({suck:!0})}},a.containerWidthChange=function(){var e=a.refs.ncWorkbenchPageOwnpage.getBoundingClientRect().width;document.getElementsByClassName("nc-workbench-page-header")[0].style.width=e+"px",document.getElementById("suckTableHeader")&&(document.getElementById("suckTableHeader").style.width=e+"px")},a.state={suck:!1},a.initScrollContainerTop,a}return(0,b.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.containerWidthChange);var e=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;this.initScrollContainerTop=e}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.containerWidthChange)}},{key:"render",value:function(){var e=this.state.suck;return y.default.createElement("div",{className:"nc-workbench-page-scroll",onScroll:this.handleScroll},y.default.createElement("div",{className:" nc-workbench-page "},y.default.createElement("div",{className:"nc-workbench-page-container "+(e?"nc-workbench-suck":""),ref:"ncWorkbenchPageScroll"},this.props.header?this.props.header:null,y.default.createElement("div",{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,ref:"ncWorkbenchPageOwnpage",className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+this.props.className},this.props.children))))}}]),t}(v.Component),l.defaultProps={className:""},o),M=(d=i=function(e){function t(e){(0,m.default)(this,t);var a=(0,h.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleMouseDown=function(){E=!0},a}return(0,b.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{id:"layoutLeft",className:"nc-workbench-ownpage-left "+this.props.className},y.default.createElement("span",{className:"layout-drag-block",onMouseDown:this.handleMouseDown}),this.props.children)}}]),t}(v.Component),i.defaultProps={className:""},d),_=(c=s=function(e){function t(e){return(0,m.default)(this,t),(0,h.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e))}return(0,b.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){return y.default.createElement(S,{areaCode:S.config.HEADER,className:"nc-workbench-page-header "+this.props.className},this.props.children)}}]),t}(v.Component),s.defaultProps={className:""},c),A=(p=u=function(e){function t(){return(0,m.default)(this,t),(0,h.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{className:"nc-workbench-ownpage-right "+this.props.className},this.props.children)}}]),t}(v.Component),u.defaultProps={className:""},p);x.propTypes={children:k.default.any.isRequired},M.propTypes={children:k.default.any.isRequired},A.propTypes={children:k.default.any.isRequired},t.PageLayout=x,t.PageScrollLayout=w,t.PageLayoutHeader=_,t.PageLayoutLeft=M,t.PageLayoutRight=A},896:function(e,t,a){var n=a(897);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},897:function(e,t,a){(e.exports=a(13)(!1)).push([e.i,'.nc-workbench-page{position:absolute;top:0;z-index:10;height:100%;width:100%;padding:8px 0 0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.nc-workbench-page .nc-workbench-page-header{-webkit-box-flex:0;flex:0 0 45px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;border-bottom:1px solid #d9d9d9;border-radius:3px 3px 0 0;background:#fff;padding:0 20px}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn{font-size:16px;color:#111;font-weight:700}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont{margin-right:6px;border-radius:50%;font-size:16px;padding:4px;font-weight:400;cursor:pointer}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont:hover{background:#e8e8e8}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-page-header .header_in_icon{display:-webkit-box;display:flex;font-weight:700;font-size:16px;color:#111;line-height:24px}.nc-workbench-page .nc-workbench-page-header .header_in_icon span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-ownpage{min-width:800px;border-radius:0 0 3px 3px}.nc-workbench-page .nc-workbench-ownpage-all{height:100%;display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nc-workbench-page .nc-workbench-ownpage-left{position:relative;height:100%;min-width:280px}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block{position:absolute;right:-3px;z-index:10;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:block;padding:0 3px;height:100%;border-radius:3px;cursor:w-resize}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:after{content:"";display:block;width:1px;height:100%;background:#d9d9d9}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:hover:after{width:2px;background:rgba(0,0,0,.54)}.nc-workbench-page .nc-workbench-ownpage-right{min-width:50%;-webkit-box-flex:1;flex:1}.nc-workbench-page-scroll{height:100%;width:100%;overflow-y:auto}.nc-workbench-page-scroll .nc-workbench-page-container{margin-top:0;min-height:100%;background:#fff;border-radius:3px}.nc-workbench-page-scroll .nc-workbench-page-container .nc-workbench-page-header{position:static;-webkit-transition:top .7s ease;transition:top .7s ease;height:46px}.nc-workbench-page-scroll .nc-workbench-page-container .suck-table-header{position:static;-webkit-transition:top .7s ease;transition:top .7s ease}.nc-workbench-page-scroll .nc-workbench-suck{padding-top:80px}.nc-workbench-page-scroll .nc-workbench-suck .nc-workbench-page-header{position:fixed;z-index:1;top:44px}.nc-workbench-page-scroll .nc-workbench-suck .suck-table-header{position:fixed;z-index:1;top:94px}@media screen and (min-width:1280px){.nc-workbench-page{padding:8px 16px 0}}@media screen and (min-width:1440px){.nc-workbench-page{padding:8px 16px 0}}@media screen and (min-width:1600px){.nc-workbench-page{padding:8px 16px 0}}',""])},899:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAreaValidate=t.updateSaveFlag=t.setZoneDataFun=t.setCurrentBatchCell=t.updateBatchSource=t.setFormulaInfo=t.toggleFormula=t.clearData=t.updatePreviewData=t.updateSelectArea=t.updateAreaList=t.updateSelectCard=t.setZoneData=void 0;var n,r=a(3),l=(n=r)&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(432));t.setZoneData=function(e){return{type:o.ZONESETTING,data:e}},t.updateSelectCard=function(e){return{type:o.UPDATESELECTCARD,selectCard:e}},t.updateAreaList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:o.UPDATEAREALIST,areaList:e,init:t}},t.updateSelectArea=function(e){return{type:o.UPDATESELECTAREA,selectedArea:e}},t.updatePreviewData=function(e){return{type:o.PREVIEWDATA,previewData:e}},t.clearData=function(){return{type:o.CLEARDATA}},t.toggleFormula=function(e,t){return{type:o.TOGGLEFORMULA,formula:(0,l.default)({},e,t)}},t.setFormulaInfo=function(e){return{type:o.SETFORMULAINFO,formulaInfo:e}},t.updateBatchSource=function(e){return{type:o.UPDATEBATCHSOURCE,batchSource:e}},t.setCurrentBatchCell=function(e){return{type:o.SETCURRENTBATCHCELL,currentBatchCell:e}},t.setZoneDataFun=function(e){return{type:o.SETZONEFORMFUN,getFromData:e}},t.updateSaveFlag=function(e){return{type:o.UPDATESAVEFLAG,isSave:e}},t.updateAreaValidate=function(e){return{type:o.SETAREAVALIDATE,validate:e}}},906:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(198)),l=i(a(425)),o=a(34);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.appCode,a=(0,o.getStore)("APPICONSSTORE"),i=a&&a[t],d=r.default[i]?r.default[i]:l.default;return n.default.createElement("div",{style:{width:"24px",height:"24px",marginRight:"10px",background:"url("+d+") no-repeat 0px 0px",backgroundSize:"contain"}})}},913:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(12)),r=f(a(4)),l=f(a(8)),o=f(a(5)),i=f(a(6)),d=a(1),s=f(d),c=f(a(932)),u=f(a(933)),p=a(17);function f(e){return e&&e.__esModule?e:{default:e}}a(934);var m=function(e){function t(e){(0,r.default)(this,t);var a=(0,o.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.switchImg=function(e,t){switch(e){case"treeCardTable":return s.default.createElement("div",{className:"CoverPosition-content-treeCardTable"},s.default.createElement("img",{src:u.default}),s.default.createElement("span",null,t("0000PUB-000002")));default:return s.default.createElement("div",{className:"CoverPosition-content"},s.default.createElement("img",{src:c.default}),s.default.createElement("span",null,t("0000PUB-000002")))}},a}return(0,i.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"CoverPosition-container"},this.switchImg(this.props.type,p.langCheck))}}]),t}(d.Component);t.default=m},918:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(898),l=a(942),o=(n=l)&&n.__esModule?n:{default:n};t.default=(0,r.DragDropContext)(o.default)},932:function(e,t,a){e.exports=a.p+"images/nodata.png"},933:function(e,t,a){e.exports=a.p+"images/idea.png"},934:function(e,t,a){var n=a(935);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},935:function(e,t,a){(e.exports=a(13)(!1)).push([e.i,".CoverPosition-container .CoverPosition-content,.CoverPosition-container .CoverPosition-content-treeCardTable{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.CoverPosition-container .CoverPosition-content-treeCardTable img{width:25px;height:25px}.CoverPosition-container .CoverPosition-content-treeCardTable span{margin-left:8px;font-size:13px;color:#aeaeae}",""])},937:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(a(431)),r=C(a(140)),l=C(a(430)),o=C(a(12)),i=C(a(4)),d=C(a(8)),s=C(a(5)),c=C(a(6)),u=a(1),p=C(u),f=a(29),m=a(899),g=a(874),h=C(a(26)),b=a(17),v=a(196),y=C(a(422)),k=a(90);function C(e){return e&&e.__esModule?e:{default:e}}function S(e){var t=this,a=this.props,n=a.requestUrl,r=a.requestData,l=a.templetData,o=l.pagecode,i=l.appcode,d=l.templetid,s=n||"/nccloud/platform/templet/querypage.do",c=r||{pagecode:o,appcode:i,templetid:d};Array.isArray(c)&&0==c.length||(0,h.default)({url:s,data:c,loading:!0,info:{name:(0,b.langCheck)("ZoneSetting-000028","pages",e),action:(0,b.langCheck)("ZoneSetting-000029","pages",e)},success:function(e){var a=e.data.data;a&&(t.props.meta.setMeta(a),r&&r.forEach((function(e){a[e.code]&&(a[e.code].position=e.position)})),t.props.updatePreviewData(a))}})}a(938);var E=function(e){function t(e){(0,i.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel(!1)},a.createDom=function(){var e=a.props,t=e.editTable,n=e.form,r=e.search,l=n.createForm,o=t.createEditTable,i=r.NCCreateSearch,d=a.state.all_keys,s=[];return d.length&&d.map((function(e,t){switch(e.myAreaType){case"form":s.push(p.default.createElement("div",{className:"viewTemplateArea",key:"form"+t},p.default.createElement("div",{className:"descrip"},p.default.createElement("span",{key:"forms"+t}," ▼ "),""+e.name),l(e.id)));break;case"table":s.push(p.default.createElement("div",{className:"viewTemplateArea",key:"table"+t,ref:""+e.id},p.default.createElement("div",{className:"descrip"},p.default.createElement("span",{key:"tables"+t}," ▼ "),""+e.name),o(e.id,{})));break;case"search":s.push(p.default.createElement("div",{className:"viewTemplateArea",key:"search"+t},p.default.createElement("div",{className:"descrip"},p.default.createElement("span",{key:"searchs"+t}," ▼ "),""+e.name),i(e.id)))}})),s},a.state={all_keys:[],json:{}},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.previewData){var a=e.previewData,o=[],i=function(e,n){var r=n.moduletype,l=n.code,i=a.formrelation;"table"!==r&&"form"!==r&&"search"!==r||"form"===r&&i&&n.relationcode in i||o.push({id:l,name:n.name,myAreaType:r,position:n.position}),"form"===r&&t.props.form.setFormStatus(l,"edit"),"table"===r&&t.refs[l]&&setTimeout((function(){0==t.props.editTable.getNumberOfRows(l)&&t.props.editTable.addRow(l),t.refs[l]=null}),10)},d=!0,s=!1,c=void 0;try{for(var u,p=(0,r.default)((0,n.default)(a));!(d=(u=p.next()).done);d=!0){var f=u.value,m=(0,l.default)(f,2);m[0];i(0,m[1])}}catch(e){s=!0,c=e}finally{try{!d&&p.return&&p.return()}finally{if(s)throw c}}o&&o[0]&&o[0].position&&(o=(0,k.sortBy)(o,(function(e){return e.position}))),this.setState({all_keys:o})}}},{key:"componentDidMount",value:function(){var e=this;(0,v.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t}),S.call(e,t)}})}},{key:"render",value:function(){var e=this.state.json;return p.default.createElement(y.default,{maskClosable:!1,customHeader:(0,b.langCheck)("ZoneSetting-000121","pages",e),visible:this.props.previewVisibel,onOk:this.onOkDialog,onCancel:this.showModalHidden,width:"98%",className:"viewPageTem",centered:!0,footer:null,fieldid:"preview"},this.createDom())}}]),t}(u.Component);E=(0,g.createPage)({})(E),t.default=(0,f.connect)((function(e){return{areaList:e.zoneSettingData.areaList,previewData:e.zoneSettingData.previewData}}),{updatePreviewData:m.updatePreviewData})(E)},938:function(e,t,a){var n=a(939);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},939:function(e,t,a){(e.exports=a(13)(!1)).push([e.i,".viewPageTem .u-modal-content .u-modal-body{overflow:auto;padding:20px 0}.viewPageTem .u-modal-content .u-modal-body .printContent{padding:20px}.viewPageTem .u-modal-content .viewTemplateArea{padding:0 20px}",""])},946:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setJson=t.clearZoneData=t.setTemplateDataFun=t.setZoneDataFun=t.setNewList=t.setZoneState=t.setZoneTempletid=t.setZoneData=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(448));t.setZoneData=function(e){return{type:n.SETZONEDATA,data:e}},t.setZoneTempletid=function(e){return{type:n.ZONETEMPLATID,data:e}},t.setZoneState=function(e){return{type:n.ZONESTATE,data:e}},t.setNewList=function(e){return{type:n.SETNEWLIST,data:e}},t.setZoneDataFun=function(e){return{type:n.ZONEDATAFUN,getFromData:e}},t.setTemplateDataFun=function(e){return{type:n.SETTEMPLATEFUN,getTemplateFromData:e}},t.clearZoneData=function(){return{type:n.CLEARDATA}},t.setJson=function(e){return{type:n.JSON,data:e}}}}]);