(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1067:function(e,t,n){e.exports=n.p+"images/background_card.png"},1068:function(e,t,n){e.exports=n.p+"images/background_card_black.png"},1080:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,'.nc-desktop-setting{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row;height:100%;width:100%;overflow:hidden;border-top:1px solid #eaeaea}.nc-desktop-setting .nc-desktop-setting-content{background:#ddd;-webkit-box-flex:1;flex:1}.nc-desktop-setting .nc-desktop-setting-content .content-anchor{padding-top:2px;margin-left:1px;width:calc(100vw - 380px);height:40px;line-height:40px;display:-webkit-box;display:flex;left:380px;top:45px;position:fixed;overflow-x:auto;overflow-y:hidden;background:#fff}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor{margin-left:5px;padding:0 10px;height:35px}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor a{height:32px;text-align:center;white-space:nowrap;color:#474d54}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor a:hover{color:#dd3730}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active{color:#dd3730;position:relative}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active span{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}.nc-desktop-setting .nc-desktop-setting-content .content-anchor .anchor .active span:after{content:"";display:block;width:100%;height:2px;background:#dd3730;border-radius:4px;position:relative;bottom:4px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container{padding:5px 10px 20px;margin-top:40px;height:calc(100vh - 142px);overflow-y:auto}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item-add{width:100%;border:1px solid rgba(78,89,104,.25);background:#fff}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item{width:100%;margin-bottom:10px;cursor:move;position:relative;-webkit-transition:all .2s ease-out;transition:all .2s ease-out;min-width:500px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container{padding:5px 0 0 1px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;background:#fff;border-radius:3px;margin:0 10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit i{cursor:pointer}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-left{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-left .group-item-title{cursor:pointer;line-height:22px;padding-left:10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-left i{font-size:19px;margin-top:3px;margin-left:7px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-left i:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right{display:-webkit-box;display:flex}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .iconfont{font-size:19px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-edit{padding:1px 0;margin-right:5px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-edit:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-not-edit{color:#d4d4d4;margin-right:7px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-not-edit:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card-shadow{background:#cccfdd;position:absolute;border-radius:3px;-webkit-transition:all .2s ease-out;transition:all .2s ease-out}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card{background:#fff;position:absolute;border:1px solid #f1f1f1;border-radius:3px;-webkit-transition:all .2s ease-out;transition:all .2s ease-out}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card>div{padding-top:10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card .card-mid{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:107px;height:103px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card .card-footer{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;position:absolute;height:35px;width:100%;padding:7px 8px;bottom:0;background:#f2f2f2}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card .card-footer .card-delete{font-size:19px;line-height:23px;cursor:pointer}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-item-container .card-container .card .card-footer .card-delete:hover{color:#111}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item .group-add{margin:0 10px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .group-item:last-child{margin-bottom:calc(100vh - 468px)}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-desktop-container .edit-group-item{box-shadow:0 0 6px #1890ff}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer{background:#f7f8fa;width:calc(100vw - 380px);height:50px;position:fixed;left:380px;bottom:0;border-top:1px solid #ccc;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-button{border-color:hsla(0,0%,100%,.8)}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-button:hover{border-color:hsla(0,0%,100%,.5)}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-left{display:-webkit-box;display:flex;margin-left:20px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-left .footer-button{margin-right:6px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-right{display:-webkit-box;display:flex;margin-right:20px}.nc-desktop-setting .nc-desktop-setting-content .nc-workbench-home-footer .footer-right button{margin-left:6px}.nc-desktop-setting .nc-workbench-home-sider{background:#fff}.nc-desktop-setting .nc-workbench-home-sider .sider-content{margin:10px 5px 15px;padding:1px 8px 0}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .search-input-icon{cursor:pointer}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .switch-search{margin-left:10px;margin-right:0;font-size:20px;cursor:pointer}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .switch-search .left-icon-sousuo{font-size:20px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .switch-search:hover{color:red}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .switch-search-cancel{cursor:pointer;margin-left:10px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search span input{padding-right:45px;border-color:#ccc;box-shadow:none;border-left:none;border-right:none;border-top:none;border-radius:0}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search span input:hover{border-color:#888;box-shadow:none;border-left:none;border-right:none;border-top:none;border-radius:0}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search span i:hover{color:red}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-search .sider-search-color .ant-input-suffix .ant-input-search-icon{color:red;font-size:20px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .add-item{padding:5px;margin:10px 0;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;background:#fff3dc;height:35px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .add-item span{font-size:12px;color:#de6a1c}.nc-desktop-setting .nc-workbench-home-sider .sider-content .add-item .add{cursor:pointer;font-size:19px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .add-item .cannot-add{visibility:hidden}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 165px)}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .no-result{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .no-result img{margin-top:40px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .no-result-character{text-align:center;color:#888;margin-top:16px;font-size:16px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-header{background:#f4f5f7;height:30px;line-height:30px;margin-bottom:.8em}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-header label{padding:0 4px 0 10px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-header .result-header-name{cursor:pointer;height:40px;display:inline-block;width:305px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-header .result-header-name i{font-size:12px;color:rgba(0,0,0,.25)}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list{width:100%;display:-webkit-box;display:flex;flex-wrap:wrap}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col{width:50%}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item{padding-left:5px;margin-bottom:4px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content{padding:3px 4px;border:1px solid #fff;height:30px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;position:relative;cursor:pointer}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .triangle-bottom-right{border-bottom-right-radius:3px;border-color:transparent red red transparent;border-style:solid;border-width:4px 6px 6px 9px;bottom:0;height:0;position:absolute;right:0;width:0}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .title{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;width:145px;color:#252525}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .title .title-name{display:block;max-width:100%;flex-shrink:1;font-size:13px;line-height:14px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .isAddColor{color:#007ace}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .iconlocation{position:absolute;top:-5px;right:-2px;font-size:16px}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content .unSelect{color:#fff}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content:hover{border:1px dashed #c2c2c2}.nc-desktop-setting .nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content:hover .unSelect{color:#ccc}.nc-desktop-setting .nc-workbench-home-sider .sider-content-height{position:relative;z-index:50}.desk-setting-layer{position:fixed;pointer-events:none;z-index:100;left:-20px;top:-20px}.desk-setting-layer .desk-setting-layer-card-list .layer-card{width:135px;height:135px;border:1px solid #ccc;background:#fff;position:absolute;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.desk-setting-layer .desk-setting-layer-card-list .layer-card .layer-card-span{position:absolute;background:#fe4343;color:#fff;border-radius:50%;width:30px;height:30px;display:inline-block;text-align:center;line-height:30px}.desk-setting-layer .desk-setting-layer-card-list .bcBlack,.desk-setting-layer .desk-setting-layer-card-list .bcBlack img{background-color:#202125}.sider-search .search-cascader span{font-size:13px;font-weight:700;color:#111}.sider-search .search-cascader input{border:none;border-bottom:1px solid #d0d0d0;border-radius:0}.fixed-search-input .ant-input-suffix .fixed-search-icon-group{line-height:unset}.fixed-search-input .ant-input-suffix .fixed-search-icon-group .icon-qingkong{display:none;font-size:16px!important;padding-right:3px}.fixed-search-input .ant-input-suffix .iconfont:not(.icon-qingkong){display:inline-block;font-size:20px!important;cursor:pointer}.fixed-search-input .ant-input-suffix .ant-input-search-icon{display:none}.fixed-search-input:hover .ant-input-suffix .fixed-search-icon-group .icon-qingkong{display:inline-block;color:rgba(0,0,0,.25);font-size:16px;padding-right:3px}.fixed-search-input:hover .ant-input-suffix .fixed-search-icon-group .icon-qingkong:hover{color:#999;font-size:16px;padding-right:3px}.desk-setting-vertical-center-modal{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.desk-setting-vertical-center-modal .ant-modal{top:0}.modal-radio-group .modal-radio{margin-bottom:10px}.ant-dropdown ul.ant-dropdown-menu,.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item{padding:0}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button{-moz-text-align-last:center;text-align-last:center;font-size:13px;background-color:inherit;width:100%;border:none;outline:none;cursor:pointer}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:focus{border:none}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:disabled{color:#ccc}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:hover{background-color:inherit}.ant-dropdown ul.ant-dropdown-menu .all_expand{border-bottom:1px solid #c1c1c1}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item:hover{background-color:#f4f5f7}.all_expand{cursor:pointer;font-weight:700}.all_expand .ant-btn{box-shadow:none!important}.allPack{cursor:not-allowed}.desk-setting-cascader-popup .ant-cascader-menu{width:165px;min-height:390px;overflow-y:auto}.desk-setting-cascader-popup .ant-cascader-menu li{padding-right:25px;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.desk-setting-cascader-popup .ant-cascader-menu li:hover{background:#f5f5f5}',""])},1131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=_(n(1047)),r=_(n(14)),a=_(n(436)),i=_(n(1348)),s=_(n(3)),p=_(n(1079)),d=_(n(12)),c=_(n(4)),l=_(n(8)),u=_(n(5)),f=_(n(6)),h=_(n(139)),g=_(n(998));n(1066),n(920),n(437),n(1136),n(1139),n(195),n(995);var m=n(1),k=_(m),b=_(n(90)),v=_(n(1142)),w=n(29),y=_(n(26)),x=_(n(33)),D=_(n(58)),C=_(n(1143));function _(e){return e&&e.__esModule?e:{default:e}}var E=g.default.Sider,I=h.default.Search,S=x.default.base,G=S.NCDiv,j=S.NCButton,N=function(e){function t(e){(0,c.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.updateAppGroupArr=function(e){n.setState({appGroupArr:e})},n.showModalVisible=function(){n.setModalVisible(!0)},n.setModalVisible=function(e){n.setState({modalVisible:e})},n.onInputChange=function(e){var t=e.target.value;n.state.searchValue=t,n.setState({searchValue:t})},n.handleSearchDel=function(){n.setState({searchValue:""})},n.onInputSearch=function(){if(""!==n.state.searchValue){var e=n.props.relateidObj,t={};t="userID"===e.type?{search_content:n.state.searchValue}:"is_group"===e.type?{search_content:n.state.searchValue,is_group:e.data}:{search_content:n.state.searchValue,pk_responsibility:e.data},(0,y.default)({url:"/nccloud/platform/appregister/searchmenuitem.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000029"]},data:t,success:function(e){var t=e.data,o=t.data,r=t.success;r&&o&&o.children&&o.children.length>0?(o.isShow=!0,o.checkedAll=!1,o.indeterminate=!1,b.default.forEach(o.children,(function(e){e.checked=!1,e.height=Number(e.height),e.width=Number(e.width)})),n.setState({appGroupArr:[o],isAllShow:!0})):o&&o.children&&0===o.children.length?n.setState({appGroupArr:[],isAllShow:!0}):(0,D.default)({status:"error",msg:o})}})}},n.onCascaderChange=function(e){if(!e||0!==e.length){var t=e;if(1!==t.length){var o=n.props.relateidObj,r=t[1],a={};a="userID"===o.type?{own_module:r}:"is_group"===o.type?{own_module:r,is_group:o.data}:{own_module:r,pk_responsibility:o.data};var i=n.props.location&&n.props.location.search;if(i&&-1!==i.indexOf("pk_responsibility")){var s=i.substring(i.indexOf("pk_responsibility")),p=s.substring(s.indexOf("=")+1);a.pk_responsibility=p}else i&&-1!==i.indexOf("is_group=true")&&(a.is_group=!0);(0,y.default)({url:"/nccloud/platform/appregister/queryapplazy.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000030"]},data:a,success:function(t){var o=t.data,r=o.data,a=o.success;a&&r&&r.length>0?(b.default.forEach(r,(function(e){e.isShow=!0,e.checkedAll=!1,e.indeterminate=!1,b.default.forEach(e.children,(function(e){e.checked=!1,e.height=Number(e.height),e.width=Number(e.width)}))})),n.setState({appGroupArr:r,isAllShow:!0,domainModuleSelect:e})):r&&0===r.length?n.setState({appGroupArr:[],isAllShow:!0,domainModuleSelect:e}):(0,D.default)({status:"error",msg:r})}})}}},n.switchSearch=function(){var e=n.state.showSearch;n.setState({showSearch:!e},(function(){n.state.showSearch?(n.refs.searchInput.focus(),n.setState({isAllShow:!0})):n.onCascaderChange(n.state.domainModuleSelect)}))},n.allShowOrHide=function(e){var t=n.state,o=t.appGroupArr;t.isAllShow;b.default.forEach(o,(function(t){t.isShow=e})),n.setState({appGroupArr:o,isAllShow:e})},n.onCheckAllChange=function(e,t){var o=e.target.checked,r=n.state.appGroupArr,a=r[t];a.checkedAll=e.target.checked,a.indeterminate=!1,b.default.forEach(a.children,(function(e){e.checked=o})),n.setState({appGroupArr:r})},n.onChangeChecked=function(e,t,o){var r=n.state.appGroupArr,a=r[t];a.children[o].checked=e;var i=0;b.default.forEach(a.children,(function(e){e.checked&&i++})),a.checkedAll=i===a.children.length,a.indeterminate=!!i&&i<a.children.length,n.setState({appGroupArr:r})},n.allShowOrHideMenu=function(){return k.default.createElement(p.default,null,k.default.createElement(p.default.Item,{key:"0",className:"all_expand"},k.default.createElement(j,{onClick:function(){n.allShowOrHide(!0)},style:n.state.isAllShow?{cursor:"not-allowed",margin:0}:{cursor:"pointer",fontWeight:"bold",margin:0},disabled:n.state.isAllShow?{disabled:"disabled"}:null,fieldid:"unfold"},n.props.json["DesktopSetting-000036"])),k.default.createElement(p.default.Item,{key:"1"},k.default.createElement(j,{onClick:function(){n.allShowOrHide(!1)},style:n.state.isAllShow?{cursor:"pointer",fontWeight:"bold",margin:0}:{cursor:"not-allowed",margin:0},disabled:n.state.isAllShow?null:{disabled:"disabled"},fieldid:"fold"},n.props.json["DesktopSetting-000037"])))},n.state={showSearch:!1,searchValue:"",appGroupArr:null,modalVisible:!1,isAllShow:!0,domainModuleSelect:[]},n}return(0,f.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.relateidObj,n={};n="userID"===t.type?{}:"is_group"===t.type?{is_group:t.data}:{pk_responsibility:t.data};var o=this.props.location&&this.props.location.search;if(o&&-1!==o.indexOf("pk_responsibility")){var r=o.substring(o.indexOf("pk_responsibility")),a=r.substring(r.indexOf("=")+1);n.pk_responsibility=a}else o&&-1!==o.indexOf("is_group=true")&&(n={is_group:!0});(0,y.default)({url:"/nccloud/platform/appregister/queryapplazy.do",info:{name:this.props.json["DesktopSetting-000004"],action:this.props.json["DesktopSetting-000027"]},data:n,success:function(t){if(t){var n=t.data,o=n.data,r=n.success;if(r&&o&&o.length>0){var a=[o[0].value,o[0].children[0].value];e.onCascaderChange(a),e.setState({domainArr:o,domainModuleSelect:a})}else 0===o.length?(0,D.default)({status:"warning",msg:e.props.json["DesktopSetting-000028"]}):(0,D.default)({status:"error",msg:o})}}})}},{key:"getSearchDom",value:function(){return this.state.showSearch?k.default.createElement("div",{className:"sider-search fixed-search-input"},k.default.createElement("div",{fieldid:"picker"},k.default.createElement(I,(0,s.default)({ref:"searchInput",placeholder:this.props.json["DesktopSetting-000031"],style:{width:"310px"},onChange:this.onInputChange,onSearch:this.onInputSearch,value:this.state.searchValue,suffix:this.state.searchValue.length>0?k.default.createElement("span",{className:"fixed-search-icon-group"},k.default.createElement("i",{className:"iconfont icon-qingkong",onClick:this.handleSearchDel}),k.default.createElement("i",{className:"iconfont icon-sousuo left-icon-sousuo",onClick:this.onInputSearch})):k.default.createElement("i",{className:"iconfont icon-sousuo left-icon-sousuo",onClick:this.onInputSearch}),className:"fieldid_picker_select"},"className",this.state.searchValue.length>0?"sider-search-color":""))),k.default.createElement("span",{className:"switch-search-cancel",onClick:this.switchSearch},this.props.json["DesktopSetting-000009"])):k.default.createElement("div",{className:"sider-search"},k.default.createElement("div",{fieldid:"picker"},k.default.createElement(i.default,{className:"search-cascader",style:{width:"310px"},allowClear:!1,defaultValue:this.state.defaultValue,value:this.state.domainModuleSelect,options:this.state.domainArr,onChange:this.onCascaderChange,placeholder:this.props.json["DesktopSetting-000032"],expandTrigger:"hover",popupClassName:"desk-setting-cascader-popup fieldid_picker_select"})),k.default.createElement("span",{className:"switch-search"},k.default.createElement("i",{title:this.props.json["DesktopSetting-000033"],className:"iconfont icon-sousuo left-icon-sousuo",onClick:this.switchSearch})))}},{key:"getResultDom",value:function(){var e=this;return this.state.appGroupArr&&this.state.appGroupArr.length>0?this.state.appGroupArr.map((function(t,n){return k.default.createElement(G,{className:"result-group-list",key:n,fieldid:t.label,areaCode:G.config.Group},t.label===e.props.json["DesktopSetting-000034"]?"":k.default.createElement("h4",{className:"result-header",fieldid:"result-header"},k.default.createElement(a.default,{checked:t.checkedAll,indeterminate:t.indeterminate,onChange:function(t){e.onCheckAllChange(t,n)}}),k.default.createElement("strong",{style:{fontWeight:"bold"}},k.default.createElement("span",{className:"result-header-name",onClick:function(){e.onChangeShowHide(n)}}," ",t.label," ",t.isShow?k.default.createElement(r.default,{type:"down",className:"arrow-down-icon"}):k.default.createElement(r.default,{type:"right",className:"arrow-right-icon"})))),k.default.createElement("div",{className:"result-app-list",style:{display:t.isShow?"flex":"none"}},t.children.map((function(t,o){return k.default.createElement("div",{className:"app-col",key:o,fieldid:t.label},k.default.createElement("div",{className:"list-item"},k.default.createElement(v.default,{id:t.value,key:t.value,width:t.width,height:t.height,index:o,parentIndex:n,name:t.label,appGroupArr:e.state.appGroupArr,checked:t.checked,onChangeChecked:e.onChangeChecked,updateAppGroupArr:e.updateAppGroupArr})))}))))})):this.state.appGroupArr?k.default.createElement("div",{className:"result-group-list"},k.default.createElement("div",{className:"no-result"},k.default.createElement("img",{src:C.default,alt:this.props.json["DesktopSetting-000035"],width:"80",className:"commondataPlaceholder"}),k.default.createElement("br",null)),k.default.createElement("div",{className:"no-result-character"},this.props.json["DesktopSetting-000042"])):k.default.createElement("div",{className:"result-group-list"})}},{key:"onChangeShowHide",value:function(e){var t=this.state.appGroupArr;t[e].isShow=!t[e].isShow,this.setState({appGroupArr:t})}},{key:"hasChechedItem",value:function(){var e=!1,t=this.state.appGroupArr;return b.default.forEach(t,(function(t){if(b.default.forEach(t.children,(function(t){if(t.checked)return e=!0,!1})),e)return!1})),e}},{key:"render",value:function(){var e=this.props.contentHeight,t=(this.state.isAllShow,""),n=this.state.appGroupArr;return n&&n.map((function(e,n){t=e.label})),k.default.createElement(E,{className:"nc-workbench-home-sider",width:380,style:{height:e}},k.default.createElement("div",{className:"sider-content sider-content-height",fieldid:"left"},this.getSearchDom(),k.default.createElement("div",{className:"add-item"},k.default.createElement("span",null,this.props.json["DesktopSetting-000038"]),t===this.props.json["DesktopSetting-000034"]?"":k.default.createElement(o.default,{trigger:["hover"],placement:"bottomCenter",overlay:this.allShowOrHideMenu(),overlayClassName:"fieldid_opr_menu"},k.default.createElement(r.default,{type:"menu-unfold",className:"menu-unfold-icon"}))),k.default.createElement("div",{className:"sider-result"},this.getResultDom())))}}]),t}(m.Component);t.default=(0,w.connect)((function(e){return{json:e.templateDragData.json}}),{})(N)},1142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=g(n(12)),r=g(n(4)),a=g(n(8)),i=g(n(5)),s=g(n(6)),p=n(1),d=g(p),c=n(898),l=n(942),u=n(29),f=n(948),h=n(143);function g(e){return e&&e.__esModule?e:{default:e}}var m={beginDrag:function(e,t,n){var o=[],r=e.appGroupArr;return _.forEach(r,(function(t,n){_.forEach(t.children,(function(t,r){(t.checked||t.value===e.id)&&o.push({cardid:t.value,width:t.width,height:t.height,name:t.label,isShadow:!1,isChecked:!1,gridx:666+100*n+r,gridy:999})}))})),{type:"cardlist",cardList:o}},endDrag:function(e,t,n){if(t.didDrop()){var o=e.appGroupArr;o=_.cloneDeep(o),_.forEach(o,(function(e){_.forEach(e.children,(function(e){e.checked&&(e.checked=!1)})),e.checkedAll=!1,e.indeterminate=!1})),e.updateAppGroupArr(o)}}};var k=function(e){function t(e){(0,r.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.onChangeChecked=function(e){var t=e.target.checked,o=n.props,r=o.index,a=o.parentIndex;n.props.onChangeChecked(t,a,r)},n.clickSiderCard=function(){var e=n.props,t=e.index,o=e.parentIndex,r=e.checked;n.props.onChangeChecked(!r,o,t)},n}return(0,s.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview((0,l.getEmptyImage)(),{captureDraggingState:!0})}},{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.checked!==e.checked||(0,h.hasCardContainInGroups)(this.props.groups,this.props.id)!==(0,h.hasCardContainInGroups)(e.groups,this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.groups,o=e.id,r=(e.index,e.name),a=e.checked,i=(e.parentIndex,(0,h.hasCardContainInGroups)(n,o));return t(d.default.createElement("div",null,d.default.createElement("div",{className:"list-item-content",onClick:this.clickSiderCard,style:a?{border:"black"==window.top.nccColor?"1px dashed #fff":"1px dashed #d4d4d4"}:{border:"black"==window.top.nccColor?"1px solid #202028":null}},i?d.default.createElement("div",{className:a?"title isAddColor titleChecked":"title isAddColor"},d.default.createElement("span",{className:"title-name"},r)):d.default.createElement("div",{className:a?"title titleChecked":"title"},d.default.createElement("span",{className:"title-name"},r)),a?d.default.createElement("i",{title:this.props.json["DesktopSetting-000039"],className:"iconfont icon-peizhi_tianjia iconlocation",style:{color:"rgb(0, 122, 206)"}}):d.default.createElement("i",{title:this.props.json["DesktopSetting-000040"],className:"iconfont icon-peizhi_tianjia iconlocation unSelect"}),i)))}}]),t}(p.Component),b=(0,c.DragSource)("item",m,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}))(k);t.default=(0,u.connect)((function(e){return{groups:e.templateDragData.groups,json:e.templateDragData.json}}),{updateGroupList:f.updateGroupList})(b)},1143:function(e,t,n){e.exports=n.p+"images/searchplaceholder.png"},1144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=_(n(42)),r=_(n(94)),a=_(n(95)),i=_(n(2)),s=_(n(12)),p=_(n(4)),d=_(n(8)),c=_(n(5)),l=_(n(6));n(91);var u=n(1),f=_(u),h=_(n(90));n(999);var g=n(29),m=n(948),k=n(463),b=n(440),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(143)),w=_(n(1145)),y=_(n(1148)),x=_(n(1149)),D=n(150),C=n(17);function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){(0,p.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.moveCardInGroupItem=function(e,t,o,r){var a=n.props.groups,s=n.props.shadowCard,p=n.props.layout,d=p.margin,c=p.containerWidth,l=p.col,u=p.rowHeight,f=v.calGridXY(o,r,s.width,d,c,l,u),g=f.gridX,m=f.gridY;if(g!==s.gridx||m!==s.gridy){var w=t.index,y=s.cardid;if(!v.checkCardContainInGroup(a[w],y)){h.default.forEach(a,(function(e,t){h.default.remove(e.apps,(function(e){return!0===e.isShadow}))})),s=(0,i.default)({},s,{gridx:g,gridy:m}),a[w].apps.push(s);var x=(0,k.layoutCheck)(a[w].apps,s,s.cardid,s.cardid,"gridx"),D=void 0;D=(0,b.compactLayoutHorizontal)(x,n.props.col,y),a[w].apps=D,n.props.updateShadowCard(s),n.props.updateGroupList(a)}}},n.onCardDropInGroupItem=function(e,t){var o=n.props.groups;o=h.default.cloneDeep(o),v.setPropertyValueForCards(o,"isShadow",!1),h.default.forEach(o,(function(e,t){var r=(0,b.compactLayoutHorizontal)(o[t].apps,n.props.col);o[t].apps=r})),n.props.updateGroupList(o),n.props.updateShadowCard({})},n.onCardListDropInGroupItem=function(e,t){var o=n.props.groups;o=h.default.cloneDeep(o);var r=t.index,a=e.cardList;o[r].apps=h.default.concat(o[r].apps,a),o[r].apps=h.default.uniqBy(o[r].apps,"cardid");var i=(0,b.compactLayoutHorizontal)(o[r].apps,n.props.col);o[r].apps=i,n.props.updateGroupList(o)},n.moveGroupItem=function(e,t){var o=n.props.groups,r=(o=h.default.cloneDeep(o))[e];o.splice(e,1),o.splice(t,0,r),n.props.updateGroupList(o)},n.onDrop=function(e,t){if(e.type!==t.type){for(var o=n.props.groups,r=void 0,a=void 0,i=void 0,s=void 0,p=0,d=(o=h.default.cloneDeep(o)).length;p<d;p++){o[p].pk_app_group===t.id&&(a=p);for(var c=0,l=o[p].apps.length;c<l;c++){var u=o[p].apps;u[c].cardid===e.id&&(r=u[c],i=c,s=p)}}o[s].apps.splice(i,1),o[a].apps.push(r),n.props.updateGroupList(o)}},n.upGroupItem=function(e){var t=n.props.groups;if(t=h.default.cloneDeep(t),0!==e){var o=t[e-1];t[e-1]=t[e],t[e]=o,n.props.updateGroupList(t)}},n.downGroupItem=function(e){var t=n.props.groups;if(e!==(t=h.default.cloneDeep(t)).length-1){var o=t[e+1];t[e+1]=t[e],t[e]=o,n.props.updateGroupList(t)}},n.deleteGroupItem=function(e){var t=n.props.groups;t=h.default.cloneDeep(t),h.default.remove(t,(function(t){return t.pk_app_group===e})),n.props.updateGroupList(t)},n.addFirstGroupItem=function(){var e=n.props.groups;e=h.default.cloneDeep(e);var t={pk_app_group:"newGroupItem"+(new Date).getTime(),groupname:""+n.props.json["DesktopSetting-000002"],type:"group",apps:[]};e.push(t),n.props.updateGroupList(e),n.props.updateCurrEditID(t.pk_app_group)},n.addGroupItem=function(e){var t=n.props.groups,o=n.props.json["DesktopSetting-000002"];t=h.default.cloneDeep(t);var r=e,a={pk_app_group:"newGroupItem"+(new Date).getTime(),groupname:n.props.json["DesktopSetting-000002"]+"("+v.getNewGroupItemNum(o,t)+")",type:"group",apps:[]};t.splice(r+1,0,a),n.asyncUpdateGroupList(t).then((function(){D.scroller.scrollTo("a"+a.pk_app_group,{offset:-139,spy:!0,smooth:!0,duration:250,containerId:"nc-workbench-desktop-container"})})),n.props.updateCurrEditID(a.pk_app_group)},n.changeGroupName=function(e,t){var o=n.props.groups;(o=h.default.cloneDeep(o))[e].groupname=t,n.props.updateGroupList(o),n.props.updateCurrEditID("")},n.handleLoad=function(){(0,C.DeferFn)((function(){var e=void 0,t=document.querySelector(".card-container");if(t)e=t.clientWidth;else{var o=document.querySelector("#first-add");if(!o)return;e=o.clientWidth-10}var r=n.props.defaultLayout.calWidth,a=n.props.layout,i=a.containerPadding,s=a.margin,p=h.default.cloneDeep(n.props.layout),d=window.innerWidth-120,c=v.calColCount(r,d,i,s),l=v.calColWidth(e,c,i,s),u=n.props.groups;u=h.default.cloneDeep(u),h.default.forEach(u,(function(e){var t=(0,b.compactLayoutHorizontal)(e.apps,c);e.apps=t})),p.calWidth=p.rowHeight=l,p.col=c,p.containerWidth=e,n.props.updateGroupList(u),n.props.updateLayout(p)}))},n.state={},n}var n;return(0,l.default)(t,e),(0,d.default)(t,[{key:"asyncUpdateGroupList",value:(n=(0,a.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateGroupList(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleLoad)}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.handleLoad),setTimeout((function(){0===e.props.groups.length&&(e.addFirstGroupItem(),document.getElementsByClassName("ant-input")[1].select())}),1500)}},{key:"initGroupItem",value:function(e){var t=this,n=[];return 0===e.length?n.push(f.default.createElement("div",{key:0,className:"first-add",id:"first-add"},f.default.createElement(o.default,{className:"group-item-add",onClick:this.addFirstGroupItem}," ","+ ",this.props.json["DesktopSetting-000001"]))):n=e.map((function(n,o){return f.default.createElement(w.default,{key:n.pk_app_group,id:n.pk_app_group,type:n.type,index:o,cards:n.apps,length:e.length,groupname:n.groupname,moveCardInGroupItem:t.moveCardInGroupItem,onDrop:t.onDrop,onCardDropInGroupItem:t.onCardDropInGroupItem,onCardListDropInGroupItem:t.onCardListDropInGroupItem,moveGroupItem:t.moveGroupItem,upGroupItem:t.upGroupItem,downGroupItem:t.downGroupItem,deleteGroupItem:t.deleteGroupItem,addGroupItem:t.addGroupItem,changeGroupName:t.changeGroupName,getCardsByGroupIndex:t.getCardsByGroupIndex,handleLoad:t.handleLoad})})),n}},{key:"render",value:function(){var e=this.props,t=e.groups,n=e.relateidObj;return f.default.createElement("div",{className:"nc-desktop-setting-content",fieldid:"right"},f.default.createElement(y.default,{onCardListDropInGroupItem:this.onCardListDropInGroupItem}),f.default.createElement("div",{className:"nc-workbench-desktop-container",id:"nc-workbench-desktop-container"},this.initGroupItem(t)),f.default.createElement(x.default,{relateidObj:n,unLoadNext:this.props.unLoad}))}}]),t}(u.Component);t.default=(0,g.connect)((function(e){return{groups:e.templateDragData.groups,shadowCard:e.templateDragData.shadowCard,layout:e.templateDragData.layout,defaultLayout:e.templateDragData.defaultLayout,col:e.templateDragData.layout.col,json:e.templateDragData.json}}),{updateGroupList:m.updateGroupList,updateShadowCard:m.updateShadowCard,updateCurrEditID:m.updateCurrEditID,updateLayout:m.updateLayout})(E)},1145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=v(n(12)),a=v(n(4)),i=v(n(8)),s=v(n(5)),p=v(n(6)),d=n(1),c=v(d),l=n(10),u=n(29),f=n(898),h=v(n(1146)),g=v(n(1147)),m=v(n(90)),k=n(948),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(143));function v(e){return e&&e.__esModule?e:{default:e}}var w=v(n(33)).default.base,y=w.NCDiv,x=w.NCButton,D={hover:function(e,t,n){var o=t.getItem();if("group"===o.type){var r=t.getItem().index,a=e.index;if(r===a)return;var i=(0,l.findDOMNode)(n).getBoundingClientRect(),s=(i.bottom-i.top)/2,p=t.getClientOffset().y-i.top;if(r<a&&p<s)return;if(r>a&&p>s)return;e.moveGroupItem(r,a),t.getItem().index=a}else if("card"===o.type){var d=e,c=t.getClientOffset(),u=c.x,f=c.y,h=(0,l.findDOMNode)(n).getBoundingClientRect(),g=h.left,m=h.top;e.moveCardInGroupItem(o,d,u-g,f-m)}},drop:function(e,t,n){var o=t.getItem(),r=e;"group"===o.type?e.onDrop(o,r):"card"===o.type?e.onCardDropInGroupItem(o,r):"cardlist"===o.type&&e.onCardListDropInGroupItem(o,r)}},C=(0,f.DropTarget)("item",D,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(o=(0,f.DragSource)("item",{beginDrag:function(e,t,n){return{id:e.id,index:e.index,type:e.type}},canDrag:function(e,t){return""===e.currEditID}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(o=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.upGroupItem=function(e){n.props.upGroupItem(e)},n.downGroupItem=function(e){n.props.downGroupItem(e)},n.deleteGroupItem=function(e){n.props.deleteGroupItem(e)},n.addGroupItem=function(){n.props.addGroupItem(n.props.index)},n.changeGroupName=function(e,t){n.props.changeGroupName(e,t)},n.state={},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=void 0,t=document.querySelector(".card-container");t&&(e=t.clientWidth),this.props.layout.containerWidth!==e&&this.props.handleLoad()}},{key:"createCards",value:function(e,t,n){var o=[];return m.default.forEach(e,(function(e,r){o.push(c.default.createElement(h.default,{dragCardID:-1,apptype:e.apptype,type:"card",name:e.name,id:e.cardid,groupID:t,groupIndex:n,index:r,gridx:e.gridx,gridy:e.gridy,width:e.width,height:e.height,haspower:e.haspower,isShadow:e.isShadow,isChecked:e.isChecked,key:t+"_"+e.cardid}))})),o}},{key:"render",value:function(){var e=this.props,t=e.isDragging,n=e.connectDragSource,o=e.connectDropTarget,r=(e.isOver,e.groupname),a=e.id,i=e.index,s=(e.length,e.currEditID),p=e.defaultLayout,d=e.layout,l=e.cards,u=b.getContainerMaxHeight(l,d.rowHeight,d.margin),f=t?0:1,h=s===a?"group-item edit-group-item":"group-item",m=s===a?"groupDragID":"";return c.default.createElement(y,{className:h,fieldid:r,areaCode:y.config.Group},n(o(c.default.createElement("div",{name:"a"+a,style:{opacity:f},id:m},c.default.createElement("div",{className:"group-item-container"},c.default.createElement(g.default,{currEditID:this.props.currEditID,id:this.props.id,cards:this.props.cards,groupname:this.props.groupname,index:this.props.index,length:this.props.length,changeGroupName:this.changeGroupName,deleteGroupItem:this.deleteGroupItem,downGroupItem:this.downGroupItem,upGroupItem:this.upGroupItem}),c.default.createElement(y,{fieldid:"container",areaCode:y.config.Area,className:"card-container",style:{height:u>p.containerHeight?u:p.containerHeight}},this.createCards(l,a,i))),c.default.createElement("div",{className:"group-add"},c.default.createElement(x,{className:"group-item-add",onClick:this.addGroupItem,fieldid:"addgroup"}," ","+ ",this.props.json["DesktopSetting-000001"]))))))}}]),t}(d.Component))||o)||o;t.default=(0,u.connect)((function(e){return{layout:e.templateDragData.layout,defaultLayout:e.templateDragData.defaultLayout,currEditID:e.templateDragData.currEditID,json:e.templateDragData.json}}),{updateCurrEditID:k.updateCurrEditID})(C)},1146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=w(n(436)),a=w(n(12)),i=w(n(4)),s=w(n(8)),p=w(n(5)),d=w(n(6));n(437);var c=n(1),l=w(c),u=n(898),f=n(29),h=n(440),g=n(948),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(143)),k=w(n(90)),b=w(n(1067)),v=w(n(1068));function w(e){return e&&e.__esModule?e:{default:e}}var y={beginDrag:function(e,t,n){var o=m.getCardByGroupIDAndCardID(e.groups,e.groupID,e.id);return o.isShadow=!0,e.updateShadowCard(o),{id:e.id,type:e.type}},endDrag:function(e,t,n){if(!t.didDrop()){var o=e.groups;e.groupIndex;o=k.default.cloneDeep(o),m.setPropertyValueForCards(o,"isShadow",!1),e.updateShadowCard({}),e.updateGroupList(o)}}},x=(0,u.DragSource)("item",y,(function(e){return{connectDragSource:e.dragSource()}}))(o=function(e){function t(e){(0,i.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.deleteCard=function(){var e=n.props,t=e.groups,o=e.groupIndex;t=k.default.cloneDeep(t),m.removeCardByGroupIndexAndCardID(t,o,n.props.id);var r=(0,h.compactLayoutHorizontal)(t[o].apps,n.props.layout.col);t[o].apps=r,n.props.updateGroupList(t)},n.onCheckboxChange=function(e){var t=n.props,o=t.groups,r=t.groupIndex,a=t.index;o=k.default.cloneDeep(o);var i=e.target.checked;o[r].apps[a].isChecked=i,n.props.updateGroupList(o)},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.isChecked!==e.isChecked||(!k.default.isEqual(this.props.layout,e.layout)||(this.props.gridx!==e.gridx||this.props.gridy!==e.gridy||this.props.isShadow!==e.isShadow))}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.name,o=e.gridx,a=e.gridy,i=e.width,s=e.height,p=e.isShadow,d=e.isChecked,c=e.haspower,u=this.props.layout,f=u.margin,h=u.rowHeight,g=u.calWidth,k=m.calGridItemPosition(o,a,f,h,g),w=k.x,y=k.y,x=m.calWHtoPx(i,s,f,h,g),D=x.wPx,C=x.hPx,_=void 0;if(p)_=l.default.createElement("div",{className:"card-shadow",style:{width:D,height:C,transform:"translate("+w+"px, "+y+"px)"}});else{var E=!1===c?.6:1;_=l.default.createElement("div",{fieldid:n+"_app-item",className:"card",style:{width:D,height:C,opacity:E,transform:"translate("+w+"px, "+y+"px)"}},l.default.createElement("div",{style:{paddingLeft:"10px",color:"#111111"}},n),l.default.createElement("div",{className:"card-mid",fieldid:"logo",alt:"logo",style:{background:"url("+(window.top.nccColor&&"black"===window.top.nccColor?v.default:b.default)+") no-repeat",backgroundSize:"contain"}}),l.default.createElement("div",{className:"card-footer"},l.default.createElement(r.default,{checked:d,onChange:this.onCheckboxChange}),l.default.createElement("i",{className:"iconfont icon-shanchu card-delete",onClick:this.deleteCard})))}return t(_)}}]),t}(c.Component))||o;t.default=(0,f.connect)((function(e){return{groups:e.templateDragData.groups,layout:e.templateDragData.layout,json:e.templateDragData.json}}),{updateShadowCard:g.updateShadowCard,updateGroupList:g.updateGroupList})(x)},1147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=v(n(944)),r=v(n(14)),a=v(n(59)),i=v(n(94)),s=v(n(95)),p=v(n(12)),d=v(n(4)),c=v(n(8)),l=v(n(5)),u=v(n(6)),f=v(n(139));n(945),n(920),n(75),n(195);var h=n(1),g=v(h),m=n(29),k=n(948),b=v(n(58));function v(e){return e&&e.__esModule?e:{default:e}}var w=v(n(33)).default.base.NCDiv,y=(f.default.Search,function(e){function t(e){(0,d.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.upGroupItem=function(){n.props.upGroupItem(n.props.index)},n.downGroupItem=function(){n.props.downGroupItem(n.props.index)},n.deleteGroupItem=function(){n.props.deleteGroupItem(n.props.id)},n.getGroupName=function(e){var t=e.target.value;t.length>50&&(t.substring(0,50),t=t.substring(0,50),n.refs.editInputDom.blur(),(0,b.default)({status:"typeError",msg:n.props.json["DesktopSetting-000041"]})),""===t?n.setState({popTitle:n.props.json["DesktopSetting-000017"]}):n.setState({popTitle:n.props.json["DesktopSetting-000016"]}),n.setState({groupName:t,inputValue:t})},n.getBlurPosition=function(e){document.getElementById("groupDragID").setAttribute("draggable",!1)},n.editGroupItemName=function(){n.asyncUpdateCurrEditID(n.props.id).then((function(){n.refs.editInputDom.focus(),n.refs.editInputDom&&n.refs.editInputDom.input&&n.refs.editInputDom.input.select()}))},n.changeGroupName=function(e){e.preventDefault();var t=n.props.index,o=n.state.groupName;""===o?n.setState({popTitle:n.props.json["DesktopSetting-000017"]}):(n.setState({popTitle:n.props.json["DesktopSetting-000016"]}),n.props.changeGroupName(t,o))},n.cancelGroupName=function(){n.props.updateCurrEditID("")},n.state={groupName:e.groupname,popTitle:n.props.json["DesktopSetting-000016"],inputValue:e.groupname},n}var n;return(0,u.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.props.currEditID===this.props.id&&this.editGroupItemName()}},{key:"asyncUpdateCurrEditID",value:(n=(0,s.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.updateCurrEditID(t);case 2:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.groupname!==e.groupname||(this.props.currEditID!==e.currEditID||(this.props.index!==e.index||(this.state.popTitle!==t.popTitle||(this.props.length!==e.length||(this.props.cards!==e.cards||this.state.inputValue!==t.inputValue)))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.groupname,i=t.id,s=t.index,p=t.length,d=t.currEditID,c=this.state.inputValue,l=this.props.cards.length>0;return d===i?g.default.createElement(w,{className:"group-item-title-container-no-edit",fieldid:"title",areaCode:w.config.Area},g.default.createElement("div",{className:"title-left",ref:"titleLeft"},g.default.createElement(a.default,{trigger:["hover"],autoAdjustOverflow:!1,getPopupContainer:function(){return e.refs.titleLeft},title:this.state.popTitle,placement:"bottomLeft"},g.default.createElement("div",{fieldid:"groupName"},g.default.createElement(f.default,{id:"groupNameID",ref:"editInputDom",size:"small",placeholder:this.props.json["DesktopSetting-000018"],defaultValue:n,onPressEnter:this.changeGroupName,onChange:this.getGroupName,value:c,onClick:this.getBlurPosition,draggable:!1}))),g.default.createElement(r.default,{type:"check-square-o",className:"square-check-icon",title:this.props.json["DesktopSetting-000015"],onClick:this.changeGroupName}),g.default.createElement(r.default,{type:"close-square-o",className:"square-close-icon",title:this.props.json["DesktopSetting-000009"],onClick:this.cancelGroupName}))):g.default.createElement(w,{className:"group-item-title-container-no-edit",fieldid:"title",areaCode:w.config.Area},g.default.createElement("div",{className:"title-left"},g.default.createElement("span",{className:"group-item-title",onClick:this.editGroupItemName},n),g.default.createElement("div",{className:"group-item-title-edit"},g.default.createElement("i",{title:this.props.json["DesktopSetting-000019"],className:"iconfont icon-bianji",onClick:this.editGroupItemName,style:{fontSize:"19px"}}))),g.default.createElement("div",{className:"title-right"},g.default.createElement("div",{className:0===s?"group-item-title-not-edit":"group-item-title-edit"},g.default.createElement("i",{title:this.props.json["DesktopSetting-000020"],className:"iconfont icon-peizhi_up",onClick:this.upGroupItem})),g.default.createElement("div",{className:s===p-1?"group-item-title-not-edit":"group-item-title-edit"},g.default.createElement("i",{title:this.props.json["DesktopSetting-000021"],className:"iconfont icon-peizhi_down",onClick:this.downGroupItem})),g.default.createElement("div",{className:"group-item-title-edit"},l?g.default.createElement(o.default,{title:this.props.json["DesktopSetting-000022"],onConfirm:this.deleteGroupItem,placement:"topRight",okText:this.props.json["DesktopSetting-000015"],cancelText:this.props.json["DesktopSetting-000009"]},g.default.createElement("i",{title:this.props.json["DesktopSetting-000023"],className:"iconfont icon-shanchu"})):g.default.createElement("i",{title:this.props.json["DesktopSetting-000023"],className:"iconfont icon-shanchu",onClick:this.deleteGroupItem}))))}}]),t}(h.Component));t.default=(0,m.connect)((function(e){return{currEditID:e.templateDragData.currEditID,json:e.templateDragData.json}}),{updateCurrEditID:k.updateCurrEditID})(y)},1148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=h(n(12)),a=h(n(4)),i=h(n(8)),s=h(n(5)),p=h(n(6)),d=n(1),c=h(d);n(999);var l=n(898),u=n(29),f=n(150);function h(e){return e&&e.__esModule?e:{default:e}}var g=h(n(33)).default.base.NCDiv,m=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props.groups;return c.default.createElement(g,{className:"content-anchor",areaCode:g.config.TABS},t.map((function(t,n){return c.default.createElement(k,{onCardListDropInGroupItem:e.props.onCardListDropInGroupItem,key:t.pk_app_group,id:t.pk_app_group,index:n,name:t.groupname})})))}}]),t}(d.Component);t.default=(0,u.connect)((function(e){return{groups:e.templateDragData.groups}}),{})(m);var k=(0,l.DropTarget)("item",{drop:function(e,t,n){var o=t.getItem(),r=e;"cardlist"===o.type&&e.onCardListDropInGroupItem(o,r)},canDrop:function(e,t){return"cardlist"===t.getItem().type}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(o=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.name!==e.name||(this.props.index!==e.index||this.props.isOver!==e.isOver)}},{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.isOver,o=e.name,r=e.id;return t(c.default.createElement("span",{className:"anchor",style:{background:n?"rgb(204, 204, 204)":""}},c.default.createElement(f.Link,{activeClass:"active",to:"a"+r,offset:-139,spy:!0,smooth:!0,duration:250,containerId:"nc-workbench-desktop-container"},o,c.default.createElement("span",null))))}}]),t}(d.Component))||o},1149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=C(n(42)),r=C(n(59)),a=C(n(12)),i=C(n(4)),s=C(n(8)),p=C(n(5)),d=C(n(6)),c=C(n(435)),l=C(n(1048));n(91),n(75),n(434),n(1069);var u=n(1),f=C(u),h=C(n(90)),g=C(n(26)),m=n(440),k=n(29),b=n(948),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(143)),w=C(n(58)),y=n(92),x=n(112),D=C(n(33));function C(e){return e&&e.__esModule?e:{default:e}}var _=l.default.Group,E=(c.default.confirm,D.default.base),I=E.NCDiv,S=E.NCButton,G=function(e){function t(e){(0,i.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.deleteTargetCards=function(e,t){var o=n.props.groups;o=h.default.cloneDeep(o),v.removeTargetCardsInGroup(o,e,t),h.default.forEach(o,(function(e){var t=(0,m.compactLayoutHorizontal)(e.apps,n.props.col);e.apps=t})),n.props.updateGroupList(o)},n.getGroupItemNameRadio=function(e){if(e)return f.default.createElement(_,{className:"modal-radio-group",value:n.state.selectedValue,onChange:n.onChangeRadio.bind(n)},e.map((function(e,t){return[f.default.createElement(l.default,{className:"modal-radio",key:e.pk_app_group,value:e.pk_app_group},e.groupname),f.default.createElement("br",null)]})))},n.onChangeRadio=function(e){n.setState({selectedValue:e.target.value})},n.showModalVisible=function(){n.setModalVisible(!0)},n.showModalHidden=function(){n.setModalVisible(!1)},n.setModalVisible=function(e){n.setState({modalVisible:e,selectedValue:0})},n.onOkMoveDialog=function(){var e=n.state.selectedValue;if(0!==e){var t=n.props.groups;t=h.default.cloneDeep(t);var o=[],r=[],a=-1;h.default.forEach(t,(function(t,n){var i=!1;if(t.pk_app_group===e)return a=n,void o.push(t.pk_app_group);var s=h.default.remove(t.apps,(function(e){return e.isChecked&&(i=!0),e.isChecked}));i&&-1===o.indexOf(t.pk_app_group)&&o.push(t.pk_app_group),r=h.default.concat(r,s)})),v.setPropertyValueForCardsInCards(r,"isChecked",!1),v.setPropertyValueForCardsInCards(t[a].apps,"isChecked",!1),v.setGridXGridYMaxInCards(r),t[a].apps=h.default.concat(t[a].apps,r),t[a].apps=h.default.uniqBy(t[a].apps,"cardid"),h.default.forEach(t,(function(e){if(-1!==o.indexOf(e.pk_app_group)&&0!==e.apps.length){var t=(0,m.compactLayoutHorizontal)(e.apps,n.props.col);e.apps=t}})),n.props.updateGroupList(t),n.setModalVisible(!1)}},n.cancleSave=function(){"userID"===n.props.relateidObj.type?n.props.history.push("/"):(self.opener=null,self.close())},n.hasCheckedCardInGroups=function(){},n.getMoveCardButton=function(e,t,o){var r=n.props.groups,a=v.hasCheckedCardInGroups(r);return f.default.createElement(S,{disabled:!a,onClick:o,fieldid:t},e)},n.getExpiredCardButton=function(e,t){var o=n.props.groups,a=v.hasExpiredCardInGroups(o);return f.default.createElement(r.default,{title:n.props.json["DesktopSetting-000003"]},f.default.createElement(S,{fieldid:"clear",disabled:!a,onClick:t,className:"footer-button"},e))},n.saveGroupItemAndCard=function(){var e=[];h.default.forEach(n.props.groups,(function(t,n){var o={groupname:t.groupname,apps:[],position:n};-1===t.pk_app_group.indexOf("newGroupItem")&&(o.pk_app_group=t.pk_app_group),h.default.forEach(t.apps,(function(e){if(-1!==e.cardid.indexOf("_")){var t=e.cardid.split("_");e.cardid=t[0]}o.apps.push({cardid:e.cardid,gridx:e.gridx,gridy:e.gridy})})),e.push(o)}));var t={isuser:n.props.relateidObj.code,data:e},o=n.props.location&&n.props.location.search;if(o&&-1!==o.indexOf("pk_responsibility")){n.props.relateidObj.code="0",t.isuser="0";var r=o.substring(o.indexOf("pk_responsibility")),a=r.substring(r.indexOf("=")+1);t.relateid=a}else o&&-1!==o.indexOf("is_group=true")?(n.props.relateidObj.code="2",t.isuser="2"):"0"===n.props.relateidObj.code&&(t.relateid=n.props.relateidObj.data);window.onbeforeunload=null,(0,g.default)({url:"/nccloud/platform/appregister/setapp.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000005"]},loading:!0,data:t,success:function(e){var t=e.data,o=t.data,r=t.success;r?(setTimeout((function(){"userID"===n.props.relateidObj.type?n.props.history.push("/"):(self.opener=null,self.close())}),1e3),(0,w.default)({status:"success",msg:o})):(0,w.default)({status:"error",msg:o})}})},n.toBeDefault=function(){window.onbeforeunload=null,(0,g.default)({url:"/nccloud/platform/appregister/resetworkbench.do",info:{name:n.props.json["DesktopSetting-000004"],action:n.props.json["DesktopSetting-000006"]},data:{relateid:n.props.relateidObj.data},success:function(e){var t=e.data,o=t.data,r=t.success;r?((0,w.default)({status:"success",msg:n.props.json["DesktopSetting-000007"]}),setTimeout((function(){location.reload()}),500)):(0,w.default)({status:"error",msg:o})}})},n.showDefaultConfirm=function(){(0,x.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000006"],msg:n.props.json["DesktopSetting-000008"],onOk:function(){n.toBeDefault()}})},n.showCancelConfirm=function(){(0,x.ControlTip)({status:"warning",title:n.props.json["DesktopSetting-000009"],msg:n.props.json["DesktopSetting-000010"],onOk:function(){n.cancleSave()}})},n.state={modalVisible:!1,selectedValue:0},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.groups,r=(t.initialGroups,this.getGroupItemNameRadio(n)),a="userID"===this.props.relateidObj.type?"block":"none",i=!!h.default.isEqual(this.props.groups,this.props.initialGroups);return f.default.createElement(I,{className:"nc-workbench-home-footer",fieldid:"bottom-area",areaCode:I.config.BOTTOM},f.default.createElement("div",{className:"footer-left button-app-wrapper"},this.getExpiredCardButton(this.props.json["DesktopSetting-000011"],(function(){e.deleteTargetCards("haspower",!1)})),this.getMoveCardButton(this.props.json["DesktopSetting-000012"],"delete",(function(){e.deleteTargetCards("isChecked",!0)})),this.getMoveCardButton(this.props.json["DesktopSetting-000013"],"move",this.showModalVisible)),f.default.createElement("div",{className:"footer-right button-app-wrapper"},f.default.createElement(S,{fieldid:"save",colors:"primary",onClick:this.saveGroupItemAndCard},this.props.json["DesktopSetting-000005"]),f.default.createElement(S,{fieldid:"reset",style:{display:a},onClick:this.showDefaultConfirm},this.props.json["DesktopSetting-000006"]),i?f.default.createElement(S,{onClick:this.cancleSave,fieldid:"cancel"},this.props.json["DesktopSetting-000009"]):f.default.createElement(S,{onClick:this.showCancelConfirm,fieldid:"cancel"},this.props.json["DesktopSetting-000009"])),f.default.createElement(c.default,{closable:!1,title:this.props.json["DesktopSetting-000014"],mask:!1,wrapClassName:"desk-setting-vertical-center-modal",visible:this.state.modalVisible,onOk:this.onOkMoveDialog,onCancel:this.showModalHidden,footer:[f.default.createElement(o.default,{key:"submit",disabled:0===this.state.selectedValue,type:"primary",onClick:this.onOkMoveDialog},this.props.json["DesktopSetting-000015"]),f.default.createElement(o.default,{key:"back",onClick:this.showModalHidden},this.props.json["DesktopSetting-000009"])]},r))}}]),t}(u.Component);t.default=(0,k.connect)((function(e){return{groups:e.templateDragData.groups,col:e.templateDragData.layout.col,initialGroups:e.templateDragData.initialGroups,json:e.templateDragData.json}}),{updateGroupList:b.updateGroupList})((0,y.withRouter)(G))},1152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=f(n(12)),a=f(n(4)),i=f(n(8)),s=f(n(5)),p=f(n(6)),d=n(1),c=f(d),l=n(898),u=f(n(1153));function f(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),clientOffset:e.getClientOffset(),isDragging:e.isDragging()}}))(o=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.getItemStyles=function(){var e=n.props.clientOffset;if(!e)return{display:"none"};var t="translate("+e.x+"px, "+e.y+"px)";return{transform:t,WebkitTransform:t}},n.state={layerStyle:{display:"none"}},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"renderItem",value:function(e,t){switch(e){case"item":return t.cardList?c.default.createElement(u.default,{cardListLength:t.cardList.length}):null;default:return null}}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.requestedFrame)}},{key:"getMyItemStyles",value:function(){requestAnimationFrame(this.getItemStyles)}},{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return!(!this.props.item||"cardlist"!==this.props.item.type||this.props.isDragging===e.isDragging)||!!(this.props.item&&"cardlist"===this.props.item.type&&this.props.currentOffset!==e.currentOffset&&e.currentOffset&&Math.pow(Math.pow(this.props.clientOffset.x-e.clientOffset.x,2)+Math.pow(this.props.clientOffset.y-e.clientOffset.y,2),.5)>1.5)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.itemType;return e.isDragging&&"cardlist"===t.type?navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1||navigator.userAgent.indexOf("Edge")>-1?null:c.default.createElement("div",{className:"desk-setting-layer"},c.default.createElement("div",{style:this.getItemStyles()},this.renderItem(n,t))):null}}]),t}(d.Component))||o;t.default=h},1153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(12)),r=u(n(4)),a=u(n(8)),i=u(n(5)),s=u(n(6)),p=n(1),d=u(p),c=u(n(1067)),l=u(n(1068));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,r.default)(this,t),(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){this.props,this.state;return this.props.cardListLength!==e.cardListLength}},{key:"render",value:function(){for(var e=this.props.cardListLength,t=[],n=0;n<e;n++)if(n===e-1){var o=n>=3?3:n;t.push(d.default.createElement("div",{key:n,className:window.top.nccColor&&"black"===window.top.nccColor?"bcBlack layer-card":"layer-card",style:{left:5*o+"px",top:5*o+"px"}},d.default.createElement("span",{className:"layer-card-span"},"＋",e),d.default.createElement("img",{src:window.top.nccColor&&"black"===window.top.nccColor?l.default:c.default,alt:"logo",width:"107",height:"113"})))}else n<3&&t.push(d.default.createElement("div",{key:n,className:"layer-card",style:{left:5*n+"px",top:5*n+"px"}}));return d.default.createElement("div",{className:"desk-setting-layer-card-list"},t)}}]),t}(p.Component);t.default=f},878:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=D(n(2)),r=D(n(12)),a=D(n(4)),i=D(n(8)),s=D(n(5)),p=D(n(6)),d=n(1),c=D(d),l=D(n(90)),u=D(n(26));n(999);var f=D(n(918)),h=D(n(1131)),g=D(n(1144)),m=n(17),k=n(29),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(143)),v=n(948),w=D(n(58)),y=D(n(1152)),x=n(196);function D(e){return e&&e.__esModule?e:{default:e}}var C=D(n(33)).default.base.NCDiv,_=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));n.loadPage=function(e){return(e||window.event).returnValue="",""};var o=(0,m.GetQuery)(n.props.location.search),i=b.getRelateidObj(o.pk_responsibility,o.is_group);return n.state={relateidObj:i},n}return(0,p.default)(t,e),(0,i.default)(t,[{key:"componentWillUnmount",value:function(){this.props.clearData(),window.onbeforeunload=null}},{key:"componentWillMount",value:function(){window.onbeforeunload=this.loadPage}},{key:"componentDidMount",value:function(){var e=this;(0,x.getMulti)({moduleId:"DesktopSetting",domainName:"workbench",callback:function(t){e.props.setJson(t)}});var t={isuser:this.state.relateidObj.code};"0"===this.state.relateidObj.code&&(t.relateid=this.state.relateidObj.data);var n=this.props.location&&this.props.location.search;if(n&&-1!==n.indexOf("pk_responsibility")){this.state.relateidObj.code="0",this.setState({relateidObj:(0,o.default)({},this.state.relateidObj,{code:"0"})}),t.isuser="0";var r=n.substring(n.indexOf("pk_responsibility")),a=r.substring(r.indexOf("=")+1);t.relateid=a}else n&&-1!==n.indexOf("is_group=true")&&(t.isuser="2");(0,u.default)({url:"/nccloud/platform/appregister/queryworkbench.do",info:{name:this.props.json["DesktopSetting-000004"],action:this.props.json["DesktopSetting-000024"]},data:t,success:function(t){if(t){var n=t.data,o=n.data,r=n.success;r&&o&&o.length>0?(l.default.forEach(o[0].groups,(function(e){e.type="group",l.default.forEach(e.apps,(function(e){e.isShadow=!1,e.isChecked=!1,e.apptype=Number(e.apptype),e.gridx=Number(e.gridx),e.gridy=Number(e.gridy),e.height=Number(e.height),e.width=Number(e.width)}))})),e.props.updateGroupList(o[0].groups),e.props.initGroups(o[0].groups)):r&&o&&0===o.length||(0,w.default)({status:"error",msg:o})}}})}},{key:"render",value:function(){return[c.default.createElement(C,{areaCode:C.config.HEADER},c.default.createElement(C,{fieldid:this.props.json["DesktopSetting-000043"],areaCode:C.config.Title})),c.default.createElement("div",{className:"nc-desktop-setting"},c.default.createElement(h.default,(0,o.default)({relateidObj:this.state.relateidObj},this.props)),c.default.createElement(g.default,{relateidObj:this.state.relateidObj,unLoad:this.loadPage}),c.default.createElement(y.default,null))]}}]),t}(d.Component);t.default=(0,k.connect)((function(e){return{json:e.templateDragData.json}}),{updateGroupList:v.updateGroupList,clearData:v.clearData,initGroups:v.initGroups,setJson:v.setJson})((0,f.default)(_))},918:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(898),a=n(942),i=(o=a)&&o.__esModule?o:{default:o};t.default=(0,r.DragDropContext)(i.default)},948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setJson=t.initGroups=t.updateLayout=t.updateCurrEditID=t.updateGroupList=t.updateShadowCard=t.clearData=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(454));t.clearData=function(){return{type:o.CLEARDATA}},t.updateShadowCard=function(e){return{type:o.UPDATESHADOWCARD,shadowCard:e}},t.updateGroupList=function(e){return{type:o.UPDATEGROUPLIST,groups:e}},t.updateCurrEditID=function(e){return{type:o.UPDATECURREDITID,currEditID:e}},t.updateLayout=function(e){return{type:o.UPDATELAYOUT,layout:e}},t.initGroups=function(e){return{type:o.INITGROUPS,initialGroups:e}},t.setJson=function(e){return{type:o.JSON,json:e}}},999:function(e,t,n){var o=n(1080);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(o,r);o.locals&&(e.exports=o.locals)}}]);