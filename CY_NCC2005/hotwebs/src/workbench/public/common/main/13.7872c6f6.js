(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1041:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(2)),r=l(a(197));t.handleDownload=function(e,t,a,l,i,s){var d=""+(window.actionName||"文件导出"),c=e.appcode,p={sys_busiaction:d,sys_appcode:c,sys_ts:(new Date).getTime()};a=function(e){switch(e){case 1:return"multipart/form-data";case 2:return"application/x-www-form-urlencoded";case 3:return"text/plain";default:return"multipart/form-data"}}(a);var u=[{target:l||"_blank",method:"POST",enctype:a,type:"hidden",action:t||""},document.createElement("form")],f=u[0],m=u[1];(0,r.default)(m,f);var h=(0,n.default)({},e,p),g=function(e){if(h[e]instanceof Array)h[e].forEach((function(t){var a=document.createElement("input");a.type="hidden",a.name=e,a.value=t,m.appendChild(a)}));else{var t=document.createElement("input");t.type="hidden",t.name=e,t.value=h[e],m.appendChild(t)}};for(var T in h)g(T);try{document.body.appendChild(m),m.submit(),document.body.removeChild(m),(0,o.default)({status:"success",msg:i||"导出成功"})}catch(e){(0,o.default)({status:"error",msg:s||"导出失败"})}return!1};var o=l(a(58));function l(e){return e&&e.__esModule?e:{default:e}}},1042:function(e,t,a){e.exports=a.p+"images/noPage.png"},1043:function(e,t,a){e.exports=a.p+"images/noPrint.png"},1044:function(e,t,a){e.exports=a.p+"images/unSelected.png"},1045:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTemplateType=t.setJson=t.setRoleUserDatas=t.setRoCheckedObjArray=t.setCopyId=t.setNodeKey=t.setOrgidObj=t.setTemplateTitleVal=t.setTemplateNameVal=t.setParentIdcon=t.setAppCode=t.setPageCode=t.setSearchValue=t.setTemplatePk=t.setSelectedTemKeys=t.setSelectedKeys=t.setExpandedKeys=t.setExpandedTemKeys=t.setDef1=t.setTreeTemPrintData=t.setTreeTemBillData=t.setTreeData=t.clearData=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(455));t.clearData=function(){return{type:n.CLEARDATA}},t.setTreeData=function(e){return{type:n.SETTREEDATA,data:e}},t.setTreeTemBillData=function(e){return{type:n.SETTREETEMBILLDATA,data:e}},t.setTreeTemPrintData=function(e){return{type:n.SETTREETEMPRINTDATA,data:e}},t.setDef1=function(e){return{type:n.SETDEF1,data:e}},t.setExpandedTemKeys=function(e){return{type:n.EXPANDEDTEMKEYS,data:e}},t.setExpandedKeys=function(e){return{type:n.EXPANDEDKEYS,data:e}},t.setSelectedKeys=function(e){return{type:n.SELECTEDKEYS,data:e}},t.setSelectedTemKeys=function(e){return{type:n.SELECTEDTEMKEYS,data:e}},t.setTemplatePk=function(e){return{type:n.TEMPLATEPK,data:e}},t.setSearchValue=function(e){return{type:n.SEARCHVALUE,data:e}},t.setPageCode=function(e){return{type:n.PAGECODE,data:e}},t.setAppCode=function(e){return{type:n.APPCODE,data:e}},t.setParentIdcon=function(e){return{type:n.PARENTIDCON,data:e}},t.setTemplateNameVal=function(e){return{type:n.TEMPLATENAMEVAL,data:e}},t.setTemplateTitleVal=function(e){return{type:n.TEMPLATETITLEVAL,data:e}},t.setOrgidObj=function(e){return{type:n.ORGIDOBJ,data:e}},t.setNodeKey=function(e){return{type:n.NODEKEY,data:e}},t.setCopyId=function(e){return{type:n.COPYID,data:e}},t.setRoCheckedObjArray=function(e){return{type:n.ROCHECKEDOBJARRAY,data:e}},t.setRoleUserDatas=function(e){return{type:n.ROLEUSERDATAS,data:e}},t.setJson=function(e){return{type:n.JSON,data:e}},t.setTemplateType=function(e){return{type:n.TEMPLATETYPE,data:e}}},1076:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(197),o=(n=r)&&n.__esModule?n:{default:n};t.generateData=function(e){var t=[],a={};return e.map((function(e,n){var r=e.pid,o=e.code,l=e.name;e.appCode,e.pk;e.children&&delete e.children,e.text=o+" "+l,e.title=e.text,e.key=o,r?(a[r]||(a[r]=[]),a[r].push(e)):(e.children=[],t.push(e))})),{treeArray:t,treeObj:a}},t.generateTemData=function(e){var t=[],a={},n=[],r=[];return e.map((function(e,t){var a=e.templateId,o=(e.parentId,e.name),l=(e.type,e.code);e.children&&delete e.children,e.key=a,e.text=l+" "+o,e.pk=a,n.push(a),r.push(e)})),r.map((function(e){var r=e.templateId;n.includes(e.parentId)?(a[r]=[],a[r].push(e)):(e.children=[],t.push(e))})),{treeArray:t,treeObj:a}},t.generateRoData=function(e){var t=[];return e.map((function(e,a){var n=e.code,r=e.id,o=e.name;e.key=r,e.text=n+" "+o,e.title=e.text,t.push(e)})),t},t.generateTreeData=function e(t){return t.map((function(t,a){return(t=(0,o.default)({},t)).children?(t.isLeaf=!1,t.children=e(t.children)):t.isLeaf=!0,t}))}},1277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var n=i(a(197));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.createElement(s,(0,n.default)(d,e))};var r=i(a(1)),o=a(874),l=a(17);function i(e){return e&&e.__esModule?e:{default:e}}var s=o.high.Refer,d=t.conf={refType:"tree",refName:(0,l.langCheck)("0000PUB-000055"),refCode:"uapbd.refer.org.BusinessUnitTreeRef",rootNode:{refname:(0,l.langCheck)("0000PUB-000055"),refpk:"root"},placeholder:(0,l.langCheck)("0000PUB-000055"),queryTreeUrl:"/nccloud/uapbd/org/BusinessUnitTreeRef.do",treeConfig:{name:[(0,l.langCheck)("0000PUB-000032"),(0,l.langCheck)("0000PUB-000033")],code:["refcode","refname"]},isMultiSelectedEnabled:!1,isShowUnit:!1,queryCondition:function(){return{TreeRefActionExt:"nccloud.web.platform.workbench.ref.filter.OrgRefPermissionFilter"}},unitProps:{queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",refName:(0,l.langCheck)("0000PUB-000054"),rootNode:{refname:(0,l.langCheck)("0000PUB-000054"),refpk:"root"}}}},1278:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=x(a(39)),r=x(a(12)),o=x(a(4)),l=x(a(8)),i=x(a(5)),s=x(a(6)),d=x(a(139)),c=x(a(76));a(195),a(111);var p=a(1),u=x(p),f=a(29),m=x(a(0)),h=x(a(90)),g=x(a(26)),T=x(a(58)),k=x(a(979)),y=(x(a(427)),a(1045)),b=a(1076),w=a(1279),C=a(17),v=x(a(422));function x(e){return e&&e.__esModule?e:{default:e}}var D=x(a(33)).default.base,E=D.NCDiv,S=D.NCButton,N=D.NCTree,P=c.default.Option,M=N.NCTreeNode,R=d.default.Search,A=["abc1234567","abc2234567","abc3334567"],O=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.reqAllowTreeData=function(){var e=a.state,t=e.org_df_biz,n=e.nodeKeyValue,r=a.props,o=r.templatePk,l=r.def1,i=r.pageCode,s=r.appCode,d=r.json,c={pageCode:i,orgId:t.refpk,templateId:o,appCode:s};"apppage"===l?c.templateType="bill":"menuitem"===l&&(c.templateType="print",c.pageCode&&delete c.pageCode,c.pageCode=n),(0,g.default)({url:"/nccloud/platform/template/listAssignmentsOfTemplate.do",info:{name:(0,C.langCheck)("10181TM-000000","pages",d),action:(0,C.langCheck)("10181TM-000001","pages",d)},data:c,success:function(e){var t=e.data;t.success&&a.setState({allowDataArray:t.data},a.restoreAllowedTree)}})},a.restoreAllowedTree=function(){var e=a.state,t=e.allowDataArray,n=e.treeAllowedData;t.map((function(e){e.text=e.code+"  "+e.name,e.key=e.id,e.pk=e.id})),n=(0,b.generateTreeData)(t),a.setState({treeAllowedData:n})},a.reqRoTreeData=function(){var e=a.state.org_df_biz,t=a.props.json;if(e.refpk){var n={orgId:e.refpk};(0,g.default)({url:"/nccloud/platform/template/getAllRoleUserAndResp.do",info:{name:(0,C.langCheck)("10181TM-000002","pages",t),action:(0,C.langCheck)("10181TM-000003","pages",t)},data:n,success:function(e){var t=e.data;t.success&&t.data&&((t.data.roles||t.data.users||t.data.resps)&&a.restoreRoTreeData(t.data),a.props.setRoleUserDatas(t.data),a.reqAllowTreeData())}})}},a.restoreRoTreeData=function(e){var t=a.state.treeRoData,n=a.props.json;t=[],w.initRoTreeData.text=(0,C.langCheck)("10181TM-000004","pages",n),w.initUserTreeData.text=(0,C.langCheck)("10181TM-000005","pages",n);var r=w.initRoTreeData,o=w.initUserTreeData;e.roles.map((function(e){e.type="roles"})),e.users.map((function(e){e.type="users"})),r.children=(0,b.generateRoData)(e.roles),o.children=(0,b.generateRoData)(e.users),t.push(r),t.push(o),t=(0,b.generateTreeData)(t),a.setState({treeRoData:t})},a.selectRoFun=function(e){var t=a.state.roCheckedKeys,r=e.node.props.refData.key,o=t.indexOf(r);o>-1?t.splice(o,1):t.push(r),a.setState({roCheckedKeys:[].concat((0,n.default)(t))},a.lookCheckDataFun)},a.arrayUnique=function(e){for(var t=[],a=0,n=e.length;a<n;a++){for(var r=a+1;r<n;r++)e[a].id==e[r].id&&++a;t.push(e[a])}return t},a.allowClick=function(e){var t=a.state,n=t.allowDataArray,r=t.treeAllowedData,o=t.allowedCheckedKeys,l=a.props,i=l.roCheckedObjArray,s=l.json;switch(e){case"allowRole":if(i&&0===i.length)return void(0,T.default)({status:"warning",msg:(0,C.langCheck)("10181TM-000006","pages",s)});n=n.concat(i),n=a.arrayUnique(n),r=(0,b.generateTreeData)(n);break;case"allowRoleCancel":if(o&&0===o.length)return void(0,T.default)({status:"warning",msg:(0,C.langCheck)("10181TM-000006","pages",s)});Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};for(var d=o.length-1;d>=0;d--)for(var c=0;c<n.length;c++)o[d]&&n[c].id===o[d]&&n.remove(n[c]);r=(0,b.generateTreeData)(n)}a.setState({treeAllowedData:r,allowDataArray:n,allowedCheckedKeys:o})},a.onSelectedAllow=function(e){var t=a.state.allowedCheckedKeys,r=e.node.props.refData.id,o=t.indexOf(r);o>-1?t.splice(o,1):t.push(r),a.setState({allowedCheckedKeys:[].concat((0,n.default)(t))})},a.onSelect=function(e,t){switch(e){case"resOnselect":a.selectRoFun(t);break;case"allowedOnselect":a.onSelectedAllow(t)}},a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.onSearch=function(e){var t=e.target.value,n=a.props,r=n.roleUserDatas,o=n.json,l=[],i=[],s=[];if(t){for(var d in r)r.hasOwnProperty(d)&&("users"!==d&&"roles"!==d||r[d].map((function(e){e.text=e.code+"  "+e.name,e.text.indexOf(t)>-1&&(l.push(e.key),i.push(e))})));i.map((function(e){e.key=e.id})),w.initRoTreeData2.text=(0,C.langCheck)("10181TM-000004","pages",o),w.initUserTreeData2.text=(0,C.langCheck)("10181TM-000005","pages",o);var c=h.default.cloneDeep(w.initRoTreeData2),p=h.default.cloneDeep(w.initUserTreeData2);i.map((function(e){"roles"===e.type?c.children.push(e):"users"===e.type&&p.children.push(e)})),s.push(c),s.push(p),s=(0,b.generateTreeData)(s),l.push("abc1234567"),l.push("abc2234567"),a.setState({expandedKeys:l,roleSearchValue:t,autoExpandParent:!0,treeRoData:s})}else a.restoreRoTreeData(r),a.setState({roleSearchValue:t,expandedKeys:[]})},a.hanldeDoubleClick=function(e,t){var n=void 0,r=[];switch(e){case"resOnselect":n=t.props.refData.key,r=a.state.expandedKeys.concat([n]),a.setState({expandedKeys:r})}},a.onCheck=function(e,t){switch(e){case"resOnselect":a.onCheckRoFun(t);break;case"allowedOnselect":a.onCheckAllowedFun(t)}},a.onCheckRoFun=function(e){var t=e.filter((function(e){return!A.includes(e)}));a.setState({roCheckedKeys:t},a.lookCheckDataFun)},a.lookCheckDataFun=function(){var e=a.state.roCheckedKeys,t=a.props.roleUserDatas,n=e.filter((function(e){return"abc1234567"!==e&&"abc2234567"!==e})),r=[];n.map((function(e){var a={},n=function(n){t[n].map((function(t){t.id===e&&(a.key=t.id,a.pk=t.id,a.text=t.code+"  "+t.name,a.code=t.code,a.id=t.id,"users"===n?a.type="user":"roles"===n&&(a.type="role"))}))};for(var o in t)n(o);r.push(a)})),a.props.setRoCheckedObjArray(r)},a.onCheckAllowedFun=function(e){a.setState({allowedCheckedKeys:e})},a.handleSearchDel=function(){var e=a.props.roleUserDatas;a.restoreRoTreeData(e),a.setState({roleSearchValue:"",expandedKeys:[]})},a.treeResAndUser=function(e,t,n,r,o){var l=a.state,i=l.expandedKeys,s=l.autoExpandParent,d=a.props.json;return u.default.createElement("div",{className:o||""},n?"":u.default.createElement("div",{className:"fixed-search-input"},u.default.createElement(R,{style:{marginBottom:8,marginTop:8},placeholder:(0,C.langCheck)("10181TM-000007","pages",d),onChange:a.onSearch,value:r,suffix:r.length>0?u.default.createElement("i",{className:"iconfont icon-qingkong",onClick:a.handleSearchDel}):"",fieldid:"search"})),e.length>0&&u.default.createElement(E,{fieldid:n?"allocationRight":"allocationLeft",areaCode:E.config.TreeCom},u.default.createElement(N,{showLine:!0,checkable:!0,onExpand:a.onExpand,expandedKeys:i,onSelect:function(e,n){a.onSelect(t,n)},autoExpandParent:s,onDoubleClick:function(e,n){a.hanldeDoubleClick(t,n)},onCheck:function(e){a.onCheck(t,e)},checkedKeys:"resOnselect"==t?a.state.roCheckedKeys:"allowedOnselect"==t?a.state.allowedCheckedKeys:""},function e(a){return a.map((function(a){var n=a.text,o=a.id,l=void 0;if("resOnselect"===t){var s=n.indexOf(r),d=n.substr(0,s),c=n.substr(s+r.length);l=s>-1?u.default.createElement("span",null,a.children?u.default.createElement("span",{className:"tree-switch-icon iconfont "+(i.includes(o)?"icon-wenjianjiadakai":"icon-wenjianjia")}):u.default.createElement("span",{className:"tree-dot"}),d,u.default.createElement("span",{style:{color:"#f50"}},r),c):u.default.createElement("span",null,u.default.createElement("span",null," ",n," "))}else"allowedOnselect"===t&&(l=n);var p=a.children?"fieldid_"+n+"_node":"fieldid_"+a.code+"_node";return a.children&&a.children.length>0?u.default.createElement(M,{key:o,title:l,refData:a,className:p},e(a.children)):u.default.createElement(M,{key:o,title:l,refData:a,className:p})}))}(e))))},a.handleAlloOk=function(){var e=a.state,t=e.treeAllowedData,n=e.org_df_biz,r=e.nodeKeyValue,o=a.props,l=o.templatePk,i=o.def1,s=o.pageCode,d=o.appCode,c=o.json;if(n.refpk)if(t){for(var p={},u=0;u<t.length;u++){var f=t[u];for(var m in f)"id"===m&&(p[f[m]]=f.type)}var h="";for(var k in p)h=h+(k+":")+p[k]+",";var y=h.length;h=h.substr(0,y-1);var b={pageCode:s,templateId:l,orgId:n.refpk,appCode:d};b.targets=h,"apppage"===i?b.templateType="bill":"menuitem"===i&&(b.templateType="print",b.pageCode&&delete b.pageCode,r&&(b.pageCode=r)),(0,g.default)({url:"/nccloud/platform/template/assignTemplate.do",data:b,info:{name:(0,C.langCheck)("10181TM-000009","pages",c),action:(0,C.langCheck)("10181TM-000010","pages",c)},success:function(e){e.data.success&&((0,T.default)({status:"success",msg:(0,C.langCheck)("10181TM-000011","pages",c)}),a.props.setAssignModalVisible(!1),localStorage.removeItem("appTempletStorage_"+d+"_"+s))}})}else(0,T.default)({status:"warning",msg:(0,C.langCheck)("10181TM-000006","pages",c)});else(0,T.default)({status:"warning",msg:(0,C.langCheck)("10181TM-000008","pages",c)})},a.handleOrlCancel=function(){a.props.setAssignModalVisible(!1)},a.handdleRefChange=function(e){var t=a.state.org_df_biz,n=e.refname,r=e.refcode,o=e.refpk;t.refname=n,t.refcode=r,t.refpk=o,a.setState({org_df_biz:t},a.reqRoTreeData)},a.state={expandedKeys:[],roleSearchValue:"",autoExpandParent:!0,nodeKeyValue:a.props.nodeKey&&a.props.nodeKey.length>0?a.props.nodeKey[0]:"",treeRoData:[],allowDataArray:[],org_df_biz:h.default.cloneDeep(a.props.orgidObj),treeAllowedData:[],allowedTreeKey:"",roCheckedKeys:[],allowedCheckedKeys:[]},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.state.org_df_biz.refpk&&this.reqRoTreeData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.treeRoData,n=t.treeAllowedData,r=t.org_df_biz,o=t.roleSearchValue,l=this.props,i=l.def1,s=l.nodeKey,d=l.pageCode,p=l.json;return u.default.createElement(v.default,{dialogClassName:"allocation-modal",title:(0,C.langCheck)("10181TM-000012","pages",p),visible:this.props.alloVisible,onOk:this.handleAlloOk,onCancel:this.handleOrlCancel,width:720,maskClosable:!1,okText:(0,C.langCheck)("10181TM-000013","pages",p),cancelText:(0,C.langCheck)("10181TM-000014","pages",p),centered:!0,fieldid:"allocation"},u.default.createElement("div",{className:"allocationPage"},u.default.createElement("div",{className:"pageCode-show"},u.default.createElement("p",{className:"pageCodeName"},p["10181TM-000017"],u.default.createElement("span",null,d||"")),"menuitem"===i&&u.default.createElement("div",null,u.default.createElement("label",{htmlFor:""},(0,C.langCheck)("10181TM-000018","pages",p)),u.default.createElement(c.default,{showSearch:!0,style:{width:200},placeholder:(0,C.langCheck)("10181TM-000015","pages",p),optionFilterProp:"children",fieldid:"search",onSelect:function(t){e.setState({nodeKeyValue:t})},onChange:function(){return e.setState({treeAllowedData:[],allowDataArray:[],allowedCheckedKeys:[]})},defaultValue:null==s?"":s[0],filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s&&s.length>0&&s.map((function(e,t){if(e)return u.default.createElement(P,{value:e},e)}))))),u.default.createElement("div",{className:"allocationPage-content"},u.default.createElement("div",{className:"allocation-select"},u.default.createElement("div",null,u.default.createElement("label",{htmlFor:""},(0,C.langCheck)("10181TM-000019","pages",p)),u.default.createElement(k.default,{value:r,placeholder:(0,C.langCheck)("10181TM-000016","pages",p),fieldid:"businessUnit",onChange:function(t){e.handdleRefChange(t)}}))),u.default.createElement("div",{className:"allocationPage-content-tree"},u.default.createElement(E,{className:"allocation-treeScrollName",fieldid:"allocationLeft",areaCode:E.config.TREE},this.treeResAndUser(a,"resOnselect",null,o,"searchTree-assign")),u.default.createElement("div",{className:"allocation-button"},u.default.createElement("p",null,u.default.createElement(S,{fieldid:"toRight",onClick:this.allowClick.bind(this,"allowRole")},u.default.createElement("i",{className:"icon iconfont icon-jiantouyou"}))),u.default.createElement("p",null,u.default.createElement(S,{fieldid:"toLeft",onClick:this.allowClick.bind(this,"allowRoleCancel")},u.default.createElement("i",{className:"icon iconfont icon-jiantouzuo"})))),u.default.createElement("div",{className:"allocation-treeContainer"},n.length>0&&this.treeResAndUser(n,"allowedOnselect","hideSearch"))))))}}]),t}(p.Component);O.propTypes={templatePk:m.default.string.isRequired,roCheckedObjArray:m.default.array.isRequired,setRoCheckedObjArray:m.default.func.isRequired,setRoleUserDatas:m.default.func.isRequired,nodeKey:m.default.array.isRequired,roleUserDatas:m.default.object.isRequired,orgidObj:m.default.object.isRequired},t.default=(0,f.connect)((function(e){return{templatePk:e.TemplateSettingUnitData.templatePk,def1:e.TemplateSettingUnitData.def1,nodeKey:e.TemplateSettingUnitData.nodeKey,appCode:e.TemplateSettingUnitData.appCode,pageCode:e.TemplateSettingUnitData.pageCode,roCheckedObjArray:e.TemplateSettingUnitData.roCheckedObjArray,roleUserDatas:e.TemplateSettingUnitData.roleUserDatas,orgidObj:e.TemplateSettingUnitData.orgidObj,json:e.TemplateSettingUnitData.json}}),{setRoCheckedObjArray:y.setRoCheckedObjArray,setRoleUserDatas:y.setRoleUserDatas})(O)},1279:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initRoTreeData={id:"abc1234567",text:"",children:[]},t.initUserTreeData={id:"abc2234567",text:"",children:[]},t.initRoTreeData2={id:"abc1234567",text:"",children:[]},t.initUserTreeData2={id:"abc2234567",text:"",children:[]}},1280:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=k(a(139)),r=k(a(12)),o=k(a(4)),l=k(a(8)),i=k(a(5)),s=k(a(6));a(195);var d=a(1),c=k(d),p=k(a(0)),u=a(29),f=a(1045),m=a(17),h=k(a(26)),g=k(a(58)),T=k(a(422));function k(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.trim=function(e){if(e)return e.replace(/^\s+|\s+$/g,"")},a.checkCode=function(){var e=a.props,t=e.json,n=e.templateTitleVal;if(!a.trim(n))return document.getElementById("templateCode").classList.add("has-error"),void a.setState({codeErrorMsg:(0,m.langCheck)("10181TM-000020","pages",t)});document.getElementById("templateCode").classList.remove("has-error"),a.setState({codeErrorMsg:""})},a.checkName=function(){var e=a.props,t=e.json,n=e.templateNameVal;if(!a.trim(n))return document.getElementById("templateName").classList.add("has-error"),void a.setState({nameErrorMsg:(0,m.langCheck)("10181TM-000062","pages",t)});a.setState({nameErrorMsg:""}),document.getElementById("templateName").classList.remove("has-error")},a.handleOk=function(){var e=a.props,t=e.orgidObj,n=e.def1,r=e.templatePk,o=e.pageCode,l=e.appCode,i=e.templateNameVal,s=e.templateTitleVal,d=e.setSelectedTemKeys,c=e.setParentIdcon,p=e.setTemplateNameVal,u=e.setTemplatePk,f=e.setTemplateTitleVal,T=e.setCopyId,k=e.json,y=e.setTemplateType;if(a.trim(i)){var b={pageCode:o,templateId:r,name:i,appCode:l,orgId:t.refpk},w=void 0;if("apppage"===n)b.templateType="bill",w="/nccloud/platform/template/copyTemplate.do";else if("menuitem"===n){if(!a.trim(s))return;b.templateType="print",b.templateCode=s,w="/nccloud/platform/template/copyPrintTemplate.do"}var C=a;(0,m.DeferFn)((function(){(0,h.default)({url:w,data:b,loading:!0,info:{name:(0,m.langCheck)("10181TM-000009","pages",k),action:(0,m.langCheck)("10181TM-000021","pages",k)},success:function(e){var t=e.data;t.success&&((0,g.default)({status:"success",msg:(0,m.langCheck)("10181TM-000022","pages",k)}),d([t.data.id]),c(t.data.id),p(t.data.name),u(t.data.id),T(t.data.id),y("org"),"menuitem"===n&&f(t.data.code),C.props.reqTreeTemData("copy"),C.handleCancel())}})}))}},a.handleCancel=function(){a.props.setCopyVisible(!1)},a.state={codeErrorMsg:"",ErrorMsg:""},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.def1,r=t.treeTemPrintData,o=t.templateTitleVal,l=t.templateNameVal,i=t.json,s=this.state,d=s.codeErrorMsg,p=s.nameErrorMsg;return c.default.createElement(T.default,{mask:!0,title:(0,m.langCheck)("10181TM-000052","pages",i),visible:this.props.visible,onOk:this.handleOk,okText:(0,m.langCheck)("10181TM-000013","pages",i),cancelText:(0,m.langCheck)("10181TM-000014","pages",i),centered:!0,onCancel:this.handleCancel,maskClosable:!1,fieldid:"copy"},c.default.createElement("div",{className:"copyTemplate",style:"apppage"===a?{padding:"60px 20px"}:{}},"menuitem"==a&&r.length>0&&c.default.createElement("div",{className:"templateCode"},c.default.createElement("label",{htmlFor:""},(0,m.langCheck)("10181TM-000026","pages",i)),c.default.createElement(n.default,{style:{width:"80%"},value:o,id:"templateCode",onBlur:this.checkCode,placeholder:(0,m.langCheck)("10181TM-000024","pages",i),fieldid:"templateCode",onChange:function(t){var a=t.target.value;e.props.setTemplateTitleVal(a)}}),c.default.createElement("p",{className:"areaCode-errorMsg"},d)),c.default.createElement("div",{className:"templateName"},c.default.createElement("label",{htmlFor:""},(0,m.langCheck)("10181TM-000027","pages",i)),c.default.createElement(n.default,{value:l,style:{width:"80%"},id:"templateName",onBlur:this.checkName,placeholder:(0,m.langCheck)("10181TM-000025","pages",i),fieldid:"templateName",onChange:function(t){var a=t.target.value;e.props.setTemplateNameVal(a)}}),c.default.createElement("p",{className:"areaName-errorMsg"},p))))}}]),t}(d.Component);y.propTypes={templatePk:p.default.string.isRequired,pageCode:p.default.string.isRequired,appCode:p.default.string.isRequired,def1:p.default.string.isRequired,templateTitleVal:p.default.string.isRequired,templateNameVal:p.default.string.isRequired},t.default=(0,u.connect)((function(e){return{templatePk:e.TemplateSettingUnitData.templatePk,pageCode:e.TemplateSettingUnitData.pageCode,appCode:e.TemplateSettingUnitData.appCode,def1:e.TemplateSettingUnitData.def1,templateTitleVal:e.TemplateSettingUnitData.templateTitleVal,templateNameVal:e.TemplateSettingUnitData.templateNameVal,treeTemPrintData:e.TemplateSettingUnitData.treeTemPrintData,orgidObj:e.TemplateSettingUnitData.orgidObj,json:e.TemplateSettingUnitData.json}}),{setSelectedTemKeys:f.setSelectedTemKeys,setParentIdcon:f.setParentIdcon,setTemplateNameVal:f.setTemplateNameVal,setTemplatePk:f.setTemplatePk,setTemplateTitleVal:f.setTemplateTitleVal,setCopyId:f.setCopyId,setTemplateType:f.setTemplateType})(y)},1281:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(a(2)),r=b(a(142)),o=b(a(113)),l=b(a(12)),i=b(a(4)),s=b(a(8)),d=b(a(5)),c=b(a(6)),p=b(a(139));a(195);var u=a(1),f=b(u),m=b(a(0)),h=a(29),g=a(17),T=b(a(26)),k=b(a(58)),y=b(a(422));function b(e){return e&&e.__esModule?e:{default:e}}var w=b(a(33)).default.base,C=w.NCDiv,v=w.NCButton,x=w.NCTree,D=x.NCTreeNode,E=p.default.Search,S=function(e){function t(e){(0,i.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.trim=function(e){if(e)return e.replace(/^\s+|\s+$/g,"")},a.checkName=function(){var e=a.props,t=e.json,n=(e.templateNameVal,a.state.templateName);if(!a.trim(n))return document.getElementById("templateName").classList.add("has-error"),void a.setState({nameErrorMsg:(0,g.langCheck)("10181TM-000062","pages",t)});a.setState({nameErrorMsg:""}),document.getElementById("templateName").classList.remove("has-error")},a.isPartSelectedLeft=function(){var e=a.state,t=e.checkedKeys,n=e.saveLeafArr,l=e.requestLeftTreeData,i=e.treeData,s=[],d=[],c=[],p=[];console.log("checkedKeys----",t),console.log("saveLeafArr----",n),console.log("requestLeftTreeData----",l);var u=t,f=(0,g.deepClone)(i),m=(0,g.deepClone)(l);t.length>0&&(t.map((function(e){f.map((function(t){t.children.map((function(a){e==a.pk&&u.push(t.pk)}))}))})),(u=(0,o.default)(new r.default(u))).map((function(e){m.map((function(t){e==t.pk&&s.push(t)}))})),console.log("checkedArr----",s),s.map((function(e){e.isleaf?(e.children=[],p.push(e)):(e.children=[],c.push(e))})),c.map((function(e){p.map((function(t){e.code==t.pid&&e.children.push(t)}))})),d=c,console.log("checkedTree----",d),a.setState({rightTreeData:d,rightCheckedKeys:[]}))},a.isPartSelectedRight=function(){var e=a.state,t=e.rightCheckedKeys,n=e.rightTreeData,r=(0,g.deepClone)(n);t.length>0&&(t.map((function(e){r.map((function(t,a){e==t.pk?r.splice(a,1):t.children.map((function(a,n){e==a.pk&&t.children.splice(n,1)}))}))})),console.log("partRightTreeArr---",r),a.setState({rightTreeData:r}))},a.isAllSelectedLeft=function(){console.log("this.state.saveLeafArr",a.state.saveLeafArr),a.setState({rightTreeData:a.state.treeData,rightCheckedKeys:[]})},a.isAllSelectedRight=function(){a.setState({rightTreeData:[],rightCheckedKeys:[]})},a.onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.onCheck=function(e){a.setState({checkedKeys:e})},a.onRightCheck=function(e){a.setState({rightCheckedKeys:e})},a.onSelect=function(e,t){a.setState({selectedKeys:e})},a.renderTreeNodes=function(e){return e.map((function(e){var t=a.state.searchValue,r=e.name,o=(e.pk,void 0);if(""!=t){var l=r.indexOf(t),i=r.substr(0,l),s=r.substr(l+t.length);o=l>-1?f.default.createElement("span",null,i,f.default.createElement("span",{style:{color:"#f50"}},t),s):f.default.createElement("span",null,f.default.createElement("span",null," ",r," "))}else o=r;var d="fieldid_"+r+"_node";return e.children?f.default.createElement(D,{title:o,key:e.pk,dataRef:e,className:d},a.renderTreeNodes(e.children)):f.default.createElement(D,(0,n.default)({},e,{className:d}))}))},a.rightRenderTreeNodes=function(e){return e.map((function(e){var t="fieldid_"+e.name+"_node";return e.children?f.default.createElement(D,{title:e.name,key:e.pk,dataRef:e,className:t},a.renderTreeNodes(e.children)):f.default.createElement(D,(0,n.default)({},e,{className:t}))}))},a.handleOk=function(){var e=a.props,t=e.templatePk,n=(e.pageCode,e.appCode,e.def1,e.templateTitleVal,e.templateNameVal,e.json),r=e.orgidObj,o=a.state,l=o.templateName,i=o.rightTreeData;if(""!=l){var s=(0,g.deepClone)(i);s.map((function(e){e.children.map((function(e){e.pageCode=e.code,delete e.appId,delete e.appCode,delete e.pk,delete e.name,delete e.pid,delete e.isleaf,delete e.children,delete e.code})),e.pageCodes=e.children,delete e.appId,delete e.pk,delete e.code,delete e.name,delete e.pid,delete e.isleaf,delete e.children}));var d={templateId:t,templateName:l,templateType:"bill",appAndPageCodes:s,orgId:r.refpk},c=a;(0,g.DeferFn)((function(){(0,T.default)({url:"/nccloud/platform/template/copyTemplateToOtherAppsAction.do",data:d,loading:!0,info:{name:(0,g.langCheck)("10181TM-000009","pages",n),action:(0,g.langCheck)("10181TM-000021","pages",n)},success:function(e){var t=e.data;t.success&&((0,k.default)({status:"success",msg:t.data}),c.props.reqTreeTemData("copyOthersApp"),c.handleCancel())}})}))}},a.handleCancel=function(){a.props.setCopyOthersVisible(!1)},a.onChangeTemplateName=function(e){a.setState({templateName:e.target.value})},a.searchOnChange=function(e){var t=e.target.value;a.setState({searchValue:t});var n=a.state,r=(n.treeData,n.searchTreeDataSave),o=n.requestLeftTreeData;if(""!=t){var l=(0,g.deepClone)(o).filter((function(e){return e.isleaf?e.name.indexOf(t)>-1?e:void 0:e})),i=[],s=[];l.map((function(e){e.children=[],e.isleaf?s.push(e):i.push(e)})),i.map((function(e){s.map((function(t){e.code==t.pid&&e.children.push(t)}))}));var d=i.filter((function(e){if(e.children.length>0)return e}));console.log("newTree=------------",d);var c=(0,g.deepClone)(d);a.setState({treeData:c})}else a.setState({treeData:r})},a.state={nameErrorMsg:"",templateName:a.props.templateNameVal,treeData:[],searchTreeDataSave:[],selectedKeys:[],checkedKeys:[],expandedKeys:[],autoExpandParent:!1,saveLeafArr:[],generateRightTreeData:[],rightTreeData:[],rightCheckedKeys:[],requestLeftTreeData:[],searchValue:""},a}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,a=t.appCode,n=t.json,r=t.orgidObj;this.state.requestLeftTreeData;(0,T.default)({data:{appCode:a,orgId:r.refpk},url:"/nccloud/platform/template/queryAppAndPagesAction.do",loading:!0,info:{name:(0,g.langCheck)("10181TM-000009","pages",n),action:(0,g.langCheck)("10181TM-000065","pages",n)},success:function(t){var a=t.data;if(a.success){var n=[],r=[],o=(0,g.deepClone)(a.data);a.data.map((function(e){e.isleaf?(e.children=[],r.push(e)):(e.children=[],n.push(e))})),console.log("isAllRootNode",n),console.log("isAllLeafNode",r),n.map((function(e){r.map((function(t){e.code==t.pid&&e.children.push(t)}))})),console.log("isAllRootNode====",n),console.log("isAllLeafNode====",r),e.setState({treeData:n,searchTreeDataSave:n,saveLeafArr:r,requestLeftTreeData:o})}}})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.templateNameVal,a=e.json;console.log("templateNameVal",t);var n=this.state,r=n.templateName,o=n.treeData,l=(n.selectedKeys,n.checkedKeys,n.expandedKeys,n.autoExpandParent),i=n.rightTreeData,s=(n.rightCheckedKeys,n.nameErrorMsg);return f.default.createElement(y.default,{mask:!0,title:(0,g.langCheck)("10181TM-000065","pages",a),visible:this.props.copyOthersModalVisible,onOk:this.handleOk,okText:(0,g.langCheck)("10181TM-000013","pages",a),cancelText:(0,g.langCheck)("10181TM-000014","pages",a),centered:!0,onCancel:this.handleCancel,maskClosable:!1,width:720,className:"copy-others-moudle",fieldid:"copyOther"},f.default.createElement("div",{className:"copy-others-modal-top"},f.default.createElement("div",{className:"copy-others-modal-header"},(0,g.langCheck)("10181TM-000027","pages",a)),f.default.createElement(p.default,{className:"copy-others-input",style:{width:"45%"},placeholder:(0,g.langCheck)("10181TM-000064","pages",a),defaultValue:t,onChange:this.onChangeTemplateName,id:"templateName",value:r,onBlur:this.checkName,fieldid:"templateName"}),f.default.createElement("p",{className:"areaName-errorMsg"},s)),f.default.createElement(C,{className:"copy-others-modal-bottom",fieldid:"transfer",areaCode:C.config.Area},f.default.createElement(C,{className:"left",fieldid:"left",areaCode:C.config.TREE},f.default.createElement("div",{className:"title"},(0,g.langCheck)("10181TM-000066","pages",a)),f.default.createElement(E,{className:"search",onChange:this.searchOnChange,fieldid:"search"}),f.default.createElement(C,{className:"leftTree",fieldid:"left",areaCode:C.config.TreeCom},f.default.createElement(x,{checkable:!0,checkStrictly:!1,loadData:this.onLoadData,showLine:!0,multiple:!0,autoExpandParent:l,onExpand:this.onExpand,expandedKeys:this.state.expandedKeys,onSelect:this.onSelect,selectedKeys:this.state.selectedKeys,checkedKeys:this.state.checkedKeys,onCheck:this.onCheck},this.renderTreeNodes(o)))),f.default.createElement("div",{className:"middle"},f.default.createElement("div",{className:"tree-transfer-buttons"},f.default.createElement(v,{className:"transfer-right ",fieldid:"toRight",onClick:this.isPartSelectedLeft},f.default.createElement("i",{className:"iconfont icon-jiantouyou"})),f.default.createElement(v,{className:"transfer-right-double margin-top-8",fieldid:"toRightAll",onClick:this.isAllSelectedLeft},f.default.createElement("i",{className:"transfer-icon-1 iconfont icon-jiantouyou"}),f.default.createElement("i",{className:"transfer-icon-2 iconfont icon-jiantouyou"})),f.default.createElement(v,{className:"transfer-left-double margin-top-25",fieldid:"toLeft",onClick:this.isAllSelectedRight},f.default.createElement("i",{className:"transfer-icon-1 iconfont icon-jiantouzuo"}),f.default.createElement("i",{className:"transfer-icon-2 iconfont icon-jiantouzuo"})),f.default.createElement(v,{className:"transfer-left margin-top-8",fieldid:"toRightAll",onClick:this.isPartSelectedRight},f.default.createElement("i",{className:"iconfont icon-jiantouzuo"})))),f.default.createElement("div",{className:"right"},f.default.createElement("div",{className:"title"},(0,g.langCheck)("10181TM-000067","pages",a)),f.default.createElement(C,{className:"rightTree",fieldid:"right",areaCode:C.config.TreeCom},f.default.createElement(x,{checkable:!0,loadData:this.onLoadData,showLine:!0,multiple:!0,autoExpandParent:l,checkedKeys:this.state.rightCheckedKeys,onCheck:this.onRightCheck},this.rightRenderTreeNodes(i))))))}}]),t}(u.Component);S.propTypes={templatePk:m.default.string.isRequired,pageCode:m.default.string.isRequired,appCode:m.default.string.isRequired,def1:m.default.string.isRequired,templateTitleVal:m.default.string.isRequired,templateNameVal:m.default.string.isRequired,json:m.default.object.isRequired},t.default=(0,h.connect)((function(e){return{templatePk:e.TemplateSettingUnitData.templatePk,pageCode:e.TemplateSettingUnitData.pageCode,appCode:e.TemplateSettingUnitData.appCode,def1:e.TemplateSettingUnitData.def1,templateTitleVal:e.TemplateSettingUnitData.templateTitleVal,templateNameVal:e.TemplateSettingUnitData.templateNameVal,treeTemPrintData:e.TemplateSettingUnitData.treeTemPrintData,json:e.TemplateSettingUnitData.json,orgidObj:e.TemplateSettingUnitData.orgidObj}}),{})(S)},1282:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=T(a(139)),r=T(a(12)),o=T(a(4)),l=T(a(8)),i=T(a(5)),s=T(a(6));a(195);var d=a(1),c=T(d),p=T(a(0)),u=a(29),f=a(17),m=T(a(26)),h=T(a(58)),g=T(a(422));function T(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return a.trim=function(e){if(e)return e.replace(/^\s+|\s+$/g,"")},a.checkName=function(){var e=a.props,t=e.json,n=(e.templateNameVal,a.state.templateName);if(!a.trim(n))return document.getElementById("templateName").classList.add("has-error"),void a.setState({nameErrorMsg:(0,f.langCheck)("10181TM-000062","pages",t)});a.setState({nameErrorMsg:""}),document.getElementById("templateName").classList.remove("has-error")},a.handleOk=function(){var e=a.props,t=e.templatePk,n=e.templateNameVal,r=e.json,o=e.saveLeftArrTS,l=e.orgidObj,i=a.state.templateName;if(a.trim(n)&&""!=i){var s="";1==o.length?o.map((function(e){s=e.ts})):o.length>1&&o.map((function(e){t==e.templateId&&(s=e.ts)})),document.getElementById("templateName").classList.remove("has-error");var d={templateId:t,templateName:i,ts:s,orgId:l.refpk},c=a;(0,f.DeferFn)((function(){(0,m.default)({url:"/nccloud/platform/template/resetTemplateNameAction.do",data:d,loading:!0,info:{name:(0,f.langCheck)("10181TM-000009","pages",r),action:(0,f.langCheck)("10181TM-000021","pages",r)},success:function(e){var t=e.data;t.success&&((0,h.default)({status:"success",msg:t.msg}),c.props.reqTreeTemData("rename"),c.handleCancel())}})}))}},a.handleCancel=function(){a.props.setReNameModal(!1)},a.onChangeTemplateName=function(e){a.setState({templateName:e.target.value})},a.state={templateName:a.props.templateNameVal,nameErrorMsg:""},a}return(0,s.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.json,a=e.reNameModalVisible,r=e.templateNameVal,o=this.state,l=o.templateName,i=o.nameErrorMsg;return c.default.createElement(g.default,{mask:!0,title:(0,f.langCheck)("10181TM-000063","pages",t),visible:a,onOk:this.handleOk,okText:(0,f.langCheck)("10181TM-000013","pages",t),cancelText:(0,f.langCheck)("10181TM-000014","pages",t),centered:!0,onCancel:this.handleCancel,maskClosable:!1,fieldid:"rename"},c.default.createElement("div",{className:"copyTemplate",style:{padding:"60px 20px"}},c.default.createElement("div",{className:"templateName"},c.default.createElement("label",{htmlFor:""},(0,f.langCheck)("10181TM-000027","pages",t)),c.default.createElement(n.default,{value:l,defaultValue:r,id:"templateName",style:{width:"80%"},onBlur:this.checkName,fieldid:"templateName",placeholder:(0,f.langCheck)("10181TM-000064","pages",t),onChange:this.onChangeTemplateName}),c.default.createElement("p",{className:"areaName-errorMsg"},i))))}}]),t}(d.Component);k.propTypes={templatePk:p.default.string.isRequired,pageCode:p.default.string.isRequired,appCode:p.default.string.isRequired,def1:p.default.string.isRequired,templateTitleVal:p.default.string.isRequired,orgidObj:p.default.object.isRequired,templateNameVal:p.default.string.isRequired,json:p.default.object.isRequired},t.default=(0,u.connect)((function(e){return{templatePk:e.TemplateSettingUnitData.templatePk,pageCode:e.TemplateSettingUnitData.pageCode,appCode:e.TemplateSettingUnitData.appCode,def1:e.TemplateSettingUnitData.def1,templateTitleVal:e.TemplateSettingUnitData.templateTitleVal,templateNameVal:e.TemplateSettingUnitData.templateNameVal,orgidObj:e.TemplateSettingUnitData.orgidObj,treeTemPrintData:e.TemplateSettingUnitData.treeTemPrintData,json:e.TemplateSettingUnitData.json}}),{})(k)},1283:function(e,t,a){var n=a(1284);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},1284:function(e,t,a){var n=a(146);(e.exports=a(13)(!1)).push([e.i,"body{background-color:#f0f2f5}*{box-sizing:border-box}.allocation-modal .u-modal-body{padding:15px 0 0}.nc-workbench-page-header .header-title{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.nc-workbench-page-header .header-title .header-titleName{font-size:16px;font-weight:700;color:#111;margin-right:20px;white-space:nowrap;margin-bottom:0;margin-top:0}.nc-workbench-templateSetting{display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;background:#fff;height:100%}.nc-workbench-templateSetting .nc-workbench-ownpage-left{padding-top:60px;height:100%}.nc-workbench-templateSetting .nc-workbench-ownpage-left .templateSetting-searchTree{padding:10px 20px;height:100%}.nc-workbench-templateSetting .nc-workbench-ownpage-left .templateSetting-searchTree .fixed-search-input{position:absolute;top:0;left:0;padding:20px 20px 10px;width:100%;display:-webkit-box;display:flex;background-color:#fff;z-index:1}.nc-workbench-templateSetting .nc-workbench-ownpage-left .templateSetting-searchTree .fixed-search-input .sider-search-color .ant-input-search-icon{color:#e14c46;vertical-align:middle}.nc-workbench-templateSetting .nc-workbench-ownpage-right .templateTree-wrap{height:100%}.nc-workbench-templateSetting .nc-workbench-ownpage-right .templateTree{height:calc(100% - 40px);overflow-y:auto;margin-left:20px}.nc-workbench-templateSetting .nc-workbench-ownpage-right .ant-form{padding:24px;background:#fbfbfb;border-radius:6px}.nc-workbench-templateSetting .nc-workbench-ownpage-right .template-title{height:30px;font-size:15px;line-height:30px;padding-left:20px;margin-bottom:10px;background:#f4f4f4}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPageData .noDataTip{background:url("+n(a(1042))+") no-repeat 50%}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPrintData .noDataTip{background:url("+n(a(1043))+") no-repeat 50%}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noData .noDataTip{background:url("+n(a(1044))+") no-repeat 50%}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noData,.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPageData,.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPrintData{width:100%;height:100%;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;display:-webkit-box;display:flex}.nc-workbench-templateSetting .nc-workbench-ownpage-right .noData .noDataTip,.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPageData .noDataTip,.nc-workbench-templateSetting .nc-workbench-ownpage-right .noPrintData .noDataTip{height:120px;line-height:280px;font-size:14px;color:#888;background-size:contain;text-align:center}.nc-workbench-templateSetting .ant-tree li .ant-tree-node-content-wrapper.ant-tree-node-selected{color:#e14c46}.ant-modal-mask{background:none}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button{-moz-text-align-last:center;text-align-last:center;font-size:13px;border:0;background-color:inherit;width:100%}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item button:disabled{color:#ccc}.ant-dropdown ul.ant-dropdown-menu li.ant-dropdown-menu-item:hover{background-color:#ebecf0}.nc-dropdown.u-dropdown .u-dropdown-menu{padding:4px 0}.nc-dropdown.u-dropdown .u-dropdown-menu>.u-dropdown-menu-item{height:32px;line-height:32px;padding:0 10px;margin:0}.nc-dropdown.u-dropdown .u-dropdown-menu>.u-dropdown-menu-item .dropdown-item{-moz-text-align-last:center;text-align-last:center;font-size:13px;width:100%;border:none;outline:none}.nc-dropdown.u-dropdown .u-dropdown-menu>.u-dropdown-menu-item .dropdown-item:focus{border:none}.nc-dropdown.u-dropdown .u-dropdown-menu>.u-dropdown-menu-item-disabled{color:#909090}.nc-dropdown.u-dropdown .u-dropdown-menu>.u-dropdown-menu-item-disabled:hover{background-color:transparent;color:#909090}.nc-dropdown.u-dropdown .u-dropdown-menu>.u-dropdown-menu-item-selected{background-color:transparent}.allocationPage .pageCode-show{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row nowrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;margin:0 15px;padding:10px 20px;background-color:#f3f3f3}.allocationPage .pageCode-show .pageCodeName{margin-bottom:0}.allocationPage .allocationPage-content .allocation-select{display:-webkit-box;display:flex;margin:0 15px;padding:10px 20px 10px 0}.allocationPage .allocationPage-content .allocation-select>div{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row nowrap;-webkit-box-align:center;align-items:center}.allocationPage .allocationPage-content .allocation-select>div .refer-wrapper{width:200px}.allocationPage .allocationPage-content .allocationPage-content-tree{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeScrollName{height:330px;width:46%;border:1px solid #e8e8e8;border-bottom:none;border-left:none;padding:50px 0 10px;position:relative}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeScrollName .searchTree-assign{padding:0 10px;height:100%;overflow:auto}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeScrollName .searchTree-assign .fixed-search-input{position:absolute;left:0;top:6px;padding:0 15px;width:100%;display:-webkit-box;display:flex;background-color:#fff;z-index:1}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeScrollName .searchTree-assign .tree-switch-icon{color:#f2b224;margin-right:5px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeScrollName .searchTree-assign .tree-dot{display:inline-block;width:5px;height:5px;background-color:#555;border-radius:100%;margin:0 7px 2px 0}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button{height:330px;width:14%;border-top:1px solid #e8e8e8;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button p{text-align:center;margin-bottom:30px}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-button .icon{color:rgba(85,85,85,.5)}.allocationPage .allocationPage-content .allocationPage-content-tree .allocation-treeContainer{height:330px;width:40%;border:1px solid #e8e8e8;border-right:none;border-bottom:none;padding:10px 0 10px 15px;overflow:auto}.copyTemplate{padding:35px 20px}.copyTemplate .ant-input{margin-bottom:20px}.copyTemplate .templateCode,.copyTemplate .templateName{position:relative}.copyTemplate .areaCode-errorMsg,.copyTemplate .areaName-errorMsg{color:#f5222d;font-size:13px;position:absolute;top:30px;left:65px}.has-error{border-color:#f5222d}.copy-others-moudle .copy-others-modal-top{margin:4px 15px;position:relative}.copy-others-moudle .copy-others-modal-top .copy-others-modal-header{width:65px;height:21px;display:inline-block;font-size:13px;font-family:MicrosoftYaHei;color:#555;line-height:21px}.copy-others-moudle .copy-others-modal-top .copy-others-input{margin-left:8px;height:30px;font-size:13px;font-family:MicrosoftYaHei;color:#111;line-height:30px}.copy-others-moudle .copy-others-modal-top .areaCode-errorMsg,.copy-others-moudle .copy-others-modal-top .areaName-errorMsg{color:#f5222d;font-size:13px;position:absolute;top:30px;left:72px}.copy-others-moudle .copy-others-modal-bottom{overflow:hidden;margin-top:20px;display:-webkit-box;display:flex}.copy-others-moudle .copy-others-modal-bottom .left{width:45%;border:1px solid #d0d0d0}.copy-others-moudle .copy-others-modal-bottom .left .title{background-color:#f3f3f3;padding:6px 15px;color:#111}.copy-others-moudle .copy-others-modal-bottom .left .search{margin:10px}.copy-others-moudle .copy-others-modal-bottom .left .leftTree{overflow:auto;height:275px}.copy-others-moudle .copy-others-modal-bottom .left .leftTree .ant-tree{overflow:none}.copy-others-moudle .copy-others-modal-bottom .middle{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;margin:0 auto;width:10%}.copy-others-moudle .copy-others-modal-bottom .right{width:45%;border:1px solid #d0d0d0}.copy-others-moudle .copy-others-modal-bottom .right .title{background-color:#f3f3f3;padding:6px 15px;color:#111}.copy-others-moudle .copy-others-modal-bottom .right .rightTree{overflow:auto;height:325px}.copy-others-moudle .copy-others-modal-bottom .right .rightTree .ant-tree{overflow:none}.tree-transfer-buttons{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;padding:8px}.tree-transfer-buttons .u-button{padding:0;width:32px;height:32px;min-width:32px;border-radius:3px}.tree-transfer-buttons .u-button:after{display:none!important}.tree-transfer-buttons .iconfont{font-size:12px}.tree-transfer-buttons .transfer-left-double,.tree-transfer-buttons .transfer-right-double{position:relative}.tree-transfer-buttons .transfer-left-double .transfer-icon-1,.tree-transfer-buttons .transfer-left-double .transfer-icon-2,.tree-transfer-buttons .transfer-right-double .transfer-icon-1,.tree-transfer-buttons .transfer-right-double .transfer-icon-2{position:absolute}.tree-transfer-buttons .transfer-left-double .transfer-icon-1,.tree-transfer-buttons .transfer-right-double .transfer-icon-1{left:6px}.tree-transfer-buttons .transfer-left-double .transfer-icon-2,.tree-transfer-buttons .transfer-right-double .transfer-icon-2{right:6px}.margin-top-8{margin-top:8px}.margin-top-25{margin-top:25px}.ant-modal-body{padding:8px}",""])},887:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=q(a(435)),r=q(a(94)),o=q(a(95)),l=q(a(39)),i=q(a(12)),s=q(a(4)),d=q(a(8)),c=q(a(5)),p=q(a(6)),u=q(a(139)),f=q(a(914));a(434),a(195),a(912);var m=a(1),h=q(m),g=q(a(0)),T=a(29),k=a(1045),y=a(895),b=a(902),w=q(a(26)),C=q(a(58)),v=a(112),x=q(a(903)),D=q(a(1277)),E=q(a(937)),S=q(a(1278)),N=q(a(1280)),P=q(a(1281)),M=q(a(1282)),R=a(93),A=q(a(427)),O=a(1076),_=a(196),j=a(17),K=q(a(906)),V=a(1041);a(1283);var U=q(a(33));function q(e){return e&&e.__esModule?e:{default:e}}var I=U.default.base.NCDiv,L=f.default.TreeNode,B=u.default.Search,z=U.default.base,F=(z.NCButton,z.NCUpload,function(e){function t(e){var a=this;(0,s.default)(this,t);var n,d=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return d.setCopyVisible=function(e){d.setState({visible:e})},d.setCopyOthersVisible=function(e){d.setState({copyOthersModalVisible:e})},d.setReNameModal=function(e){d.setState({reNameModal:e})},d.handleClick=function(e){var t=d.props,a=t.def1,n=t.templatePk,r=t.appCode,o=t.orgidObj,l=t.json,i=t.pageCode,s={templateId:n};if(o.refpk)if(n)switch(e){case"copy":d.setState({visible:!0});break;case"edit":"menuitem"===a?(0,w.default)({loading:!0,url:"/nccloud/platform/template/edittemplate.do",data:{appcode:r,templateid:n,pk_org:o.refpk},success:function(e){var t=window.location.protocol||"http:";location.port?window.location.href="uclient://start/"+t+"//"+location.hostname+":"+location.port+e.data.data:window.location.href="uclient://start/"+t+"//"+location.hostname+e.data.data},error:function(e){alert("lm:"+e.message)}}):(0,R.openPage)("ZoneSetting",!1,{templetid:n,status:"templateSetting-unit",appcode:r,pcode:i});break;case"delete":var c=void 0;c="menuitem"===a?"/nccloud/platform/template/deletePrintTemplate.do":"/nccloud/platform/template/deleteTemplateDetail.do",(0,v.ControlTip)({status:"warning",title:(0,j.langCheck)("10181TM-000038","pages",l),msg:(0,j.langCheck)("10181TM-000039","pages",l),fieldid:"delete",onOk:function(){(0,w.default)({url:c,data:s,info:{name:(0,j.langCheck)("10181TM-000009","pages",l),action:(0,j.langCheck)("10181TM-000038","pages",l)},success:function(e){e.data.success&&((0,C.default)({status:"success",msg:(0,j.langCheck)("10181TM-000040","pages",l)}),d.reqTreeTemData())}})}});break;case"assign":d.setState({alloVisible:!0});break;case"browse":"menuitem"===a?d.showModal():d.setState({batchSettingModalVisibel:!0});break;case"copyOthersApp":d.setState({copyOthersModalVisible:!0});break;case"rename":d.setState({reNameModal:!0});break;case"export":var p={pagecode:i,appcode:r,pk_org:o.refpk};(0,V.handleDownload)(p,"/nccloud/platform/appregister/templetexport.do",1,"_blank",(0,j.langCheck)("10181TM-000070","pages",l),(0,j.langCheck)("10181TM-000071","pages",l))}else(0,C.default)({status:"warning",msg:(0,j.langCheck)("10181TM-000031","pages",l)});else(0,C.default)({status:"warning",msg:(0,j.langCheck)("10181TM-000030","pages",l)})},d.componentWillMount=function(){(0,_.getMulti)({moduleId:"10181TM",domainName:"workbench",callback:function(e){d.props.setJson(e)}})},d.componentDidMount=function(){var e=d.props,t=e.selectedKeys,a=e.setSelectedKeys,n=e.def1,r=e.expandedKeys,o=e.setExpandedKeys,l=e.appCode,i=e.pageCode,s=e.setAppCode,c=e.setPageCode,p=e.expandedTemKeys,u=e.setExpandedTemKeys,f=e.selectedTemKeys,m=e.setSelectedTemKeys,h=e.searchValue;""!==n?(h?d.handleSearch(h,d.handleExpanded):d.reqTreeData(),a(t),(0,k.setDef1)(n),o(r),s(l),c(i),d.reqTreeTemData("historyData"),u(p),m(f)):d.reqTreeData(d.setInformationFun)},d.setInformationFun=function(e){var t=d.props,a=t.setSelectedKeys,n=t.setDef1,r=t.setAppCode,o=t.setPageCode;e&&e.length>0&&(a([e[0].pk]),n(e[0].def1),r(e[0].appCode),e[0].pageCode&&o(e[0].pageCode))},d.restoreTreeTemData=function(e,t){var a=d.state,n=a.treeTemBillData,r=a.treeTemPrintData,o=d.props,i=o.def1,s=o.copyId,c=o.expandedTemKeys,p=o.setExpandedTemKeys,u=o.setSelectedTemKeys,f=o.setParentIdcon,m=o.setTemplatePk,h=o.setTemplateNameVal,g=o.setTemplateTitleVal,T=o.json,k=d.props.treeTemBillData,y=d.props.treeTemPrintData,b=[],w=void 0;"bill"===e?w=(0,O.generateTemData)(k):"print"===e&&(w=(0,O.generateTemData)(y));var C=w,v=C.treeArray,x=C.treeObj;if(v.map((function(e,t){var a={name:(0,j.langCheck)("10181TM-000042","pages",T),title:(0,j.langCheck)("10181TM-000042","pages",T),pk:"qazwsxedc1"+e.pk,code:"1001",parentId:"groupRoot",children:[]},n={title:(0,j.langCheck)("10181TM-000043","pages",T),name:(0,j.langCheck)("10181TM-000043","pages",T),pk:"qazwsxedc2"+e.pk,code:"1002",parentId:"groupRoot",children:[]};for(var r in e.children.push(a),e.children.push(n),x)x.hasOwnProperty(r)&&e.templateId===x[r][0].parentId&&("group"===x[r][0].type?e.children[0].children.push(x[r][0]):"org"===x[r][0].type&&e.children[1].children.push(x[r][0]))})),b=w.treeArray,b=(0,O.generateTreeData)(b),"bill"===e){if("apppage"===i){if(b.length>0)if(t)t&&"copy"===t&&b.map((function(e){e.children&&e.children.length>0&&e.children.map((function(e){e.children&&e.children.length>0&&e.children.map((function(e){if(s===e.key)if("group"===e.type){var t="qazwsxedc1"+e.parentId,a=[].concat((0,l.default)(c),[e.parentId,t]);p(a)}else if("org"===e.type){var n="qazwsxedc2"+e.parentId,r=[].concat((0,l.default)(c),[e.parentId,n]);p(r)}}))}))}));else{var D=[];D.push(b[0].key),u(D),f(b[0].parentId),m(b[0].pk),h(b[0].name)}else d.props.setParentIdcon("");b.forEach((function(e){e.children&&e.children.length>0&&e.children.map((function(e){e.children&&e.children.map((function(e){"y"===e.isDefault&&(e.name=e.name+(0,j.langCheck)("10181TM-000041","pages",T))}))}))}))}n=b,d.setState({treeTemBillData:n})}else if("print"===e){if("menuitem"===i){if(b.length>0)if(t)t&&"copy"===t&&b.map((function(e){e.children&&e.children.length>0&&e.children.map((function(e){e.children&&e.children.length>0&&e.children.map((function(e){if(s===e.key)if("group"===e.type){var t="qazwsxedc1"+e.parentId,a=[].concat((0,l.default)(c),[e.parentId,t]);p(a)}else if("org"===e.type){var n="qazwsxedc2"+e.parentId,r=[].concat((0,l.default)(c),[e.parentId,n]);p(r)}}))}))}));else{var E=[];E.push(b[0].key),u(E),f(b[0].parentId),m(b[0].pk),h(b[0].name),g(b[0].code)}else d.props.setParentIdcon("");b.forEach((function(e){e.children&&e.children.length>0&&e.children.map((function(e){e.children&&e.children.map((function(e){"y"===e.isDefault&&(e.name=e.name+(0,j.langCheck)("10181TM-000041","pages",T))}))}))}))}r=b,d.setState({treeTemPrintData:r})}},d.onExpand=function(e,t){switch(e){case"systemOnselect":d.props.setExpandedKeys(t),d.setState({autoExpandParent:!1});break;case"templateOnselect":d.props.setExpandedTemKeys(t),d.setState({autoExpandTemParent:!1})}},d.onSelectQuery=(n=(0,o.default)(r.default.mark((function e(t,n){var o,l,i,s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=d.props,l=o.orgidObj,i=o.selectedKeys,s=o.json,l.refpk){e.next=4;break}return(0,C.default)({status:"warning",msg:(0,j.langCheck)("10181TM-000030","pages",s)}),e.abrupt("return");case 4:if(!(t.length>0)){e.next=16;break}return e.next=7,d.props.setSelectedKeys(t);case 7:return e.next=9,d.props.setDef1(n.selectedNodes[0].props.refData.def1);case 9:return e.next=11,d.props.setAppCode(n.selectedNodes[0].props.refData.appCode);case 11:return e.next=13,d.props.setPageCode(n.selectedNodes[0].props.refData.code);case 13:d.reqTreeTemData(),e.next=17;break;case 16:i&&d.reqTreeTemData();case 17:case"end":return e.stop()}}),e,a)}))),function(e,t){return n.apply(this,arguments)}),d.reqTreeTemData=function(e){var t=d.props,a=t.pageCode,n=t.appCode,r=t.def1,o={pageCode:a,appCode:n,orgId:t.orgidObj.refpk};o.pageCode&&("apppage"===r?(o.templateType="bill",d.reqTreeTemAjax(o,"bill",e)):"menuitem"===r&&(o.pageCode&&delete o.pageCode,o.templateType="print",d.reqTreeTemAjax(o,"print",e)))},d.reqTreeTemAjax=function(e,t,a){var n=d.props,r=n.json,o=n.selectedTemKeys,l=d;(0,w.default)({url:"/nccloud/platform/template/getTemplatesOfPage.do",data:e,info:{name:(0,j.langCheck)("10181TM-000009","pages",r),action:(0,j.langCheck)("10181TM-000044","pages",r)},success:function(e){var n=e.data;n.data.length>0&&l.setState({saveLeftArrTS:n.data}),n.success&&("bill"===t?(d.props.setTreeTemBillData(n.data),d.restoreTreeTemData(t,a)):"print"===t&&(d.props.setTreeTemPrintData(n.data),d.restoreTreeTemData(t,a),o&&n.data&&n.data.length&&n.data.map((function(e,t){e.templateId===o[0]&&d.props.setNodeKey(e.nodeKey)}))))}})},d.onTemSelect=function(e,t){var a=d.props.def1;if("apppage"===a||"menuitem"===a&&(e.length>0?d.props.setNodeKey(t.selectedNodes[0].props.refData.nodeKey):t.node.props&&t.node.props.refData&&t.node.props.refData.nodeKey&&d.props.setNodeKey(t.node.props.refData.nodeKey)),e.length>0){var n=t.selectedNodes[0].props.refData.name,r=n.indexOf((0,j.langCheck)("10181TM-000041","pages",d.props.json));-1!==r&&(n=n.slice(0,r)),d.props.setSelectedTemKeys(e),d.props.setTemplatePk(t.selectedNodes[0].props.refData.templateId),d.props.setParentIdcon(t.selectedNodes[0].props.refData.parentId),d.props.setTemplateNameVal(n),d.props.setTemplateTitleVal(t.selectedNodes[0].props.refData.code),d.props.setTemplateType(t.selectedNodes[0].props.refData.type)}},d.reqTreeData=function(e){var t=d.props.json;(0,w.default)({url:"/nccloud/platform/appregister/querymenuitemstree.do",info:{name:(0,j.langCheck)("10181TM-000002","pages",t),action:(0,j.langCheck)("10181TM-000045","pages",t)},success:function(t){var a=t.data;a.success&&a.data.length>0&&(d.props.setTreeData(a.data),e&&"function"==typeof e&&e(a.data))}})},d.onSelect=function(e,t,a){switch(e){case"systemOnselect":d.onSelectQuery(t,a);break;case"templateOnselect":d.onTemSelect(t,a)}},d.onChange=function(e){var t=e.target.value;if(t)d.props.setSearchValue(t);else{d.reqTreeData(d.setInformationFun);d.props.setExpandedKeys(["00"]),d.props.setSearchValue("")}},d.handleTreeSearch=function(e){d.handleSearch(e,d.handleExpanded)},d.handleExpanded=function(e){var t=e.map((function(e,t){return e.pk}));t.push("00"),d.props.setExpandedKeys(t),d.setState({autoExpandParent:!0})},d.handleSearch=function(e,t){if(e){var a=d.props.json;(0,j.DeferFn)((function(){(0,w.default)({url:"/nccloud/platform/appregister/searchappmenuitem.do",data:{search_content:e,containAppPage:!0},info:{name:(0,j.langCheck)("10181TM-000046","pages",a),action:(0,j.langCheck)("10181TM-000047","pages",a)},success:function(e){var a=e.data,n=a.success,r=a.data;n&&r&&(d.props.setTreeData(r),t(r))}})}))}},d.hanldeDoubleClick=function(e,t,a){var n=void 0,r=[];switch(e){case"systemOnselect":n=a.props.refData.pk,r=d.props.expandedKeys.concat([n]),d.props.setExpandedKeys(r);break;case"templateOnselect":n=a.props.refData.pk;var o=d.props.expandedTemKeys.concat([n]);d.props.setExpandedTemKeys(o)}},d.handleSearchDel=function(){d.reqTreeData(d.setInformationFun);d.props.setExpandedKeys(["00"]),d.props.setSearchValue("")},d.treeResAndUser=function(e,t,a,n,r,o,l){var i=d.props,s=i.searchValue,c=i.json;return h.default.createElement(I,{className:l||"",fieldid:a?"template":"templateSettingUnit",areaCode:I.config.TREE},a?"":h.default.createElement("div",{className:"fixed-search-input"},h.default.createElement(B,{className:s&&"sider-search-color",placeholder:(0,j.langCheck)("10181TM-000048","pages",c),onChange:d.onChange,onSearch:d.handleTreeSearch,value:s,suffix:s.length>0?h.default.createElement("i",{className:"iconfont icon-qingkong",onClick:d.handleSearchDel}):"",fieldid:"search"})),h.default.createElement(I,{fieldid:a?"template":"templateSettingUnit",areaCode:I.config.TreeCom},e.length>0&&h.default.createElement(f.default,{showLine:!0,showIcon:!0,onExpand:function(e,a){d.onExpand(t,e)},expandedKeys:r,onSelect:function(e,a){d.onSelect(t,e,a)},autoExpandParent:o,selectedKeys:n,onDoubleClick:function(e,a){d.hanldeDoubleClick(t,e,a)}},function e(t){return t.map((function(t){var a=t.code,n=t.name,r=t.pk,o=a+" "+n;"00"===a&&(o=""+n);var l=o.indexOf(s),i=o.substr(0,l),d=o.substr(l+s.length),c=l>-1?h.default.createElement("span",null,i,h.default.createElement("span",{style:{color:"#f50"}},s),d):h.default.createElement("span",null,h.default.createElement("span",null," ",o," ")),p="00"===a?"fieldid_"+n+"_node":"fieldid_"+a+"_node";return t.children&&t.children.length>0?h.default.createElement(L,{key:r,title:c,refData:t,icon:function(e){var t=e.expanded;return h.default.createElement(A.default,{width:20,height:20,xlinkHref:t?"#icon-wenjianjiadakai":"#icon-wenjianjia"})},switcherIcon:function(e){var t=e.expanded;return h.default.createElement("i",{className:"font-size-18 iconfont "+(t?"icon-shu_zk":"icon-shushouqi")})},className:p},e(t.children)):h.default.createElement(L,{icon:h.default.createElement("span",{className:"tree-dot"}),key:r,title:c,refData:t,className:p})}))}(e))))},d.setModalVisibel=function(e){d.setState({batchSettingModalVisibel:e})},d.setAssignModalVisible=function(e){d.setState({alloVisible:e})},d.handdleRefChange=function(e){var t=e.refname,a=e.refcode,n=e.refpk,r={};r.refname=t,r.refcode=a,r.refpk=n,d.props.setOrgidObj(r),d.props.orgidObj&&d.reqTreeTemData()},d.showModal=function(){d.setState({previewPrintVisible:!0},(function(){d.printModalAjax(d.props.templatePk)}))},d.hideModal=function(){d.setState({previewPrintVisible:!1})},d.printModalAjax=function(e){var t=d.props.json,a={};a.templateId=e;(0,w.default)({url:"/nccloud/platform/template/previewPrintTemplate.do",data:a,info:{name:(0,j.langCheck)("10181TM-000009","pages",t),action:(0,j.langCheck)("10181TM-000049","pages",t)},success:function(e){var t=e.data;t.success&&(document.getElementsByClassName("printContent")[0].innerHTML=t.data)}})},d.beforeUpload=function(e){var t=d.props.json;return!(!e||"application/json"!==e.type)||((0,C.default)({status:"error",msg:(0,j.langCheck)("10181TM-000072","pages",t)}),!1)},d.ncUploadChange=function(e){var t=d.props.json;"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(console.log(e.file.name+" file uploaded successfully"),(0,C.default)({status:"success",msg:(0,j.langCheck)("10181TM-000068","pages",t)}),d.reqTreeTemData()):"error"===e.file.status&&(console.log(e.file.name+" file upload failed."),(0,C.default)({status:"error",msg:(0,j.langCheck)("10181TM-000069","pages",t)}))},d.state={treeData:[],autoExpandParent:!0,autoExpandTemParent:!0,treeTemBillData:[],treeTemPrintData:[],treePrintTemData:[],visible:!1,alloVisible:!1,previewPrintVisible:!1,previewPrintContent:"",batchSettingModalVisibel:!1,copyOthersModalVisible:!1,reNameModal:!1,saveLeftArrTS:[]},d}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.treeTemBillData,r=t.treeTemPrintData,o=t.visible,l=t.alloVisible,i=t.batchSettingModalVisibel,s=t.autoExpandParent,d=t.autoExpandTemParent,c=t.previewPrintVisible,p=t.copyOthersModalVisible,u=t.reNameModal,f=this.props,m=f.selectedKeys,g=f.expandedKeys,T=f.def1,k=f.selectedTemKeys,w=f.expandedTemKeys,C=f.templatePk,v=f.orgidObj,R=f.json,A=f.parentIdcon,O=f.templateType,_=[{code:"00",name:(0,j.langCheck)("10181TM-000050","pages",R),pk:"00",children:(0,b.createTree)(this.props.treeData,"code","pid")}],V=[{name:(0,j.langCheck)("10181TM-000074","pages",R),type:"primary",code:"export",fieldid:"export",isshow:!1},{name:(0,j.langCheck)("10181TM-000051","pages",R),code:"edit",fieldid:"edit",isshow:T&&A&&"root"!==A&&"groupRoot"!==A&&"group"!==O},{name:(0,j.langCheck)("10181TM-000038","pages",R),code:"delete",fieldid:"delete",isshow:T&&A&&"root"!==A&&"groupRoot"!==A&&"group"!==O},{name:(0,j.langCheck)("10181TM-000052","pages",R),type:"primary",code:"copy",fieldid:"copy",isshow:"menuitem"==T&&"groupRoot"!==A&&A},{name:(0,j.langCheck)("10181TM-000052","pages",R),type:"primary",code:"copy",fieldid:"copy",isshow:"apppage"==T&&"groupRoot"!==A&&A,divide:"btn"},{name:(0,j.langCheck)("10181TM-000065","pages",R),type:"primary",code:"copyOthersApp",dropdownFieldid:"copy",fieldid:"copyOthersApp",isshow:"apppage"==T&&"groupRoot"!==A&&A,divide:"select"},{name:(0,j.langCheck)("10181TM-000063","pages",R),code:"rename",fieldid:"rename",isshow:"apppage"==T&&"groupRoot"!==A&&A},{name:(0,j.langCheck)("10181TM-000053","pages",R),code:"assign",fieldid:"assign",isshow:T&&A&&"root"!==A&&"groupRoot"!==A&&"group"!==O},{name:(0,j.langCheck)("10181TM-000054","pages",R),code:"browse",fieldid:"browse",isshow:T&&"groupRoot"!==A&&A}],U=(0,j.GetQuery)(window.location.hash).c;return h.default.createElement(y.PageLayout,{className:"nc-workbench-templateSetting",header:h.default.createElement(y.PageLayoutHeader,null,h.default.createElement("div",{style:{display:"flex",alignItems:"center"}},h.default.createElement("div",{className:"header_in_icon"},h.default.createElement(K.default,{appCode:U}),h.default.createElement(I,{fieldid:(0,j.langCheck)("10181TM-000032","pages",R),areaCode:I.config.Title,style:{marginRight:20}},(0,j.langCheck)("10181TM-000032","pages",R))),h.default.createElement("div",{style:{width:"200px"}},h.default.createElement(D.default,{value:v,placeholder:(0,j.langCheck)("10181TM-000016","pages",R),fieldid:"businessUnit",onChange:function(t){e.handdleRefChange(t)}}))),h.default.createElement("div",{style:{display:"flex"}},!1,h.default.createElement(x.default,{dataSource:V,onClick:this.handleClick})))},h.default.createElement(y.PageLayoutLeft,null,this.treeResAndUser(_,"systemOnselect",null,m,g,s,"templateSetting-searchTree workbench-scroll")),h.default.createElement(y.PageLayoutRight,null,"apppage"==T?a.length>0?h.default.createElement("div",{className:"templateTree-wrap"},h.default.createElement("p",{className:"template-title"},(0,j.langCheck)("10181TM-000033","pages",R)),this.treeResAndUser(a,"templateOnselect","hideSearch",k,w,d,"templateTree")):h.default.createElement("div",{className:"noPageData"},h.default.createElement("p",{className:"noDataTip"},(0,j.langCheck)("10181TM-000034","pages",R))):"menuitem"==T?r.length>0?h.default.createElement("div",{className:"templateTree-wrap"},h.default.createElement("p",{className:"template-title"},(0,j.langCheck)("10181TM-000035","pages",R)),this.treeResAndUser(r,"templateOnselect","hideSearch",k,w,d,"templateTree")):h.default.createElement("div",{className:"noPrintData"},h.default.createElement("p",{className:"noDataTip"},(0,j.langCheck)("10181TM-000036","pages",R))):h.default.createElement("div",{className:"noData"},h.default.createElement("p",{className:"noDataTip"},(0,j.langCheck)("10181TM-000037","pages",R)))),i&&h.default.createElement(E.default,{previewVisibel:i,setModalVisibel:this.setModalVisibel,templetData:{pagecode:this.props.pageCode,appcode:this.props.appCode,templetid:C}}),p&&h.default.createElement(P.default,{copyOthersModalVisible:p,setCopyOthersVisible:this.setCopyOthersVisible,reqTreeTemData:this.reqTreeTemData}),o&&h.default.createElement(N.default,{visible:o,reqTreeTemData:this.reqTreeTemData,setCopyVisible:this.setCopyVisible}),u&&h.default.createElement(M.default,{reNameModalVisible:u,setReNameModal:this.setReNameModal,reqTreeTemData:this.reqTreeTemData,saveLeftArrTS:this.state.saveLeftArrTS}),c&&h.default.createElement(n.default,{title:(0,j.langCheck)("10181TM-000049","pages",R),maskClosable:!1,visible:c,onCancel:this.hideModal,footer:null,centered:!0,width:"calc(100vw - 64px)",className:"viewPageTem"},h.default.createElement("div",{className:"printContent"})),l&&h.default.createElement(S.default,{alloVisible:l,setAssignModalVisible:this.setAssignModalVisible}))}}]),t}(m.Component));F.propTypes={treeData:g.default.array.isRequired,setTreeData:g.default.func.isRequired,setExpandedKeys:g.default.func.isRequired,setSelectedKeys:g.default.func.isRequired,setDef1:g.default.func.isRequired,setSelectedTemKeys:g.default.func.isRequired,setExpandedTemKeys:g.default.func.isRequired,setTreeTemBillData:g.default.func.isRequired,setTreeTemPrintData:g.default.func.isRequired,setTemplatePk:g.default.func.isRequired,setSearchValue:g.default.func.isRequired,setTemplateNameVal:g.default.func.isRequired,setTemplateTitleVal:g.default.func.isRequired,setPageCode:g.default.func.isRequired,setAppCode:g.default.func.isRequired,setParentIdcon:g.default.func.isRequired,setOrgidObj:g.default.func.isRequired,setCopyId:g.default.func.isRequired,selectedKeys:g.default.array.isRequired,expandedKeys:g.default.array.isRequired,treeTemBillData:g.default.array.isRequired,treeTemPrintData:g.default.array.isRequired,def1:g.default.string.isRequired,selectedTemKeys:g.default.array.isRequired,expandedTemKeys:g.default.array.isRequired,templatePk:g.default.string.isRequired,searchValue:g.default.string.isRequired,pageCode:g.default.string.isRequired,appCode:g.default.string.isRequired,parentIdcon:g.default.string.isRequired,templateTitleVal:g.default.string.isRequired,templateNameVal:g.default.string.isRequired,orgidObj:g.default.object.isRequired,nodeKey:g.default.array.isRequired,copyId:g.default.string.isRequired},t.default=(0,T.connect)((function(e){return{treeData:e.TemplateSettingUnitData.treeData,treeTemBillData:e.TemplateSettingUnitData.treeTemBillData,treeTemPrintData:e.TemplateSettingUnitData.treeTemPrintData,selectedKeys:e.TemplateSettingUnitData.selectedKeys,expandedKeys:e.TemplateSettingUnitData.expandedKeys,def1:e.TemplateSettingUnitData.def1,selectedTemKeys:e.TemplateSettingUnitData.selectedTemKeys,expandedTemKeys:e.TemplateSettingUnitData.expandedTemKeys,templatePk:e.TemplateSettingUnitData.templatePk,searchValue:e.TemplateSettingUnitData.searchValue,pageCode:e.TemplateSettingUnitData.pageCode,appCode:e.TemplateSettingUnitData.appCode,parentIdcon:e.TemplateSettingUnitData.parentIdcon,templateNameVal:e.TemplateSettingUnitData.templateNameVal,templateTitleVal:e.TemplateSettingUnitData.templateTitleVal,orgidObj:e.TemplateSettingUnitData.orgidObj,nodeKey:e.TemplateSettingUnitData.nodeKey,copyId:e.TemplateSettingUnitData.copyId,json:e.TemplateSettingUnitData.json,templateType:e.TemplateSettingUnitData.templateType}}),{setTreeData:k.setTreeData,setTreeTemBillData:k.setTreeTemBillData,setTreeTemPrintData:k.setTreeTemPrintData,setExpandedKeys:k.setExpandedKeys,setSelectedKeys:k.setSelectedKeys,setDef1:k.setDef1,setSelectedTemKeys:k.setSelectedTemKeys,setExpandedTemKeys:k.setExpandedTemKeys,setTemplatePk:k.setTemplatePk,setSearchValue:k.setSearchValue,setPageCode:k.setPageCode,setAppCode:k.setAppCode,setParentIdcon:k.setParentIdcon,setTemplateNameVal:k.setTemplateNameVal,setTemplateTitleVal:k.setTemplateTitleVal,setOrgidObj:k.setOrgidObj,setNodeKey:k.setNodeKey,setCopyId:k.setCopyId,setJson:k.setJson,setTemplateType:k.setTemplateType})(F)},895:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutRight=t.PageLayoutLeft=t.PageLayoutHeader=t.PageScrollLayout=t.PageLayout=void 0;var n,r,o,l,i,s,d,c,p,u,f=w(a(12)),m=w(a(4)),h=w(a(8)),g=w(a(5)),T=w(a(6)),k=a(1),y=w(k),b=w(a(0));function w(e){return e&&e.__esModule?e:{default:e}}a(896);var C=w(a(33)).default.base.NCDiv,v=!1,x=(r=n=function(e){function t(e){(0,m.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleMouseUp=function(){v=!1},a.handleMouseMove=function(e){if(v){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,r=parseInt(t-n)+3;r<200||(a.style.width=r+"px")}},a}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{className:"nc-workbench-page"},this.props.header?this.props.header:null,y.default.createElement("div",{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+this.props.className},this.props.children))}}]),t}(k.Component),n.defaultProps={className:""},r),D=(l=o=function(e){function t(e){(0,m.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleMouseUp=function(){v=!1},a.handleMouseMove=function(e){if(v){var t=e.clientX,a=document.querySelector("#layoutLeft"),n=a.getBoundingClientRect().left,r=parseInt(t-n)+3;r<200||(a.style.width=r+"px")}},a.handleScroll=function(e){var t=a.refs.ncWorkbenchPageScroll.getBoundingClientRect(),n=t.y;t.width;if(n==a.initScrollContainerTop&&a.setState({suck:!1}),n<a.initScrollContainerTop){if(a.state.suck)return;a.containerWidthChange(),a.setState({suck:!0})}},a.containerWidthChange=function(){var e=a.refs.ncWorkbenchPageOwnpage.getBoundingClientRect().width;document.getElementsByClassName("nc-workbench-page-header")[0].style.width=e+"px",document.getElementById("suckTableHeader")&&(document.getElementById("suckTableHeader").style.width=e+"px")},a.state={suck:!1},a.initScrollContainerTop,a}return(0,T.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.containerWidthChange);var e=this.refs.ncWorkbenchPageScroll.getBoundingClientRect().y;this.initScrollContainerTop=e}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.containerWidthChange)}},{key:"render",value:function(){var e=this.state.suck;return y.default.createElement("div",{className:"nc-workbench-page-scroll",onScroll:this.handleScroll},y.default.createElement("div",{className:" nc-workbench-page "},y.default.createElement("div",{className:"nc-workbench-page-container "+(e?"nc-workbench-suck":""),ref:"ncWorkbenchPageScroll"},this.props.header?this.props.header:null,y.default.createElement("div",{onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,ref:"ncWorkbenchPageOwnpage",className:"nc-workbench-ownpage "+(2===this.props.children.length?"nc-workbench-ownpage-all":"")+" "+this.props.className},this.props.children))))}}]),t}(k.Component),o.defaultProps={className:""},l),E=(s=i=function(e){function t(e){(0,m.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return a.handleMouseDown=function(){v=!0},a}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{id:"layoutLeft",className:"nc-workbench-ownpage-left "+this.props.className},y.default.createElement("span",{className:"layout-drag-block",onMouseDown:this.handleMouseDown}),this.props.children)}}]),t}(k.Component),i.defaultProps={className:""},s),S=(c=d=function(e){function t(e){return(0,m.default)(this,t),(0,g.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e))}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return y.default.createElement(C,{areaCode:C.config.HEADER,className:"nc-workbench-page-header "+this.props.className},this.props.children)}}]),t}(k.Component),d.defaultProps={className:""},c),N=(u=p=function(e){function t(){return(0,m.default)(this,t),(0,g.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,T.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{className:"nc-workbench-ownpage-right "+this.props.className},this.props.children)}}]),t}(k.Component),p.defaultProps={className:""},u);x.propTypes={children:b.default.any.isRequired},E.propTypes={children:b.default.any.isRequired},N.propTypes={children:b.default.any.isRequired},t.PageLayout=x,t.PageScrollLayout=D,t.PageLayoutHeader=S,t.PageLayoutLeft=E,t.PageLayoutRight=N},896:function(e,t,a){var n=a(897);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},897:function(e,t,a){(e.exports=a(13)(!1)).push([e.i,'.nc-workbench-page{position:absolute;top:0;z-index:10;height:100%;width:100%;padding:8px 0 0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.nc-workbench-page .nc-workbench-page-header{-webkit-box-flex:0;flex:0 0 45px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;border-bottom:1px solid #d9d9d9;border-radius:3px 3px 0 0;background:#fff;padding:0 20px}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn{font-size:16px;color:#111;font-weight:700}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont{margin-right:6px;border-radius:50%;font-size:16px;padding:4px;font-weight:400;cursor:pointer}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn .iconfont:hover{background:#e8e8e8}.nc-workbench-page .nc-workbench-page-header .pageLayoutHeaderOwn span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-page-header .header_in_icon{display:-webkit-box;display:flex;font-weight:700;font-size:16px;color:#111;line-height:24px}.nc-workbench-page .nc-workbench-page-header .header_in_icon span[type=ncdiv]{font-size:inherit}.nc-workbench-page .nc-workbench-ownpage{min-width:800px;border-radius:0 0 3px 3px}.nc-workbench-page .nc-workbench-ownpage-all{height:100%;display:-webkit-box;display:flex;-webkit-box-pack:start;justify-content:flex-start;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nc-workbench-page .nc-workbench-ownpage-left{position:relative;height:100%;min-width:280px}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block{position:absolute;right:-3px;z-index:10;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:block;padding:0 3px;height:100%;border-radius:3px;cursor:w-resize}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:after{content:"";display:block;width:1px;height:100%;background:#d9d9d9}.nc-workbench-page .nc-workbench-ownpage-left .layout-drag-block:hover:after{width:2px;background:rgba(0,0,0,.54)}.nc-workbench-page .nc-workbench-ownpage-right{min-width:50%;-webkit-box-flex:1;flex:1}.nc-workbench-page-scroll{height:100%;width:100%;overflow-y:auto}.nc-workbench-page-scroll .nc-workbench-page-container{margin-top:0;min-height:100%;background:#fff;border-radius:3px}.nc-workbench-page-scroll .nc-workbench-page-container .nc-workbench-page-header{position:static;-webkit-transition:top .7s ease;transition:top .7s ease;height:46px}.nc-workbench-page-scroll .nc-workbench-page-container .suck-table-header{position:static;-webkit-transition:top .7s ease;transition:top .7s ease}.nc-workbench-page-scroll .nc-workbench-suck{padding-top:80px}.nc-workbench-page-scroll .nc-workbench-suck .nc-workbench-page-header{position:fixed;z-index:1;top:44px}.nc-workbench-page-scroll .nc-workbench-suck .suck-table-header{position:fixed;z-index:1;top:94px}@media screen and (min-width:1280px){.nc-workbench-page{padding:8px 16px 0}}@media screen and (min-width:1440px){.nc-workbench-page{padding:8px 16px 0}}@media screen and (min-width:1600px){.nc-workbench-page{padding:8px 16px 0}}',""])},899:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAreaValidate=t.updateSaveFlag=t.setZoneDataFun=t.setCurrentBatchCell=t.updateBatchSource=t.setFormulaInfo=t.toggleFormula=t.clearData=t.updatePreviewData=t.updateSelectArea=t.updateAreaList=t.updateSelectCard=t.setZoneData=void 0;var n,r=a(3),o=(n=r)&&n.__esModule?n:{default:n},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(432));t.setZoneData=function(e){return{type:l.ZONESETTING,data:e}},t.updateSelectCard=function(e){return{type:l.UPDATESELECTCARD,selectCard:e}},t.updateAreaList=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:l.UPDATEAREALIST,areaList:e,init:t}},t.updateSelectArea=function(e){return{type:l.UPDATESELECTAREA,selectedArea:e}},t.updatePreviewData=function(e){return{type:l.PREVIEWDATA,previewData:e}},t.clearData=function(){return{type:l.CLEARDATA}},t.toggleFormula=function(e,t){return{type:l.TOGGLEFORMULA,formula:(0,o.default)({},e,t)}},t.setFormulaInfo=function(e){return{type:l.SETFORMULAINFO,formulaInfo:e}},t.updateBatchSource=function(e){return{type:l.UPDATEBATCHSOURCE,batchSource:e}},t.setCurrentBatchCell=function(e){return{type:l.SETCURRENTBATCHCELL,currentBatchCell:e}},t.setZoneDataFun=function(e){return{type:l.SETZONEFORMFUN,getFromData:e}},t.updateSaveFlag=function(e){return{type:l.UPDATESAVEFLAG,isSave:e}},t.updateAreaValidate=function(e){return{type:l.SETAREAVALIDATE,validate:e}}},902:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTree=void 0;var n,r=a(90),o=(n=r)&&n.__esModule?n:{default:n};t.createTree=function(e,t,a){e=o.default.cloneDeep(e);var n=l(e,a),r=n.treeArray,d=n.treeObject;return d=i(d,t),s(r,d,t)};var l=function(e,t){var a=[],n={};return e.map((function(e,r){e[t]?n.hasOwnProperty(e[t])?n[e[t]].push(e):(n[e[t]]=[],n[e[t]].push(e)):a.push(e)})),{treeArray:a,treeObject:n}},i=function(e,t){for(var a in e)e.hasOwnProperty(a)&&(e[a]=s(e[a],e,t));return e},s=function(e,t,a){return e.map((function(e,n){return t.hasOwnProperty(e[a])&&(e.children=t[e[a]]),e}))}},903:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(12)),r=c(a(4)),o=c(a(8)),l=c(a(5)),i=c(a(6)),s=a(1),d=c(s);function c(e){return e&&e.__esModule?e:{default:e}}a(904);var p=c(a(33)).default.base,u=p.NCButtonGroup,f=p.NCButton,m=p.NCMenu,h=p.NCDropdown,g=function(e){function t(e){(0,r.default)(this,t);var a=(0,l.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return a.createBtn=function(e){return e.map((function(e){if(e.isshow){if("btn"==e.divide)return d.default.createElement(f,{className:"divide-btn",key:e.code,colors:e.type,fieldid:e.fieldid||e.code,onClick:function(){a.props.onClick(e.code)}},e.name);if("select"==e.divide){var t=d.default.createElement(m,{onClick:function(){a.props.onClick(e.code)}},d.default.createElement(m.Item,{key:"1",fieldid:e.fieldid||e.code},d.default.createElement("div",null,e.name)));return d.default.createElement(h,{overlay:t,trigger:["click"],fieldid:e.dropdownFieldid},d.default.createElement(f,{className:"margin-left-1",key:e.code,colors:e.type,fieldid:e.fieldid||e.code,is_arrow:!0,style:{minWidth:18}},d.default.createElement("i",{className:"iconfont icon-hangcaozuoxiala1"})))}return d.default.createElement(f,{className:"margin-left-6 "+(e.className?e.className:""),key:e.code,colors:e.type,fieldid:e.fieldid||e.code,onClick:function(){a.props.onClick(e.code)}},e.name)}return null}))},a.createBtnGroup=function(e){return e.length>0?d.default.createElement(u,null,a.createBtn(e)):null},a.createButton=function(e){var t=e.filter((function(e){return e.group})),n=e.filter((function(e){return!e.group}));return d.default.createElement("div",null,a.createBtn(n),d.default.createElement("div",{style:{marginLeft:6}},a.createBtnGroup(t)))},a}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"buttons-component "+(this.props.className?this.props.className:"")},this.createButton(this.props.dataSource))}}]),t}(s.Component);t.default=g},904:function(e,t,a){var n=a(905);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},905:function(e,t,a){(e.exports=a(13)(!1)).push([e.i,".buttons-component div{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.buttons-component .ant-btn-group{margin-left:6px}body .divide-btn{margin-left:6px;border-top-right-radius:0;border-bottom-right-radius:0}body .margin-left-1{margin-left:1px;width:18px;border-top-left-radius:0;border-bottom-left-radius:0;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;padding:0}body .margin-left-1 .iconfont{font-size:12px}",""])},906:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(198)),o=i(a(425)),l=a(34);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.appCode,a=(0,l.getStore)("APPICONSSTORE"),i=a&&a[t],s=r.default[i]?r.default[i]:o.default;return n.default.createElement("div",{style:{width:"24px",height:"24px",marginRight:"10px",background:"url("+s+") no-repeat 0px 0px",backgroundSize:"contain"}})}},937:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=w(a(431)),r=w(a(140)),o=w(a(430)),l=w(a(12)),i=w(a(4)),s=w(a(8)),d=w(a(5)),c=w(a(6)),p=a(1),u=w(p),f=a(29),m=a(899),h=a(874),g=w(a(26)),T=a(17),k=a(196),y=w(a(422)),b=a(90);function w(e){return e&&e.__esModule?e:{default:e}}function C(e){var t=this,a=this.props,n=a.requestUrl,r=a.requestData,o=a.templetData,l=o.pagecode,i=o.appcode,s=o.templetid,d=n||"/nccloud/platform/templet/querypage.do",c=r||{pagecode:l,appcode:i,templetid:s};Array.isArray(c)&&0==c.length||(0,g.default)({url:d,data:c,loading:!0,info:{name:(0,T.langCheck)("ZoneSetting-000028","pages",e),action:(0,T.langCheck)("ZoneSetting-000029","pages",e)},success:function(e){var a=e.data.data;a&&(t.props.meta.setMeta(a),r&&r.forEach((function(e){a[e.code]&&(a[e.code].position=e.position)})),t.props.updatePreviewData(a))}})}a(938);var v=function(e){function t(e){(0,i.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.showModalHidden=function(){a.props.setModalVisibel(!1)},a.createDom=function(){var e=a.props,t=e.editTable,n=e.form,r=e.search,o=n.createForm,l=t.createEditTable,i=r.NCCreateSearch,s=a.state.all_keys,d=[];return s.length&&s.map((function(e,t){switch(e.myAreaType){case"form":d.push(u.default.createElement("div",{className:"viewTemplateArea",key:"form"+t},u.default.createElement("div",{className:"descrip"},u.default.createElement("span",{key:"forms"+t}," ▼ "),""+e.name),o(e.id)));break;case"table":d.push(u.default.createElement("div",{className:"viewTemplateArea",key:"table"+t,ref:""+e.id},u.default.createElement("div",{className:"descrip"},u.default.createElement("span",{key:"tables"+t}," ▼ "),""+e.name),l(e.id,{})));break;case"search":d.push(u.default.createElement("div",{className:"viewTemplateArea",key:"search"+t},u.default.createElement("div",{className:"descrip"},u.default.createElement("span",{key:"searchs"+t}," ▼ "),""+e.name),i(e.id)))}})),d},a.state={all_keys:[],json:{}},a}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.previewData){var a=e.previewData,l=[],i=function(e,n){var r=n.moduletype,o=n.code,i=a.formrelation;"table"!==r&&"form"!==r&&"search"!==r||"form"===r&&i&&n.relationcode in i||l.push({id:o,name:n.name,myAreaType:r,position:n.position}),"form"===r&&t.props.form.setFormStatus(o,"edit"),"table"===r&&t.refs[o]&&setTimeout((function(){0==t.props.editTable.getNumberOfRows(o)&&t.props.editTable.addRow(o),t.refs[o]=null}),10)},s=!0,d=!1,c=void 0;try{for(var p,u=(0,r.default)((0,n.default)(a));!(s=(p=u.next()).done);s=!0){var f=p.value,m=(0,o.default)(f,2);m[0];i(0,m[1])}}catch(e){d=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(d)throw c}}l&&l[0]&&l[0].position&&(l=(0,b.sortBy)(l,(function(e){return e.position}))),this.setState({all_keys:l})}}},{key:"componentDidMount",value:function(){var e=this;(0,k.getMulti)({moduleId:"ZoneSetting",domainName:"workbench",callback:function(t){e.setState({json:t}),C.call(e,t)}})}},{key:"render",value:function(){var e=this.state.json;return u.default.createElement(y.default,{maskClosable:!1,customHeader:(0,T.langCheck)("ZoneSetting-000121","pages",e),visible:this.props.previewVisibel,onOk:this.onOkDialog,onCancel:this.showModalHidden,width:"98%",className:"viewPageTem",centered:!0,footer:null,fieldid:"preview"},this.createDom())}}]),t}(p.Component);v=(0,h.createPage)({})(v),t.default=(0,f.connect)((function(e){return{areaList:e.zoneSettingData.areaList,previewData:e.zoneSettingData.previewData}}),{updatePreviewData:m.updatePreviewData})(v)},938:function(e,t,a){var n=a(939);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(15)(n,r);n.locals&&(e.exports=n.locals)},939:function(e,t,a){(e.exports=a(13)(!1)).push([e.i,".viewPageTem .u-modal-content .u-modal-body{overflow:auto;padding:20px 0}.viewPageTem .u-modal-content .u-modal-body .printContent{padding:20px}.viewPageTem .u-modal-content .viewTemplateArea{padding:0 20px}",""])},979:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conf=void 0;var n=i(a(197));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.createElement(s,(0,n.default)(d,e))};var r=i(a(1)),o=a(874),l=a(17);function i(e){return e&&e.__esModule?e:{default:e}}var s=o.high.Refer,d=t.conf={placeholder:(0,l.langCheck)("0000PUB-000052"),rootNode:{refname:(0,l.langCheck)("0000PUB-000052"),refpk:"root"},refType:"tree",refName:(0,l.langCheck)("0000PUB-000053"),refCode:"uapbd.org.BusinessUnitAndGroupTreeRef",queryTreeUrl:"/nccloud/uapbd/ref/BusinessUnitAndGroupTreeRef.do",treeConfig:{name:[(0,l.langCheck)("0000PUB-000032"),(0,l.langCheck)("0000PUB-000033")],code:["refcode","refname"]},isMultiSelectedEnabled:!1,unitProps:{queryTreeUrl:"/nccloud/riart/ref/groupRefTreeAction.do",refType:"tree",refName:(0,l.langCheck)("0000PUB-000054"),rootNode:{refname:(0,l.langCheck)("0000PUB-000054"),refpk:"root"}},isShowUnit:!1}}}]);