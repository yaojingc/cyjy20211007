/*!
 * 
 *         description:  友云音web数据采集jssdk
 *         author: Yonyou YYY FED Team
 *         date: 2019-9-9
 *         version: v5.1.0.release
 */
window.YyyConfig={tid:"",appid:"",host:"",version:"v5.0.5_js20190930_NCC_release"},function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=62)}([function(e,t){t.__esModule=!0,t.encodeUri=function(e){return window.encodeURIComponent?window.encodeURIComponent(e):e},t.decodeUri=function(e){return window.decodeURIComponent?window.decodeURIComponent(e):e},t.now=function(){return+new Date}},function(e,t,n){t.__esModule=!0;var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(7),i=n(0),u=n(10),d=(r=u)&&r.__esModule?r:{"default":r};var s,l={};l.lang={isTypeOf:function(e,t){return"[object "+t+"]"==={}.toString.call(e)},isNumeric:function(e){return this.isTypeOf(e,"Number")&&isFinite(e)},isString:function(e){return this.isTypeOf(e,"String")},isFunction:function(e){return this.isTypeOf(e,"Function")},isArray:Array.isArray||function(e){return this.isTypeOf(e,"Array")},isBoolean:function(e){return this.isTypeOf(e,"Boolean")},isPlainObject:function(e){return this.isTypeOf(e,"Object")}},l.cookie={get:function(e){for(var t=void 0,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)","g");null!==(t=n.exec(document.cookie));)if(t[2]&&"null"!==t[2])return t[2];return""},set:function(e,t,n){var r=void 0;(n=n||{}).expires&&(r=new Date).setTime(r.getTime()+n.expires);var o=e+"="+t+(n.domain?"; domain="+n.domain:"")+(n.path?"; path="+n.path:"")+(r?"; expires="+r.toGMTString():"")+(n.secure?"; secure":"");document.cookie=o},remove:function(e,t,n){var r=new Date;r.setTime(r.getTime()-1),document.cookie=e+"="+(n?"; domain="+n:"")+(t?"; path="+t:"")+"; expires="+r.toGMTString()}},l.localStorage={clear:function(e){function t(e){var t=window.localStorage.getItem(e);if(t){var r=+t.substring(0,t.indexOf("|"));n>r&&window.localStorage.removeItem(e)}}var n=+new Date;if(window.localStorage){if(e)return t(e);for(var r=[],o=window.localStorage.length,i=0;i<o;i++){var u=window.localStorage.key(i);(0,a.startsWith)(u,"_yyy")&&r.push(u)}for(var d=0;d<r.length;d++)t(r[d])}},userDataStorage:function(){if(!this.userData)try{this.userData=document.createElement("input"),this.userData.type="hidden",this.userData.style.display="none",this.userData.addBehavior("#default#userData"),document.getElementsByTagName("head")[0].appendChild(this.userData)}catch(e){return!1}return!0},get:function(e){if(window.localStorage){var t=void 0;if(t=window.localStorage.getItem(e)){var n=t.indexOf("|"),r=+t.substring(0,n);if(r&&r>(new Date).getTime())return t.substring(n+1)}}else if(this.userDataStorage())try{return this.userData.load(document.location.hostname),this.userData.getAttribute(e)}catch(r){}return null},set:function(e,t,n){var r,o=new Date,a=n.expires||31536e6;o.setTime(o.getTime()+a);try{window.localStorage?(t=o.getTime()+"|"+t,window.localStorage.setItem(e,t),setTimeout((r=e,function(){l.localStorage.clear(r)}),a)):this.userDataStorage()&&(this.userData.expires=o.toUTCString(),this.userData.load(document.location.hostname),this.userData.setAttribute(e,t),this.userData.save(document.location.hostname))}catch(i){}},remove:function(e){if(window.localStorage)window.localStorage.removeItem(e);else if(this.userDataStorage())try{this.userData.load(document.location.hostname),this.userData.removeAttribute(e),this.userData.save(document.location.hostname)}catch(t){}}},l.sessionStorage={set:function(e,t){if(window.sessionStorage)try{window.sessionStorage.setItem(e,t)}catch(n){}},get:function(e){return window.sessionStorage?window.sessionStorage.getItem(e):null},remove:function(e){window.sessionStorage&&window.sessionStorage.removeItem(e)}},l.indexedDB={"with":function(){var e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB;window.IDBTransaction||window.webkitIDBTransaction,window.IDBKeyRange||window.webkitIDBKeyRange;function t(e){d["default"].log("IndexedDB error "+e.code+": "+e.message)}return function(n,r){var o=e.open(n);o.onerror=t,o.onsuccess=function(){var e=o.result;e.version&&r(e)}}}()},l.memStorage=(s={},{set:function(e,t,n){s[e]=t,n.expires&&setTimeout(function(){delete s[e]},n.expires)},get:function(e){return s[e]},remove:function(e){delete s[e]}}),l.dom={hasExactClass:function(e,t){return!!e&&(e.classList?e.classList.contains(t):!!e.className&&function(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}(t).test(e.className))},hasClass:function(e,t){return!!e&&(!(!e.className||!l.lang.isString(e.className))&&e.className.indexOf(t)>-1)},tree:function(e){for(var t=[],n=(e.tagName||e.nodeName).toLowerCase();e&&"body"!==(n=(e.tagName||e.nodeName).toLowerCase())&&"html"!==n;)t.unshift(e),e=e.parentNode;return t},getNodeAttr:function(e,t){return e.hasAttribute&&e.getAttribute(t)||""},nodePath:function(e){var t=(e.tagName||e.nodeName).toLowerCase(),n=e.hasAttribute("id")&&!e.getAttribute("id").match(/^[0-9]/)&&e.getAttribute("id"),r=void 0;if("input"===t&&e.hasAttribute("name")&&e.getAttribute("name"))r=[e.getAttribute("name")];else{var o=void 0,i=void 0;(o=e.getAttribute("class"))&&(i=(0,a.trim)(o.replace(/(^| )(clear|clearfix|active|hover|enabled|hidden|display|focus|disabled|ycm-|ng-)[^\. ]*/g,""))),i&&i.length&&(r=i.split(/\s+/).sort())}var u="/"+t;if(n&&(u+="#"+n),r)for(var d=0,s=r.length;s>d;d++)u+="."+r[d];return u},calculateXpath:function(e){var t="";if(e.hasAttribute)for(var n=this.tree(e),r=0,o=n.length;r<o;r++)t+=this.nodePath(n[r]);return t},closest:function(e,t,n){n=l.lang.isNumeric(n)?n+1:100;for(var r=0;e&&r<n;r++){if(t(e))return e;e=e.parentNode}return null},isVisibleKey:function(e){return/^(Spacebar|[\s0-9a-zA-Z`~!@#$%^&*()-=[\]\\;',.\/_+{}|:"<>?])$/.test(e)}},l.getValueOfUrlParam=function(e,t){var n=new RegExp(e+"=([\\.\\/\\w\\u0080-\\uFFFF_-]+)","i"),r=void 0;if(l.lang.isString(t)&&(t=t.split(",")),l.lang.isTypeOf(t,"Array"))for(var o=0;o<t.length;o++){if(r=(r=(0,i.decodeUri)(t[o]).match(n))&&r[1])break}return r||""},l.getUrlParams=function(e){var t=void 0,n=void 0;if(null!==(n=(0,i.decodeUri)(e).match(/\?(.*)/))){t={},n=n[1];for(var r=/([\w_-]+)=([\w\u0080-\uFFFF_-]+)/g,o=void 0;null!==(o=r.exec(n));)3===o.length&&(t[o[1]]=o[2])}return t},l.getRandomStr=function(e){for(var t=e||8,n="",r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),o=0;t>o;o++)n+=r[Math.floor(Math.random()*r.length)];return n},l.lengthOf=function(e){return"string"==typeof e?e.length:window.ArrayBuffer&&e instanceof ArrayBuffer?e.byteLength:window.Blob&&e instanceof Blob?e.size:e&&e.length?e.length:0},l.extend=function(){var e=void 0,t=void 0,n=void 0,r=void 0,a=void 0,i=void 0,u=arguments[0]||{},d=1,s=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[d]||{},d++),"object"===(void 0===u?"undefined":o(u))||l.lang.isFunction(u)||(u={});d<s;d++)if(null!=(a=arguments[d]))for(r in a)e=u[r],u!==(n=a[r])&&(f&&n&&(l.lang.isPlainObject(n)||(t=l.lang.isArray(n)))?(t?(t=!1,i=e&&l.lang.isArray(e)?e:[]):i=e&&l.lang.isPlainObject(e)?e:{},u[r]=l.extend(f,i,n)):n!==undefined&&(u[r]=n));return u},t["default"]=l},function(e,t){t.__esModule=!0;t["default"]={DOM_COMPLETE:"dom-complete",PAGE_LOADED:"page-loaded",PAGE_UNLOAD:"page-unload",SEND_BEACON:"send-beacon",SEND_ABORT:"send-abort",CORDOVA_READY:"cordovaHTTP-loaded",BS_START:"business-started",BS_END:"business-ended",BS_ABORT:"business-aborted",BS_UPDATE:"business-updated",BS_FETCH:"business-fetch",CIRCLE_START:"circle:start",CIRCLE_STOP:"circle:stop",CIRCLE_PAGE_ON:"circle:page:on",CIRCLE_PAGE_OFF:"circle:page:off"}},function(e,t,n){t.__esModule=!0;var r,o=n(9),a=(r=o)&&r.__esModule?r:{"default":r};var i=window._yyy_EE;i||(i=window._yyy_EE=function(){var e={};function t(t){return e[t]||[]}return{subscribe:function(n,r){e[n]=t(n).concat(r)},unsubscribe:function(t,n){e[t]&&e[t].splice(a["default"].indexOf(e[t],n)>>>0,1)},publish:function(e,n){for(var r=t(e),o=Array.prototype.slice.call(arguments,1),a=0;a<r.length;a++)r[a].apply(null,o)}}}()),t["default"]=i},function(module,exports,__webpack_require__){exports.__esModule=!0;var _global=__webpack_require__(14),_global2=_interopRequireDefault(_global),_base=__webpack_require__(0),_eventEmitter=__webpack_require__(3),_eventEmitter2=_interopRequireDefault(_eventEmitter),_eventType=__webpack_require__(2),_eventType2=_interopRequireDefault(_eventType),_tools=__webpack_require__(8),_tools2=_interopRequireDefault(_tools),_utils=__webpack_require__(1),_utils2=_interopRequireDefault(_utils),_arrays=__webpack_require__(9),_arrays2=_interopRequireDefault(_arrays),_events=__webpack_require__(13),_events2=_interopRequireDefault(_events),_registerInfo=__webpack_require__(17),_registerInfo2=_interopRequireDefault(_registerInfo);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var startTime=_global2["default"].sdkStartTime,yy_rum={start:startTime,loaded:!1,loadTime:0,errors:[],errorRecorded:{},xhrOnload:[],timerOn:!1,sendTimer:function(){yy_rum.timerOn&&(_eventEmitter2["default"].publish(_eventType2["default"].SEND_BEACON),setTimeout(yy_rum.sendTimer,1e3))},startSendTimer:function(){this.timerOn=!0,this.sendTimer()},stopSendTimer:function(){this.timerOn=!1},ready:function(){return yy_rum.loaded},initend:function(){yy_rum.endTime||(_eventEmitter2["default"].publish(_eventType2["default"].DOM_COMPLETE),yy_rum.endTime=(0,_base.now)(),this.startSendTimer())}};function domContentLoaded(){yy_rum.initend()}function domComplete(){"complete"===document.readyState&&yy_rum.initend()}function load(e){function t(){_eventEmitter2["default"].publish(_eventType2["default"].PAGE_LOADED)}yy_rum.loaded||(yy_rum.initend(),yy_rum.loaded=!0,yy_rum.loadTime=(0,_base.now)(),9===e?t():setTimeout(t,0))}function unload(){unloaded||load(9),_eventEmitter2["default"].publish(_eventType2["default"].PAGE_UNLOAD),unloaded=!0}exports["default"]=yy_rum;for(var unloaded=!1,winEvent=[["load",load],["beforeunload",unload],["pagehide",unload],["unload",unload]],i=0;i<winEvent.length;i++)_events2["default"].addEventListener(window,winEvent[i][0],winEvent[i][1],!1);for(var events=[["DOMContentLoaded",domContentLoaded],["readystatechange",domComplete]],n=0;n<events.length;n++)_events2["default"].addEventListener(document,events[n][0],events[n][1],!1);_arrays2["default"].each(["setTimeout","setInterval"],function(timer){function getCbId(e){var t="";return"string"==typeof e?t=e:"function"==typeof e&&(t=e._cbId),t||(t=e.name?e.name+"_"+_utils2["default"].getRandomStr(12):_utils2["default"].getRandomStr(12),e._cbId=t),t}yy_rum.cyclicTimer={},_tools2["default"].wrap(!0,window,timer,function(origTimer){return function(callback,millisec,param){if(!callback)return origTimer(callback,millisec,param);var args=Array.prototype.slice.call(arguments,2),cbId=getCbId(callback);function wrappedCode(){yy_rum.cbId=cbId,yy_rum.inTimer=yy_rum.cyclicTimer[yy_rum.cbId],"string"==typeof callback?eval(callback):"function"==typeof callback&&callback.apply(null,args),yy_rum.inTimer&&(yy_rum.inTimer=!1,yy_rum.cbId=null)}return yy_rum.inTimer?yy_rum.cyclicTimer[cbId]=!0:yy_rum.cyclicTimer[cbId]="setInterval"===timer||yy_rum.cbId===cbId,origTimer(wrappedCode,millisec)}})}),_utils2["default"].cookie.set("_yyy_appid",_registerInfo2["default"].appid,{path:"/"}),_utils2["default"].localStorage.clear()},function(e,t){t.__esModule=!0;t.DATA_TYPE={PF:"pf",ERR:"err",XHR:"xhr",MUT:"mut",BN:"bn"}},function(e,t,n){t.__esModule=!0;var r=s(n(1)),o=n(0),a=s(n(9)),i=s(n(31)),u=n(7),d=s(n(30));function s(e){return e&&e.__esModule?e:{"default":e}}var l=!1,f="_yyy_user_id",c=d["default"].localStorage?r["default"].localStorage:d["default"].cookie?r["default"].cookie:r["default"].memStorage,p={},m={},h=["userid","username"],g=i["default"].API_LIST;function y(){var e=c.get(f);if(v.traceId){var t=v.traceId;try{c.set(f,t,{domain:location.hostname,path:"/"})}catch(n){}}else if(!e||!(0,u.startsWith)(e,"yuc-")){e="yuc-"+r["default"].getRandomStr(16);try{c.set(f,e,{domain:location.hostname,path:"/",expires:31536e6})}catch(o){}}return e}var v={traceId:null,getUserId:function(){var e=void 0,t=r["default"].lang,n=r["default"].cookie,a=p.userid;return a&&(e=(t.isNumeric(a)||t.isString(a))&&a||t.isTypeOf(a,"Function")&&a()),e=e||n.get("p_userId")&&(0,o.decodeUri)(n.get("p_userId"))||n.get("usercode")&&(0,o.decodeUri)(n.get("usercode"))||n.get("yonyou_uid")&&(0,o.decodeUri)(n.get("yonyou_uid"))||c.get(f)||y()||"",(0,u.trim)(e).toLowerCase()},getUsername:function(){var e=void 0,t=r["default"].lang,n=r["default"].cookie,a=p.username;return a&&(e=(t.isNumeric(a)||t.isString(a))&&a||t.isTypeOf(a,"Function")&&a()),e=e||n.get("yonyou_uname")&&(0,o.decodeUri)(n.get("yonyou_uname"))||"",(0,u.trim)(e).toLowerCase()},getMetrics:function(e){l||this.load();var t={},n=r["default"].lang;for(var o in p)p.hasOwnProperty(o)&&-1===a["default"].indexOf(h,o)&&(t[o]=(n.isNumeric(p[o])||n.isString(p[o]))&&p[o]||n.isFunction(p[o])&&p[o]()||"");return e?t[e]:t},getCommonMetrics:function(){var e={},t=r["default"].lang;for(var n in m)m.hasOwnProperty(n)&&-1===a["default"].indexOf(h,n)&&(e[n]=t.isFunction(m[n])&&m[n]()||(t.isNumeric(m[n])||t.isString(m[n]))&&m[n]||"");for(var o in _)_.hasOwnProperty(o)&&(e[o]=_[o].call(v));return e}},_={uc:v.getUserId,username:v.getUsername};function w(e){if(e)for(var t=e.split("."),n=v,r=0,o=t.length,a=o-1;r<o;r++){var i=t[r];"undefined"==typeof n[i]&&(n[i]=r<a?{}:null),n=n[i]}}!function(){for(var e=0;e<g.length;e++)w(g[e]);if(!l){y();var t=i["default"].getUserVars();for(var n in t)if(t.hasOwnProperty(n))if((0,u.startsWith)(n,"track.")||(0,u.startsWith)(n,"page.")||(0,u.startsWith)(n,"node.")||(0,u.startsWith)(n,"xhr.")||(0,u.startsWith)(n,"http.")){for(var r=n.split("."),o=0,a=v;o<r.length-1;)a[r[o]]||(a[r[o]]={}),a=a[r[o]],o++;a[r[o]]=t[n]}else p[n]=t[n];m=i["default"].getCommonVars(),l=!0}}(),t["default"]=v},function(e,t){t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t,n){return String.prototype.startsWith?String.prototype.startsWith.call(e,t,n):(n=n||0,e.indexOf(t,n)===n)}function o(e){return null===e||e===undefined?"":String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s+/,"").replace(/\s+$/,"")}function a(e){if(window.JSON)return window.JSON.stringify(e);switch(void 0===e?"undefined":n(e)){case"object":if(!e)return"null";var t=void 0,r=0;if(e instanceof Array){for(t="[";r<e.length;r++)t+=(r>0?",":"")+a(e[r]);return t+"]"}for(var o in t="{",e)if(e.hasOwnProperty(o)&&"function"!=typeof e[o]){var i=a(e[o]);t+=(r>0?",":"")+a(o)+":"+i,r++}return t+"}";case"string":return'"'+e.replace(/(["\\])/g,"\\$1").replace(/\n/g,"\\n")+'"';case"number":return e.toString();case"boolean":return e?"true":"false";case"function":return a(e.toString());case"undefined":default:return'"undefined"'}}function i(e){return e&&"string"==typeof e?(window.JSON?window.JSON.parse:function(e){return new Function("return "+e)()})(e):null}t.startsWith=r,t.trim=o,t.stringify=a,t.toJSON=i;var u={startsWith:r,trim:o,stringify:a,toJSON:i};t["default"]=u},function(e,t){t.__esModule=!0;t["default"]={wrap:function(e,t,n,r,o){var a=void 0;try{a=t[n]}catch(i){if(!e)return!1}if(!a&&!e)return!1;if(a&&a._yy_wrap)return!1;try{t[n]=r(a,o)}catch(i){return!1}return t[n]._yy_wrap=[a],!0},unwrap:function(e,t){try{var n=e[t]._yy_wrap;n&&(e[t]=n[0])}catch(r){}},asArray:function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e}}},function(e,t){t.__esModule=!0;var n={indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++){if(e[n]===t)return n}return-1},each:function(e,t){if(e){var n=void 0;for(n=0;n<e.length;n++)e[n]&&t(e[n],n,e)}}};t["default"]=n},function(e,t){t.__esModule=!0;var n={log:function(){window.console&&console.log&&console.log.apply},error:function(){window.console&&console.error&&window.console.error.apply},time:function(){window.console&&window.console.time&&window.console.time.apply},timeEnd:function(){window.console&&window.console.timeEnd&&window.console.timeEnd.apply}};t["default"]=n},function(e,t,n){t.__esModule=!0;var r,o=n(0),a=n(16),i=(r=a)&&r.__esModule?r:{"default":r},u=n(7);function d(e){return(0,o.encodeUri)(e)}var s={options:{compress:!1,urlEncode:!1,needResponse:!1},setOptions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t])},jsonp:function(e,t,n){var r=document.createElement("script");r.type="text/javascript",r.src=e+"&jsonp="+n;var o=document.getElementsByTagName("script")[0];return o.parentNode.insertBefore(r,o),r},xhr:function(e,t){var n=new XMLHttpRequest;n.open("POST",e,!0);try{"withCredentials"in n&&(n.withCredentials=!0)}catch(r){}return n.setRequestHeader("content-type","text/plain"),n.send(t),n},img:function(e){var t=i["default"].beacon_img();t+="&data="+e;var n=new Image;return n.src=t,n},beacon:function(e){var t=i["default"].beacon();return navigator.sendBeacon(t,e)}},l=!!navigator.sendBeacon;s.send=function(e,t){e=(0,u.stringify)([e]);var n=void 0;return n=l?s.beacon(e):!((e=d(d(e))).length>4096)&&s.img(e),t&&t(n),n},t["default"]={setOptions:s.setOptions,send:s.send}},function(e,t,n){t.__esModule=!0;var r=n(0),o=_(n(1)),a=_(n(13)),i=_(n(4)),u=n(7),d=_(n(3)),s=_(n(2)),l=_(n(29)),f=_(n(10)),c=_(n(9)),p=_(n(28)),m=_(n(52)),h=_(n(14)),g=_(n(51)),y=_(n(30)),v=_(n(6));function _(e){return e&&e.__esModule?e:{"default":e}}function w(){var e=[].slice.call(arguments);e.unshift("%c sdkid: "+h["default"].sdkId,"color: blue;"),f["default"].log.apply(f["default"],e)}n(44);var b=0,x=y["default"].localStorage?o["default"].localStorage:o["default"].cookie,T=function(){h["default"].sdkId;var e="_yyy_bs_",t=document.referrer.replace(location.origin,""),n=m["default"].hex(t),f=m["default"].hex(location.pathname+location.search);w("current page:",location.href,"pathId:",f);var _=o["default"].dom,T=window.self!==window.top,S=void 0,A=void 0,E=void 0,O=void 0,C="",M=void 0,N=5e3;function D(){return"JS_"+o["default"].getRandomStr()+((0,r.now)()+"").substring(5)}function k(e){w("Generate bs...");var t={bid:"",ba:"",bt:null,ig:0,nt:!i["default"].loaded&&p["default"].Document||p["default"].Element,nodeAttr:{}};if(v["default"].track.ignore.event&&o["default"].lang.isFunction(v["default"].track.ignore.event)&&v["default"].track.ignore.event.call(v["default"],e))return t.ig=1,t;var n,a=[],d=void 0,s=void 0;if(t.bt=(0,r.now)(),t.bid=D(),e){var l=e.srcElement||e.target,f=(l.tagName||l.nodeName||"").toUpperCase(),m=void 0,h=void 0,g=void 0;if(w("Current node is",l),function(e){var t=(e.tagName||e.nodeName||"").toLowerCase();return"body"===t||"html"===t||t.indexOf("document")>-1||"textarea"===t||"input"===t&&-1===c["default"].indexOf(["button","submit"],e.type)}(l))return w("Bs of current node will be ignored."),t.ig=1,t;-1!==c["default"].indexOf(["I","SPAN"],f)&&l.parentNode&&-1!==c["default"].indexOf(["A","BUTTON"],(l.parentNode.tagName||l.parentNode.nodeName).toUpperCase())&&(f=((l=l.parentNode).tagName||l.nodeName||"").toUpperCase());var y=void 0;if(-1!==c["default"].indexOf(["SVG","PATH","USE"],f)&&(y=o["default"].dom.closest(l,function(e){return"SVG"===(e.tagName||e.nodeName).toUpperCase()},3))&&(l=y.parentNode?y.parentNode:y),m=v["default"].node&&o["default"].lang.isFunction(v["default"].node.name)?v["default"].node.name(l):_.getNodeAttr(l,"data-yyy-title")||_.getNodeAttr(l,"yyy-title")||l.value||l.title||l.alt||l.innerText||l.textContent||"",h=_.getNodeAttr(l,"src")||l.src||_.getNodeAttr(l,"href")||l.href,g=_.calculateXpath(l)||"",m=(0,u.trim)(m).replace(/\s/g,""),t.nodeAttr.value=m.substring(0,20),t.nodeAttr.xpath=g,t.nodeAttr.href=h&&h.indexOf("base64")<0?h:"",!t.nodeAttr.value&&v["default"].track.ignore.empty)return w("Node value is empty. Current bs is ignored"),t.ig=1,t}if(v["default"].page.name)o["default"].lang.isString(v["default"].page.name)?d=v["default"].page.name:o["default"].lang.isFunction(v["default"].page.name)&&(d=v["default"].page.name(e,C));else if(T){try{d=window.top.document.title}catch(b){}s=document.title}else d=document.title;return d&&a.push((0,u.trim)(d).replace(/\s/g,"").substring(0,50)),s&&a.push((0,u.trim)(s).replace(/\s/g,"").substring(0,50)),t.nodeAttr.value&&a.push(t.nodeAttr.value),t.ba=a.join("#"),!O&&(n=void 0,O=v["default"].track.context&&v["default"].track.context.cache&&(n=v["default"].track.context.cache,o["default"].lang.isFunction(n))?n:function(){return n}),O(e)&&w("Last ba updated: "+(C=t.ba)+" ... in frame: "+T),w("New bs is: ",(0,u.stringify)(t)),t}function P(t){w("Write to storage. Context id is ",t);var n=g["default"].compressToEncodedURIComponent((0,u.stringify)(A));x.set(e+t,n,{path:"/",expires:12e4})}function I(t){var n=null,r=x.get(e+t);return r&&(n=(0,u.toJSON)(g["default"].decompressFromEncodedURIComponent(r))),n}function j(){var e=(0,r.now)();A.bid=D(),A.ig=1,A.bt=e}function R(){(A=k()).bt=i["default"].start,w("update bs >>> in frame: ",top!==self," ===== in initBs"),P(f)}function L(e){clearInterval(M),w("New event occurred:",e.type),A=k(e),P(f),M=setInterval(j,N),w("next ---- bid: ",A.bid,"; bt: ",A.bt),w("update bs >>> in frame: ",top!==self," =====  in nextBs")}if(window.performance&&window.performance.navigation&&(S=window.performance.navigation.type),T){if(w("Doc in frame."),!y["default"].crossOrigin)if(w("Not cross origin"),top._yyy_EE)w("SDK in top is loaded. Fetching bs from top..."),top._yyy_EE.publish(s["default"].BS_FETCH,h["default"].sdkId,function(e){A=e,w("Bs fetched from top: ",(0,u.stringify)(A))});else{w("SDK in top has not been loaded. Fetching bs from storage...");var B=m["default"].hex(top.document.referrer.replace(location.origin,""));w("Top referrer is",top.document.referrer,", and context id is ",B),A=I(B),w("Bs fetched from storage is",(0,u.stringify)(A))}A&&A.bid||(w("No bs found. Init bs..."),R())}else"undefined"!==S?S===b?""===document.referrer||t===location.pathname+location.search?(w("Navigation type is 'navigate', but no referrer or referrer is the same as current location. Init bs."),R()):(w("Navigation type is 'navigate', referrer is",document.referrer,", and context id is:",n,". Fetching bs from storage..."),A=I(n),w("Bs fetched from storage is",(0,u.stringify)(A)),A&&A.bid||(w("Bs is empty. Init bs..."),R())):(w("navigation type is 'reload'. Init bs."),R()):(w("Normal initiation. Init bs..."),R());E=o["default"].extend(!0,{},A),w("bs on loading >>>  in frame: ",T," >> bsOfContext: ",(0,u.stringify)(E)),M=setInterval(j,N),"mousedown,touchstart".replace(/\w+/g,function(e){a["default"].addEventListener(document,e,L,!1)}),c["default"].each(["DOMMouseScroll","mousewheel"],function(e){});var U=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":"unload";function F(e,t){w("Get bs >>>   in frame: ",T," ========= page loaded: ",!!i["default"].loaded," ========= bsOfContext: ",(0,u.stringify)(E)," ======== bs: ",(0,u.stringify)(A));var r=void 0;return i["default"].loaded?(w("Page loaded. Get bs of page. Page ID is",f),r=o["default"].extend(!0,{},A)):(w("Page not loaded. Get bs of context. Context ID is",n),r=E&&o["default"].extend(!0,{},E)||o["default"].extend(!0,{},A)),o["default"].lang.isFunction(t)&&(w("invoked by frame",e,". return bs:",(0,u.stringify)(r)),t(r)),w("Last ba is:",C,"... in frame:",T," ... return bs:",(0,u.stringify)(r)),r}return a["default"].addEventListener(window,U,function(){var e=I(f);e&&d["default"].publish(s["default"].BS_ABORT,{lbid:e&&e.bid||"",stg:l["default"].PAGE_UNLOADING}),!0,w("unloading page..."),(A=k()).ba+="@unload"},!1),d["default"].subscribe(s["default"].BS_UPDATE,function(e){A=e,w("update bs >>> in frame: ",top!==self," =====  on bs_update: new bs >> ",(0,u.stringify)(e)),P(f)}),d["default"].subscribe(s["default"].PAGE_LOADED,function(){w("============== Page loaded. Cleaning bs of context... =============="),E=null,x.remove(e+n,"/")}),d["default"].subscribe(s["default"].BS_FETCH,F),{getInfo:F}}();t["default"]={getInfo:T.getInfo}},function(e,t){t.__esModule=!0;t["default"]={addEventListener:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}}},function(e,t,n){t.__esModule=!0;var r,o=n(0),a=n(1),i=(r=a)&&r.__esModule?r:{"default":r};window._yyy||(window._yyy={push:function(){Array.prototype.push.apply(window._yyy,arguments)}});var u=window._yyy;u.sdkId=i["default"].getRandomStr(8),u.sdkVersion="v5.1.0.release",u.buVersion=window.YyyConfig.version,u.sdkStartTime=window.performance&&window.performance.timing&&window.performance.timing.navigationStart||(0,o.now)(),t["default"]=u},function(e,t,n){t.__esModule=!0;n(5);var r=u(n(1)),o=u(n(14)),a=u(n(17)),i=u(n(6));function u(e){return e&&e.__esModule?e:{"default":e}}var d={tid:a["default"].tid,appid:a["default"].appid,sdkid:o["default"].sdkId,ua:navigator.userAgent,sh:window.screen.height,sw:window.screen.width,v:o["default"].buVersion,ip:"#~#~#~",jt:"web"},s=window.self!==window.top?1:0;var l={get:function(e,t){var n={};return r["default"].extend(n,d,i["default"].getCommonMetrics(),t),n.pt=e,n.inf=s,n}};t["default"]=l},function(e,t,n){t.__esModule=!0;var r=o(n(4));n(7),o(n(17));function o(e){return e&&e.__esModule?e:{"default":e}}var a=void 0;if(window.YyyConfig.host){var i=window.YyyConfig.host.match(/(http[s]?):\/\/([^:/]*)/);i&&(a=i[0]+("https"===i[1]?":4574":":4575"))}a||(a=location.protocol+"//"+location.hostname+("https:"===location.protocol?":4574":":4575"));var u={host:function(){var e=void 0;e="https://yyy.yonyoucloud.com";var t=new Image;return t.src=e+"/ycm-appmonitor/img/bg-dot.png",t.onload=function(){u.host=e},a||e}(),agentHost:a,beacon:function(){return u.host+"/send/api/browser?yyy=v3"},beacon_img:function(){return u.host+"/send/api/imgbrowser?yyy=v3"},ac:5,adu:10};r["default"].server=u,t["default"]=u},function(e,t){t.__esModule=!0;var n={tid:window.YyyConfig.tid,appid:window.YyyConfig.appid};t["default"]=n},function(e,t,n){t.__esModule=!0;var r=n(0),o=p(n(4)),a=p(n(15)),i=p(n(16)),u=n(5),d=p(n(11)),s=p(n(2)),l=p(n(3)),f=p(n(1)),c=p(n(14));function p(e){return e&&e.__esModule?e:{"default":e}}var m=1,h={cache:{length:0,data:{},put:function(e,t){this.data[e]=t,++this.length},get:function(e){return this.data[e]},remove:function(e){var t=this.data[e];return t&&(delete this.data[e],--this.length),t}},data:[],snd_du:function(){return i["default"].adu?1e3*i["default"].adu:1e4},cc:function(){return i["default"].ac?i["default"].ac:10},txid:function(){return(c["default"].sdkId+f["default"].getRandomStr(12)).toLowerCase()+"A"+(0,r.now)()+"A"+m++}};function g(e){if((o["default"].loaded||e)&&(e||(e=!h.lastSend||(0,r.now)()-h.lastSend>h.snd_du()||h.data.length>=h.cc()),h.data.length>0&&e)){h.lastSend=(0,r.now)();var t={};t.header=a["default"].get(u.DATA_TYPE.XHR);var n=h.data;if(t.content=n,!d["default"].send(t))for(var i=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=Math.floor(n/2);t[o]=t[o]||[],t[o].push(r)}return t}(n);i.length>0;)t.content=i.pop(),d["default"].send(t);h.data=[]}}l["default"].subscribe(s["default"].SEND_BEACON,g),l["default"].subscribe(s["default"].BS_ABORT,function(e){var t=(e=e||{}).lbid,n=function(){var e=[],n=h.cache.data;for(var r in n)n.hasOwnProperty(r)&&n[r].bid!==t&&e.push(n[r]);return e}();h.data=h.data.concat(n),g(!0)}),t["default"]=h},function(e,t){t.__esModule=!0,t.fix=function(e){if(e[6]){var t=e[4],r=e[5];if(r&&"string"==typeof r&&t){r=r.split(/\n/);var o=n.exec(r[0]);o||(o=n.exec(r[1])),o&&o[1]!==t&&(e[4]=o[1]||t,e[2]=o[2]||e[2],e[3]=o[3]||e[3])}}},t["default"]=function(e,t,n,r){return e+":"+(r||"")+":"+t+":"+n};var n=new RegExp("([a-z]+:/{2,3}.*):(\\d+):(\\d+)")},function(e,t){t.__esModule=!0;var n=window.performance?window.performance:window.Performance;t["default"]=n},function(e,t,n){var r=m(n(8)),o=m(n(3)),a=m(n(20)),i=m(n(32)),u=m(n(2)),d=n(0),s=m(n(12)),l=n(5),f=m(n(10)),c=m(n(13)),p=n(7);function m(e){return e&&e.__esModule?e:{"default":e}}var h=s["default"].getInfo();f["default"].log("pf loading >>>  in frame: "+(top!==self)+" >> $bs: "+(0,p.toJSON)(h)),o["default"].publish(u["default"].BS_START,{bid:h.bid,jid:i["default"].jid,type:l.DATA_TYPE.PF}),a["default"]&&(c["default"].addEventListener(a["default"],"resourcetimingbufferfull",function(){var e=a["default"].getEntriesByType("resource");e&&(i["default"].resourceTimings=i["default"].resourceTimings.concat(e),a["default"].clearResourceTimings())},!1),c["default"].addEventListener(a["default"],"webkitresourcetimingbufferfull",function(){var e=a["default"].getEntriesByType("resource");e&&(i["default"].resourceTimings=i["default"].resourceTimings.concat(e),a["default"].webkitClearResourceTimings())},!1)),r["default"].wrap(!1,window,"requestAnimationFrame",function(e){return function(){return i["default"].firstPaint=(0,d.now)(),window.requestAnimationFrame=e,e.apply(this,arguments)}}),o["default"].subscribe(u["default"].PAGE_LOADED,function(){f["default"].log("pf start >>>>  in frame: "+(top!==self)+" >> pf bs: "+(0,p.toJSON)(h)),i["default"].start(h)})},function(e,t,n){t.__esModule=!0;var r=h(n(3)),o=h(n(2)),a=h(n(10)),i=n(5),u=h(n(1)),d=n(0),s=h(n(6)),l=h(n(30)),f=h(n(15)),c=h(n(11)),p=h(n(34)),m=h(n(33));function h(e){return e&&e.__esModule?e:{"default":e}}function g(e){var t={header:f["default"].get(i.DATA_TYPE.MUT),content:[]},n={bid:e.bid,jid:e.jid,tms:e.ts,tme:(0,d.now)(),uc:s["default"].getUserId().toLowerCase()};t.content.push(n),c["default"].send(t)}!function(){if(l["default"].mutationObserver){var e=s["default"].track.dom.mutation;if(e){u["default"].lang.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];if(n.target){var f=function(e){return function(t){if(t&&t.type===i.DATA_TYPE.XHR){var n=top.document.body,s=top.document.querySelector(e.target);if(s){a["default"].log("mutation observing");var l=e.mutation||p["default"].ADDITION;if(m["default"][l]){var f=(0,d.now)(),c=u["default"].getRandomStr()+f;r["default"].publish(o["default"].BS_START,{bid:t.bid,jid:c,type:i.DATA_TYPE.MUT}),m["default"][l](n,s,function(){a["default"].log("mutation observed."),r["default"].publish(o["default"].BS_END,{bid:t.bid,jid:c,type:i.DATA_TYPE.MUT}),g({bid:t.bid,jid:c,ts:f})})}}}}}(n);r["default"].subscribe(o["default"].BS_END,f)}}}}}(),t["default"]={}},function(e,t,n){var r=u(n(8)),o=u(n(37)),a=u(n(36)),i=u(n(35));function u(e){return e&&e.__esModule?e:{"default":e}}var d=window.XMLHttpRequest;d?d.prototype?(r["default"].wrap(!1,d.prototype,"open",o["default"]),r["default"].wrap(!1,d.prototype,"send",a["default"]),r["default"].wrap(!1,d.prototype,"setRequestHeader",i["default"])):(r["default"].ie=7,window.XMLHttpRequest=function(){var e=new d;return r["default"].wrap(!1,e,"open",o["default"]),r["default"].wrap(!1,e,"send",a["default"]),e}):window.ActiveXObject&&(r["default"].ie=6)},function(e,t,n){var r=i(n(49)),o=i(n(8)),a=n(38);function i(e){return e&&e.__esModule?e:{"default":e}}var u=window.fetch;r["default"].isNative(u)&&o["default"].wrap(!1,window,"fetch",a.wrappedFetch)},function(e,t,n){var r=u(n(2)),o=u(n(39)),a=u(n(8)),i=u(n(3));function u(e){return e&&e.__esModule?e:{"default":e}}var d=window.cordovaHTTP;function s(){(d||(d=window.cordovaHTTP))&&(a["default"].wrap(!1,d,"post",o["default"]),a["default"].wrap(!1,d,"get",o["default"]))}d?s():i["default"].subscribe(r["default"].CORDOVA_READY,s)},function(e,t,n){var r=n(0),o=p(n(3)),a=p(n(40)),i=n(19),u=p(i),d=p(n(4)),s=p(n(2)),l=p(n(11)),f=p(n(41)),c=p(n(13));function p(e){return e&&e.__esModule?e:{"default":e}}function m(){if(d["default"].errors.length>0){var e=f["default"].getErrorData(d["default"].errors);l["default"].send(e,function(e){e&&(d["default"].errors=[])})}}o["default"].subscribe(s["default"].PAGE_UNLOAD,m),window.addEventListener?c["default"].addEventListener(window,"error",a["default"],!1):window.onerror=function(e,t,n,o,a){var s=[(0,r.now)(),e,n,o,t===document.URL?"#":t];if(a){var l=(0,u["default"])(e,n,o,a.moduleName);s=s.concat([a.stack,a.moduleName,d["default"].errorRecorded[l]?0:1]),d["default"].errorRecorded[l]=!0}(0,i.fix)(s),d["default"].errors.push(s)},setInterval(m,1e4)},function(e,t,n){var r=s(n(14)),o=s(n(48)),a=s(n(9)),i=s(n(43)),u=s(n(42)),d=s(n(13));function s(e){return e&&e.__esModule?e:{"default":e}}var l,f=u["default"].origin+"/assets/javascripts/circle-gate.js";d["default"].addEventListener(window,"message",function(e){var t=e.data,n=t.mode||t.circleMode;if(t.tid===u["default"].tid)switch(n){case i["default"].CIRCLE_ACK:return function(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;n>t;t++){var r=e[t].getAttribute("src");if(r&&-1!==r.indexOf("/circle-gate.js"))return}var o=document.createElement("script");o.charset="UTF-8",o.src=f,document.head.appendChild(o)}();case i["default"].CIRCLE_SYN:return function(e){var t=r["default"].sdkId;if(o["default"].canPostRegisterMessage()&&"ycmcw"===u["default"].name&&a["default"].indexOf(e.tArr,t)<0)return e.tArr.push(t),parent.postMessage(e,"*")}(t)}}),l=void 0,o["default"].canPostRegisterMessage()&&(l={circleMode:i["default"].CIRCLE_SYN,url:window.location.toString(),tid:u["default"].tid,appid:u["default"].appid,sna:u["default"].name,sid:r["default"].sdkId,tgna:"",tgid:"",fsna:"sdk",tArr:[u["default"].id]},parent.postMessage(l,"*"))},function(e,t){t.__esModule=!0;t["default"]={Element:1,Attr:2,Text:3,CDATASection:4,EntityReference:5,Entity:6,ProcessingInstruction:7,Comment:8,Document:9,DocumentType:10,DocumentFragment:11,Notation:12}},function(e,t){t.__esModule=!0;t["default"]={PAGE_LOADING:"L",PAGE_LOADED:"D",PAGE_UNLOADING:"U"}},function(e,t,n){t.__esModule=!0;var r,o=n(10),a=(r=o)&&r.__esModule?r:{"default":r};t["default"]={isIE:!!document.documentMode,localStorage:!!window.localStorage,cookie:!(!document.cookie&&!navigator.cookieEnabled)&&function(){if(document.cookie="_yyy_w=1;path=/",document.cookie&&document.cookie.indexOf("_yyy_w")>-1){var e=new Date;return e.setTime(e.getTime()-1),document.cookie="_yyy_w=1;path=/;expires="+e.toGMTString(),a["default"].log("cookie supported"),!0}return a["default"].log("cookie not support"),!1}(),mutationObserver:!!window.MutationObserver,crossOrigin:function(){try{return top.name,!1}catch(e){return!0}}()}},function(e,t,n){t.__esModule=!0;var r,o=n(1),a=(r=o)&&r.__esModule?r:{"default":r};var i=n(45),u={},d={};var s={API_LIST:["http.status","page.name","node.name","xhr.name","track.context.cache","track.ignore.event","track.ignore.empty","track.ignore.xhr","track.dom.mutation"]};s.init=function(){var e=window._yyy;a["default"].lang.isArray(e)||e.length?function(){for(var e=window._yyy;e.length>0;){var t=Array.prototype.pop.apply(e);a["default"].lang.isArray(t)&&t.length>1&&(t[0]in i?u[t[0]]=t[1]:d[t[0]]=t[1])}}():a["default"].lang.isPlainObject(e)},s.getUserVars=function(){return d},s.getCommonVars=function(){return u},t["default"]=s,e.exports=s},function(e,t,n){t.__esModule=!0;var r=h(n(20)),o=h(n(4)),a=h(n(15)),i=n(5),u=h(n(3)),d=h(n(2)),s=h(n(1)),l=n(0),f=h(n(11)),c=h(n(10)),p=h(n(6)),m=n(7);function h(e){return e&&e.__esModule?e:{"default":e}}var g={jid:s["default"].getRandomStr()+(0,l.now)(),trace_threshold:0,resourceTimings:[],txid:s["default"].cookie.get("txid"),txtime:s["default"].cookie.get("txtime")};function y(e,t){if(e)for(var n=t.length-1;n>=0;n--)if(e.indexOf(t[n].url)>-1)return t[n].txid;return null}g.start=function(e){if(!g.sended&&o["default"].loaded&&(!e||!e.ig)){var t=g.startTime=o["default"].start,n={};try{var l=function(){var e=0;function t(t,n,r,o){var a=void 0;"number"==typeof t&&t>0?(a=Math.round(t-n),r[o]=a):r[o]=0,e=Math.max(e,r[o])}var n={},a=g.startTime;if(r["default"]&&r["default"].timing){var i=r["default"].timing,u=i.navigationStart;if(0===u||u&&u.toString().length<13)return null;n={tn:u,ts:u},t(i.unloadEventStart,u,n,"tus"),t(i.unloadEventEnd,u,n,"tue"),t(i.redirectStart,u,n,"tes"),t(i.redirectEnd,u,n,"tee"),t(i.fetchStart,u,n,"tf"),t(i.domainLookupStart,u,n,"tds"),t(i.domainLookupEnd,u,n,"tde"),t(i.connectStart,u,n,"tcs"),t(i.secureConnectionStart,u,n,"tsl"),t(i.connectEnd,u,n,"tce"),t(i.requestStart,u,n,"tqs"),t(i.responseStart,u,n,"trs"),t(i.responseEnd,u,n,"tre"),t(i.domLoading,u,n,"tol"),t(i.domInteractive,u,n,"toi"),t(i.domContentLoadedEventStart,u,n,"tos"),t(i.domContentLoadedEventEnd,u,n,"toe"),t(i.domComplete,u,n,"toc"),t(i.loadEventStart,u,n,"tls"),t(i.loadEventEnd,u,n,"tle"),n.ttl=e,n.tpe=u+e;var d=void 0;if(i.msFirstPaint)d=i.msFirstPaint;else if(window.chrome&&chrome.loadTimes){var s=chrome.loadTimes();s&&s.firstPaintTime&&(d=1e3*s.firstPaintTime)}else g.firstPaint&&(d=g.firstPaint);d&&(n.tfp=Math.round(d-u))}else n={tn:a,ts:a,tos:o["default"].endTime-a,tle:o["default"].loadTime-a,ttl:o["default"].loadTime-a,tpe:o["default"].loadTime};return n.je=o["default"].errors.length,n}();if(l&&l.ttl<6e5){var h=function(e){var t=g.resourceTimings,n=void 0,a=void 0,i=void 0;function u(e){return n[e]>0?n[e]:0}if(e<g.trace_threshold)return null;if(r["default"]&&r["default"].getEntriesByType){var d=[];a=r["default"].getEntriesByType("resource"),i=function(){function e(e,n){if(e){var r={name:e,initiatorType:n,status:0};i.indexOf(r.name)<0&&t.push(r)}}for(var t=[],n=document.scripts||[],r=document.images||[],o=document.styleSheets||[],i="",u=a.length,d=n.length,s=r.length,l=o.length,f=0;f<u;f++)i=i+a[f].name+",";for(var c=0;c<d;c++)e(n[c].src,"script");for(var p=0;p<l;p++)e(o[p].href,"css");for(var m=0;m<s;m++)e(r[m].src,"img");return t}(),a&&(t=t.concat(a),r["default"].webkitClearResourceTimings&&r["default"].webkitClearResourceTimings(),r["default"].clearResourceTimings&&r["default"].clearResourceTimings()),t=t.concat(i);for(var s=0;s<t.length;s++){n=t[s];var l={o:u("startTime"),rt:n.initiatorType,n:n.name,f:u("fetchStart"),ds:u("domainLookupStart"),de:u("domainLookupEnd"),cs:u("connectStart"),ce:u("connectEnd"),sl:u("secureConnectionStart"),qs:u("requestStart"),rs:u("responseStart"),re:u("responseEnd"),tfs:u("transferSize"),sat:0===n.status?0:200};"xmlhttprequest"===n.initiatorType&&o["default"].xhrOnload.length>0&&(l.txid=y(n.name,o["default"].xhrOnload)||""),d.push(l)}return d}return null}((l&&l.tls)>0?l.tls:o["default"].loadTime-t);n.header=a["default"].get(i.DATA_TYPE.PF,{jid:g.jid,url:document.URL,ba:e.ba,bid:e.bid,bt:e.bt,rf:document.referrer,nt:9}),n.content=[];var v=s["default"].extend({},l,p["default"].getMetrics());v.txid=g.txid||"",v.txtime=g.txtime||"",n.content.push(v),c["default"].log("pf sending >>>> in frame: "+(self!==top)+" >> pf sended bs: "+(0,m.toJSON)(e)),n.content[0].pfcont=h,f["default"].send(n)||(n.content[0].pfcont=null,f["default"].send(n)),u["default"].publish(d["default"].BS_END,{bid:e.bid,jid:g.jid,type:i.DATA_TYPE.PF})}}catch(_){c["default"].log("err"+_)}g.sended=!0}},t["default"]=g},function(e,t){function n(){}t.__esModule=!0,n.prototype.removal=function(e,t,n){!function(e,t){var n=new MutationObserver(t);n.observe(e,{childList:!0,subtree:!0})}(e,function(e,r){function o(e){return e.parentNode!==document&&(null===e.parentNode||o(e.parentNode))}if(t.length>=0)for(var a=0;a<t.length;a++)o(t[a])&&n();else o(t)&&n();r.disconnect()})},n.prototype.addition=function(e,t,n){};var r=new n;t["default"]=r},function(e,t){t.__esModule=!0;t["default"]={REMOVAL:"removal",ADDITION:"addition"}},function(e,t){t.__esModule=!0,t["default"]=function(e){return function(t,n){this._yy_rum_option&&"accept"===t&&(this._yy_rum_option.accept=n),e.apply(this,arguments)}}},function(e,t,n){t.__esModule=!0,t["default"]=function(e){return function(){var t=this,n=0;function m(e){var i=void 0,f=t._yy_rum_option;if(f&&f.url){if(4!==f.readyState&&(f.end=(0,o.now)()),""===t.responseType||"text"===t.responseType)f.resLength=r["default"].lengthOf(t.responseText);else if(t.response)f.resLength=r["default"].lengthOf(t.response);else try{f.resLength=r["default"].lengthOf(t.responseText)}catch(g){f.resLength=0}f.readyState=t.readyState,f.s=t.status,f.cb_time=n,i={txre:f.end,es:f.end-f.start,d:n,t:e,restype:t.getResponseHeader("content-type")||"",res:f.resLength};var c=void 0;p["default"].http.status?r["default"].lang.isString(p["default"].http.status)?c=p["default"].http.status:r["default"].lang.isFunction(p["default"].http.status)&&(c=p["default"].http.status(f.s,t.responseText||t.response)):c=f.s,i.sat=c;var m=s["default"].cache.remove([f.jid]);if(m){var h=r["default"].extend(m,i);s["default"].data.push(h),a["default"].loaded||a["default"].xhrOnload.push(h)}t._yy_rum_option=null,f.s,u["default"].publish(d["default"].BS_END,{bid:w.bid,jid:f.jid,type:l.DATA_TYPE.XHR}),u["default"].publish(d["default"].SEND_BEACON)}}function h(e){var i=r["default"].extend({},t._yy_rum_option),u=t._yy_rum_option.inTimer;return function(){var r=void 0,d=void 0;4===t.readyState&&t._yy_rum_option&&(t._yy_rum_option.end=r=(0,o.now)(),t._yy_rum_option.readyState=4);try{a["default"].innerAjax=!0,a["default"].tempXhrYyRum=i,a["default"].inTimer=u,d=e.apply(this,arguments),a["default"].innerAjax=!1}catch(s){throw s}return 4===t.readyState&&(t._yy_rum_option&&(n=(0,o.now)()-r),i.onWatch&&m(0)),d}}function g(e){return function(){var n=t._yy_rum_option;n&&n.onWatch&&("progress"===e||("abort"===e?m(905):"loadstart"===e||("error"===e?m(990):"timeout"===e&&m(903))))}}var y=i["default"].wrap(!1,t,"onreadystatechange",h);y||c["default"].addEventListener(t,"readystatechange",function(){var e=void 0,n=void 0;function o(r,o){t["on"+r]=function(){f["default"].log("xhr state: "+r),a["default"].innerAjax=!0,a["default"].tempXhrYyRum=e,a["default"].inTimer=n,o.apply(t,arguments),a["default"].innerAjax=!1}}if(4===t.readyState){var i=["load","error","abort"];e=r["default"].extend({},t._yy_rum_option),n=t._yy_rum_option&&t._yy_rum_option.inTimer;for(var u=0;u<i.length;u++){var d=i[u],s=t["on"+d];s&&o(d,s)}e.onWatch&&m(0)}},!1),function(e,t){t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];c["default"].addEventListener(e,r,g(r),!1)}}(t,["error","progress","abort","load","loadstart","loadend","timeout"]),y||setTimeout(function(){i["default"].wrap(!1,t,"onreadystatechange",h)},0);var v=t._yy_rum_option,_=arguments;if(!v.onWatch)try{return e.apply(this,_)}catch(E){return Function.prototype.apply.call(e,this,_)}var w=v.bs,b=w.nodeAttr;if(p["default"].xhr.name&&r["default"].lang.isFunction(p["default"].xhr.name)){var x=p["default"].xhr.name.call(p["default"],v.url,w.ba,b);x&&(w.ba=x,u["default"].publish(d["default"].BS_UPDATE,w))}var T=v.jid,S=r["default"].extend({jid:T,jt:"web",ref:document.URL,ts:v.start,m:v.method,url:v.url,nt:w.nt,rf:document.referrer,accept:v.accept||"*/*",sat:0,txid:s["default"].txid(),txrs:v.start,req:arguments[0]?r["default"].lengthOf(arguments[0]):0,bid:w.bid,bt:w.bt,ba:w.ba,dtxt:b&&b.value||"",xpath:b&&b.xpath||"",href:b&&b.href||""},p["default"].getMetrics());s["default"].cache.put(T,S);try{var A=(0,o.encodeUri)(p["default"].getUserId());r["default"].cookie.set("_yyy_usercode",A,{path:"/",expires:1e3}),r["default"].cookie.set("_yyy_busiid",w.bid,{path:"/",expires:1e3}),r["default"].cookie.set("Pinpoint-TraceID",S.txid,{path:"/",expires:1e3}),e.apply(this,_),r["default"].cookie.remove("_yyy_usercode","/"),r["default"].cookie.remove("_yyy_busiid","/"),r["default"].cookie.remove("Pinpoint-TraceID","/"),u["default"].publish(d["default"].BS_START,{bid:w.bid,jid:T,type:l.DATA_TYPE.XHR})}catch(O){Function.prototype.apply.call(e,this,_),u["default"].publish(d["default"].BS_START,{bid:w.bid,jid:T,type:l.DATA_TYPE.XHR})}}};var r=m(n(1)),o=n(0),a=m(n(4)),i=m(n(8)),u=m(n(3)),d=m(n(2)),s=m(n(18)),l=n(5),f=m(n(10)),c=m(n(13)),p=m(n(6));function m(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){t.__esModule=!0,t["default"]=function(e){return function(){var t=arguments,n=r["default"].asArray.apply(this,t);this._yy_rum_option={jid:u["default"].getRandomStr()+(0,o.now)(),method:n[0],url:n[1],start:(0,o.now)(),inTimer:a["default"].inTimer};var s=void 0;a["default"].innerAjax&&a["default"].tempXhrYyRum&&(s=u["default"].extend(!0,{},a["default"].tempXhrYyRum.bs),delete a["default"].tempXhrYyRum),s&&s.bid||(s=i["default"].getInfo()),this._yy_rum_option.bs=s;var l=!0;s.ig?l=!1:d["default"].track.ignore.xhr&&d["default"].track.ignore.xhr(this._yy_rum_option)?l=!1:this._yy_rum_option.inTimer&&(l=!1),this._yy_rum_option.onWatch=l;try{return e.apply(this,t)}catch(f){return Function.prototype.apply.call(e,this,t)}}};var r=s(n(8)),o=n(0),a=s(n(4)),i=s(n(12)),u=s(n(1)),d=s(n(6));function s(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){t.__esModule=!0,t.wrappedFetch=function(e){return function(){r["default"].log("window.fetch is captured");var t=arguments,n=(0,u.now)(),m={id:i["default"].getRandomStr()+n,onWatch:!0,inTimer:d["default"].inTimer},g=a["default"].asArray.apply(this,t);if(i["default"].lang.isString(g[0])?(m.url=g[0],g[1]?(m.method=g[1].method||"GET",m.accept=g[1].accept):m.method="GET"):g[0]instanceof Request?(m.url=g[0].url,m.method=g[0].method,m.accept=g[0].accept):m.onWatch=!1,!m.onWatch)return e.apply(this,t);var y=o["default"].getInfo(),v=y.nodeAttr,_=m.id,w=i["default"].extend({jid:_,jt:"web",c:"fetch",ref:document.URL,ts:n,m:m.method,url:m.url,nt:y.nt,rf:document.referrer,accept:m.accept||"*/*",sat:0,txid:s["default"].txid(),txrs:n,req:arguments[0]?i["default"].lengthOf(arguments[0]):0,bid:y.bid,bt:y.bt,ba:y.ba,dtxt:v&&v.value||"",xpath:v&&v.xpath||"",href:v&&v.href||""},p["default"].getMetrics());s["default"].cache.put(w.jid,w);var b=e.apply(this,t),x={bid:y.bid,jid:_,type:c.DATA_TYPE.XHR};return l["default"].publish(f["default"].BS_START,x),b.then(function(e){return r["default"].log("fetch",e),function(e){var t=(0,u.now)(),r={txre:t,es:t-n,sat:400===e.status?200:e.status,restype:h.call(e,"content-type"),res:h.call(e,"content-length")},o=void 0;p["default"].http.status?i["default"].lang.isString(p["default"].http.status)?o=p["default"].http.status:i["default"].lang.isFunction(p["default"].http.status)&&(o=p["default"].http.status(e.status,e)):o=e.status;r.sat=o;var a=h.call(e,"txtime");a&&!isNaN(a)&&(r.txtime=a,r.rtxtime=a,r.es<r.txtime?(r.es=r.txtime,r.tnt=0):r.tnt=r.es-r.txtime);var c=s["default"].cache.remove([_]);if(c){var m=i["default"].extend(c,r);s["default"].data.push(m),d["default"].loaded||d["default"].xhrOnload.push(m)}l["default"].publish(f["default"].BS_END,x),l["default"].publish(f["default"].SEND_BEACON)}(e),e})["catch"](function(e){throw r["default"].log("fetch error in sdk: ",arguments),function(){var e=s["default"].cache.remove([_]);e&&s["default"].data.push(e);l["default"].publish(f["default"].BS_END,x),l["default"].publish(f["default"].SEND_BEACON)}(),e})}};var r=m(n(10)),o=m(n(12)),a=m(n(8)),i=m(n(1)),u=n(0),d=m(n(4)),s=m(n(18)),l=m(n(3)),f=m(n(2)),c=n(5),p=m(n(6));function m(e){return e&&e.__esModule?e:{"default":e}}function h(e){return this.headers.get(e)||""}},function(e,t,n){t.__esModule=!0,t["default"]=function(e){function t(e,t){var n=void 0,i=e;if(i){i.end=(0,r.now)(),i.s=t.status;try{i.resLength=o["default"].lengthOf((0,c.stringify)(t.data||t.error))}catch(p){i.resLength=0}var s=i.bs;n={txre:i.end,es:i.s>0?i.end-i.start:0,sat:i.s,restype:"application/json",res:i.resLength};var l=o["default"].extend(f["default"].cache.remove([i.jid]),n);f["default"].data.push(l),a["default"].loaded||a["default"].xhrOnload.push(l),u["default"].publish(d["default"].BS_END,{bid:s.bid,jid:i.jid}),u["default"].publish(d["default"].SEND_BEACON)}}return function(n,c,m,h,g){var y=(0,r.now)(),v=void 0,_=i["default"].getInfo();v={jid:o["default"].getRandomStr()+(0,r.now)(),start:y,bs:_,url:n,method:e.name},o["default"].lang.isTypeOf(h,"Function")&&(h=function(e){var n=h;return function(r){n.apply(this,arguments),t(e,r)}}(v)),o["default"].lang.isTypeOf(g,"Function")&&(g=function(e){var n=g;return function(r){n.apply(this,arguments),t(e,r)}}(v));var w=v.jid,b=_.nodeAttr,x=o["default"].extend({jid:w,jt:"web",ref:document.URL,ts:v.start,m:v.method,url:v.url,nt:!a["default"].loaded&&s["default"].Document||s["default"].Element,rf:document.referrer,accept:"*/*",sat:0,txid:f["default"].txid(),txrs:v.start,req:arguments[0]?o["default"].lengthOf(arguments[0]):0,bid:_.bid,bt:_.bt,ba:_.ba,dtxt:b&&b.value||"",xpath:b&&b.xpath||"",href:b&&b.href||""},p["default"].getMetrics());f["default"].cache.put(w,x);try{var T=(0,r.encodeUri)(a["default"].cs.getUserId());o["default"].cookie.set("_yyy_usercode",T),o["default"].cookie.set("_yyy_busiid",_.bid),o["default"].cookie.set("Pinpoint-TraceID",x.txid),e.apply(this,[n,c,m,h,g]),o["default"].cookie.remove("_yyy_usercode"),o["default"].cookie.remove("_yyy_busiid"),o["default"].cookie.remove("Pinpoint-TraceID"),u["default"].publish(d["default"].BS_START,{bid:_.bid,jid:v.jid,type:l.DATA_TYPE.XHR})}catch(S){return Function.prototype.apply.call(e,this,[n,c,m,h,g])}}};var r=n(0),o=m(n(1)),a=m(n(4)),i=m(n(12)),u=m(n(3)),d=m(n(2)),s=m(n(28)),l=n(5),f=m(n(18)),c=n(7),p=m(n(6));function m(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){t.__esModule=!0,t["default"]=function(e){var t=arguments,n="unknown",u=[(0,r.now)()];if(t.length){if("string"==typeof e){var d=t.length<4?t.length:4;u[1]=t[0],d>2&&(u[2]=t[2],u[3]=0,u[4]=t[1]),d>3&&t[3]&&(u[3]=t[3])}else if(e instanceof Event||window.ErrorEvent&&e instanceof ErrorEvent){if(u[1]=e.message||(e.error&&e.error.constructor.name)+(e.error&&e.error.message)||"",u[2]=e.lineno||0,u[3]=e.colno||0,u[4]=e.filename||e.error&&e.error.fileName||e.target&&e.target.baseURI||"",u[4]===document.URL&&(u[4]="#"),e.error){u[5]=e.error.stack,u[6]=e.error.moduleName;var s=(0,a["default"])(u[1],u[2],u[3],u[6]);u[7]=i["default"].errorRecorded[s]?0:1,i["default"].errorRecorded[s]=!0}else u[5]=null,u[6]=null,u[7]=0;if(u[1]===n&&u[4]===n)return;(0,o.fix)(u)}i["default"].errors.push(u)}};var r=n(0),o=n(19),a=u(o),i=u(n(4));function u(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){t.__esModule=!0,t.ERROR_DSL=undefined;var r=l(n(1)),o=l(n(15)),a=l(n(19)),i=n(0),u=l(n(4)),d=n(5),s=l(n(9));function l(e){return e&&e.__esModule?e:{"default":e}}t.ERROR_DSL={0:"Approximate time",1:"Message",2:"lineNo",3:"colNo",4:"request uri",5:"Stack trace",6:"Module Name",7:"Recorded(1: done; 0: not done)"};t["default"]={getErrorData:function(e){var t={},n=[],l={};for(var f in s["default"].each(e,function(e){var t=(0,a["default"])(e[1],e[2],e[3],e[6]);l[t]?l[t].cnt+=1:l[t]={jid:r["default"].getRandomStr(8)+(0,i.now)(),url:document.URL,ts:(0,i.now)(),os:parseInt(((0,i.now)()-u["default"].start)/1e3),msg:e[1],lno:e[2],cno:e[3],ref:"#"===e[4]?document.URL:e[4],cnt:1,stk:e[5],module:e[6],rc:e[7]}}),l)n.push(l[f]);return t.header=o["default"].get(d.DATA_TYPE.ERR),t.content=n,t}}},function(e,t,n){t.__esModule=!0;var r=a(n(1)),o=a(n(17));function a(e){return e&&e.__esModule?e:{"default":e}}var i=window._circle;if(!i){var u=null!==window.self.name?window.self.name:window.name;"ycmcw"!==u&&(u="ycmcw-inner-iframe");var d=void 0;d="https://yyy.yonyoucloud.com",i=window._circle={tid:o["default"].tid,appid:o["default"].appid,name:u,id:r["default"].getRandomStr(),origin:d+"/ycm-appmonitor"}}t["default"]=i},function(e,t){t.__esModule=!0;t["default"]={CIRCLE_SYN:"register-SDK-option",CIRCLE_ACK:"register-SDK-circle"}},function(e,t,n){var r=h(n(14)),o=h(n(2)),a=h(n(11)),i=n(5),u=h(n(1)),d=h(n(3)),s=m(n(7)),l=m(n(0)),f=h(n(29)),c=h(n(17)),p=h(n(9));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function h(e){return e&&e.__esModule?e:{"default":e}}var g=h(n(30))["default"].localStorage?u["default"].localStorage:u["default"].memStorage,y={get:function(){var e=g.get("_yyy_bn");return e?s.toJSON(e):{}},set:function(e){u["default"].lang.isPlainObject(e)&&g.set("_yyy_bn",s.stringify(e),{path:"/",expires:36e5})},construct:function(e){return[e.timestamp,e.jids.join(),e.counter,e.pfCount,e.xhrCount,e.mutCount].join("|")},destruct:function(e,t){var n=void 0;return{timestamp:(n=!t&&u["default"].lang.isString(e)?e.split("|"):e[t]?e[t].split("|"):[0,"",0,0,0,0])[0],jids:""===n[1]?[]:n[1].split(","),counter:n[2],pfCount:n[3],xhrCount:n[4],mutCount:n[5]}}};function v(e){var t=l.now(),n=y.get(),o={},d=0;if((e=e||{}).force){for(var s in n)if(n.hasOwnProperty(s)&&u["default"].lang.isString(n[s])&&s!==e.ignoredBid){var p=n[s];d++,o[s]=p,delete n[s]}}else for(var m in n)if(n.hasOwnProperty(m)&&u["default"].lang.isString(n[m])&&m!==e.ignoredBid){var h=y.destruct(n[m]);0==+h.counter&&t-h.timestamp>1e4?(d++,o[m]=y.construct(h),delete n[m]):0!=+h.counter&&t-h.timestamp>36e5&&(d++,o[m]=y.construct(h),delete n[m])}d>0&&(!function(e,t){var n={header:{tid:c["default"].tid,appid:c["default"].appid,sdkid:r["default"].sdkId,v:r["default"].buVersion,ip:"#~#~#~",ts:l.now(),pt:i.DATA_TYPE.BN,stg:t||f["default"].PAGE_LOADED},content:[]};for(var o in e)if(e.hasOwnProperty(o)){var d=y.destruct(e,o);n.content.push({jid:u["default"].getRandomStr(16),jt:"web",bid:o,pf:+d.pfCount||0,xhr:+d.xhrCount||0,mut:+d.mutCount||0,e:d.jids&&d.jids.join()||""})}n.content.length>0&&a["default"].send(n)}(o,e.stage),y.set(n))}setInterval(v,5e3),d["default"].subscribe(o["default"].BS_START,function(e){if(e&&e.bid&&e.type){var t=e.bid,n=e.type,r=e.jid,o=y.get(),a=y.destruct(o,t);switch(n){case i.DATA_TYPE.PF:a.pfCount++;break;case i.DATA_TYPE.XHR:a.xhrCount++;break;case i.DATA_TYPE.MUT:a.mutCount++}a.timestamp=l.now(),a.jids.push(r),a.counter++,o[t]=y.construct(a),y.set(o)}}),d["default"].subscribe(o["default"].BS_END,function(e){if(e&&e.bid){var t=e.bid,n=e.jid,r=y.get();if(r[t]){var o=y.destruct(r[t]);o.timestamp=l.now(),o.jids.splice(p["default"].indexOf(o.jids,n),1),o.counter--,r[t]=y.construct(o),y.set(r)}}}),d["default"].subscribe(o["default"].BS_ABORT,function(e){v({force:!0,stage:(e=e||{}).stg,ignoredBid:e.lbid})})},function(e,t,n){t.__esModule=!0;var r=i(n(1)),o=n(7),a=i(n(16));function i(e){return e&&e.__esModule?e:{"default":e}}var u={localips:"localips",lang:"lang"},d=window._yyy,s="_yyy_localip",l=!0;function f(){return r["default"].cookie.get(s)}var c=void 0;function p(){if(4===c.readyState)if(200===c.status){var e=c.response;e&&(e=(0,o.toJSON)(e))&&e.ip&&r["default"].cookie.set(s,e.ip,{path:"/"})}else l||r["default"].cookie.set(s,"-1",{path:"/"})}function m(){c=null,window.XMLHttpRequest?c=new XMLHttpRequest:window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLHTTP")),null!=c&&(c.onreadystatechange=p,c.open("GET",a["default"].agentHost+"/getlocalip",!0),c.timeout=200,c.send(null))}f()||(m(),setTimeout(function(){f()||(l=!1,m())},2e3)),d.push([u.localips,function(){var e=[],t=f();return t&&e.push(t),e}]),_yyy.push([u.lang,function(){return navigator.language||navigator.userLanguage}]),t["default"]=u,e.exports=u},function(e,t){},function(e,t){},function(e,t){t.__esModule=!0;var n={canPostRegisterMessage:function(){return parent&&"function"==typeof parent.postMessage&&window.self!==window.top&&window.self!==window.parent},spreadToInnerIframes:function(e){for(var t=void 0,n=document.getElementsByTagName("iframe"),r=0,o=[],a=n.length;a>r;r++)t=n[r],o.push(this.spread(e,t));return o},spread:function(e,t){var n=null!==t&&t.contentWindow;n&&n.postMessage(e,"*")}};t["default"]=n},function(e,t){t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.prototype.toString,o=Function.prototype.toString,a=/^\[object .+?Constructor]$/,i=RegExp("^"+String(r).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\])/g,"$1.*?")+"$");var u={bind:function(e,t){return function(){e.apply(t,arguments)}},isNative:function(e){var t=void 0===e?"undefined":n(e);return"function"===t?i.test(o.call(e)):e&&"object"===t&&a.test(r.call(e))||!1}};t["default"]=u},function(e,t,n){var r={"./bn":44,"./bn.js":44,"./bs":12,"./bs.js":12,"./circle":27,"./circle/":27,"./circle/circleInfo":42,"./circle/circleInfo.js":42,"./circle/index":27,"./circle/index.js":27,"./circle/registerMode":43,"./circle/registerMode.js":43,"./const/bsStage":29,"./const/bsStage.js":29,"./const/dataType":5,"./const/dataType.js":5,"./const/nodeType":28,"./const/nodeType.js":28,"./data/errorMsg":41,"./data/errorMsg.js":41,"./data/headerMsg":15,"./data/headerMsg.js":15,"./data/httpMsg":47,"./data/httpMsg.js":47,"./data/performMsg":46,"./data/performMsg.js":46,"./error":26,"./error/":26,"./error/index":26,"./error/index.js":26,"./error/pushError":40,"./error/pushError.js":40,"./error/simpleError":19,"./error/simpleError.js":19,"./http/cordova":25,"./http/cordova/":25,"./http/cordova/index":25,"./http/cordova/index.js":25,"./http/cordova/wrappedCordovaHttp":39,"./http/cordova/wrappedCordovaHttp.js":39,"./http/fetch":24,"./http/fetch/":24,"./http/fetch/index":24,"./http/fetch/index.js":24,"./http/fetch/wrappedFetch":38,"./http/fetch/wrappedFetch.js":38,"./http/http":18,"./http/http.js":18,"./http/xhr":23,"./http/xhr/":23,"./http/xhr/index":23,"./http/xhr/index.js":23,"./http/xhr/wrappedOpen":37,"./http/xhr/wrappedOpen.js":37,"./http/xhr/wrappedSend":36,"./http/xhr/wrappedSend.js":36,"./http/xhr/wrappedSetRequestHeader":35,"./http/xhr/wrappedSetRequestHeader.js":35,"./mutation":22,"./mutation/":22,"./mutation/index":22,"./mutation/index.js":22,"./mutation/mut":33,"./mutation/mut.js":33,"./mutation/mutType":34,"./mutation/mutType.js":34,"./performance":21,"./performance/":21,"./performance/index":21,"./performance/index.js":21,"./performance/pf":32,"./performance/pf.js":32,"./performance/var/performance":20,"./performance/var/performance.js":20,"./settings/api":31,"./settings/api.js":31,"./settings/common.metrics":45,"./settings/common.metrics.js":45,"./tools/httpSender":11,"./tools/httpSender.js":11,"./tools/tools":8,"./tools/tools.js":8,"./yy_rum":4,"./yy_rum.cs":6,"./yy_rum.cs.js":6,"./yy_rum.js":4,"./yy_rum.server":16,"./yy_rum.server.js":16};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=50},function(e,t){t.__esModule=!0;var n=function(){function e(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={},a={compressToBase64:function(e){if(null==e)return"";var t=a._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,function(r){return e(n,t.charAt(r))})},compressToUTF16:function(e){return null==e?"":a._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;o>r;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(e){if(null===e||void 0===e)return a.decompress(e);for(var n=new Array(e.length/2),r=0,o=n.length;o>r;r++)n[r]=256*e[2*r]+e[2*r+1];var i=[];return n.forEach(function(e){i.push(t(e))}),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,function(n){return e(r,t.charAt(n))}))},compress:function(e){return a._compress(e,16,function(e){return t(e)})},_compress:function(e,t,n){if(null==e)return"";var r,o,a,i={},u={},d="",s="",l="",f=2,c=3,p=2,m=[],h=0,g=0;for(a=0;a<e.length;a+=1)if(d=e.charAt(a),Object.prototype.hasOwnProperty.call(i,d)||(i[d]=c++,u[d]=!0),s=l+d,Object.prototype.hasOwnProperty.call(i,s))l=s;else{if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;p>r;r++)h<<=1,g==t-1?(g=0,m.push(n(h)),h=0):g++;for(o=l.charCodeAt(0),r=0;8>r;r++)h=h<<1|1&o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o>>=1}else{for(o=1,r=0;p>r;r++)h=h<<1|o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o=0;for(o=l.charCodeAt(0),r=0;16>r;r++)h=h<<1|1&o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o>>=1}0==--f&&(f=Math.pow(2,p),p++),delete u[l]}else for(o=i[l],r=0;p>r;r++)h=h<<1|1&o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o>>=1;0==--f&&(f=Math.pow(2,p),p++),i[s]=c++,l=String(d)}if(""!==l){if(Object.prototype.hasOwnProperty.call(u,l)){if(l.charCodeAt(0)<256){for(r=0;p>r;r++)h<<=1,g==t-1?(g=0,m.push(n(h)),h=0):g++;for(o=l.charCodeAt(0),r=0;8>r;r++)h=h<<1|1&o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o>>=1}else{for(o=1,r=0;p>r;r++)h=h<<1|o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o=0;for(o=l.charCodeAt(0),r=0;16>r;r++)h=h<<1|1&o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o>>=1}0==--f&&(f=Math.pow(2,p),p++),delete u[l]}else for(o=i[l],r=0;p>r;r++)h=h<<1|1&o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o>>=1;0==--f&&(f=Math.pow(2,p),p++)}for(o=2,r=0;p>r;r++)h=h<<1|1&o,g==t-1?(g=0,m.push(n(h)),h=0):g++,o>>=1;for(;;){if(h<<=1,g==t-1){m.push(n(h));break}g++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,n,r){var o,a,i,u,d,s,l,f=[],c=4,p=4,m=3,h="",g=[],y={val:r(0),position:n,index:1};for(o=0;3>o;o+=1)f[o]=o;for(i=0,d=Math.pow(2,2),s=1;s!=d;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(u>0?1:0)*s,s<<=1;switch(i){case 0:for(i=0,d=Math.pow(2,8),s=1;s!=d;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(u>0?1:0)*s,s<<=1;l=t(i);break;case 1:for(i=0,d=Math.pow(2,16),s=1;s!=d;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(u>0?1:0)*s,s<<=1;l=t(i);break;case 2:return""}for(f[3]=l,a=l,g.push(l);;){if(y.index>e)return"";for(i=0,d=Math.pow(2,m),s=1;s!=d;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(u>0?1:0)*s,s<<=1;switch(l=i){case 0:for(i=0,d=Math.pow(2,8),s=1;s!=d;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(u>0?1:0)*s,s<<=1;f[p++]=t(i),l=p-1,c--;break;case 1:for(i=0,d=Math.pow(2,16),s=1;s!=d;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(u>0?1:0)*s,s<<=1;f[p++]=t(i),l=p-1,c--;break;case 2:return g.join("")}if(0==c&&(c=Math.pow(2,m),m++),f[l])h=f[l];else{if(l!==p)return null;h=a+a.charAt(0)}g.push(h),f[p++]=a+h.charAt(0),a=h,0==--c&&(c=Math.pow(2,m),m++)}}};return a}();t["default"]=n},function(e,t){t.__esModule=!0;var n=0;function r(e){return a(o(i(e)))}function o(e){return d(s(u(e),8*e.length))}function a(e){for(var t,r=n?"0123456789ABCDEF":"0123456789abcdef",o="",a=0;a<e.length;a++)t=e.charCodeAt(a),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function i(e){for(var t,n,r="",o=-1;++o<e.length;)t=e.charCodeAt(o),n=o+1<e.length?e.charCodeAt(o+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),o++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}function u(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function d(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function s(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,a=271733878,i=0;i<e.length;i+=16){var u=n,d=r,s=o,l=a;r=m(r=m(r=m(r=m(r=p(r=p(r=p(r=p(r=c(r=c(r=c(r=c(r=f(r=f(r=f(r=f(r,o=f(o,a=f(a,n=f(n,r,o,a,e[i+0],7,-680876936),r,o,e[i+1],12,-389564586),n,r,e[i+2],17,606105819),a,n,e[i+3],22,-1044525330),o=f(o,a=f(a,n=f(n,r,o,a,e[i+4],7,-176418897),r,o,e[i+5],12,1200080426),n,r,e[i+6],17,-1473231341),a,n,e[i+7],22,-45705983),o=f(o,a=f(a,n=f(n,r,o,a,e[i+8],7,1770035416),r,o,e[i+9],12,-1958414417),n,r,e[i+10],17,-42063),a,n,e[i+11],22,-1990404162),o=f(o,a=f(a,n=f(n,r,o,a,e[i+12],7,1804603682),r,o,e[i+13],12,-40341101),n,r,e[i+14],17,-1502002290),a,n,e[i+15],22,1236535329),o=c(o,a=c(a,n=c(n,r,o,a,e[i+1],5,-165796510),r,o,e[i+6],9,-1069501632),n,r,e[i+11],14,643717713),a,n,e[i+0],20,-373897302),o=c(o,a=c(a,n=c(n,r,o,a,e[i+5],5,-701558691),r,o,e[i+10],9,38016083),n,r,e[i+15],14,-660478335),a,n,e[i+4],20,-405537848),o=c(o,a=c(a,n=c(n,r,o,a,e[i+9],5,568446438),r,o,e[i+14],9,-1019803690),n,r,e[i+3],14,-187363961),a,n,e[i+8],20,1163531501),o=c(o,a=c(a,n=c(n,r,o,a,e[i+13],5,-1444681467),r,o,e[i+2],9,-51403784),n,r,e[i+7],14,1735328473),a,n,e[i+12],20,-1926607734),o=p(o,a=p(a,n=p(n,r,o,a,e[i+5],4,-378558),r,o,e[i+8],11,-2022574463),n,r,e[i+11],16,1839030562),a,n,e[i+14],23,-35309556),o=p(o,a=p(a,n=p(n,r,o,a,e[i+1],4,-1530992060),r,o,e[i+4],11,1272893353),n,r,e[i+7],16,-155497632),a,n,e[i+10],23,-1094730640),o=p(o,a=p(a,n=p(n,r,o,a,e[i+13],4,681279174),r,o,e[i+0],11,-358537222),n,r,e[i+3],16,-722521979),a,n,e[i+6],23,76029189),o=p(o,a=p(a,n=p(n,r,o,a,e[i+9],4,-640364487),r,o,e[i+12],11,-421815835),n,r,e[i+15],16,530742520),a,n,e[i+2],23,-995338651),o=m(o,a=m(a,n=m(n,r,o,a,e[i+0],6,-198630844),r,o,e[i+7],10,1126891415),n,r,e[i+14],15,-1416354905),a,n,e[i+5],21,-57434055),o=m(o,a=m(a,n=m(n,r,o,a,e[i+12],6,1700485571),r,o,e[i+3],10,-1894986606),n,r,e[i+10],15,-1051523),a,n,e[i+1],21,-2054922799),o=m(o,a=m(a,n=m(n,r,o,a,e[i+8],6,1873313359),r,o,e[i+15],10,-30611744),n,r,e[i+6],15,-1560198380),a,n,e[i+13],21,1309151649),o=m(o,a=m(a,n=m(n,r,o,a,e[i+4],6,-145523070),r,o,e[i+11],10,-1120210379),n,r,e[i+2],15,718787259),a,n,e[i+9],21,-343485551),n=h(n,u),r=h(r,d),o=h(o,s),a=h(a,l)}return Array(n,r,o,a)}function l(e,t,n,r,o,a){return h((i=h(h(t,e),h(r,a)))<<(u=o)|i>>>32-u,n);var i,u}function f(e,t,n,r,o,a,i){return l(t&n|~t&r,e,t,o,a,i)}function c(e,t,n,r,o,a,i){return l(t&r|n&~r,e,t,o,a,i)}function p(e,t,n,r,o,a,i){return l(t^n^r,e,t,o,a,i)}function m(e,t,n,r,o,a,i){return l(n^(t|~r),e,t,o,a,i)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t["default"]={hex:r}},function(e,t,n){t.__esModule=!0;var r=u(n(1)),o=u(n(14)),a=u(n(10)),i=u(n(17));function u(e){return e&&e.__esModule?e:{"default":e}}var d=[];function s(e){this.modules=[],r["default"].lang.isArray(e)&&this.setModules(e)}s.prototype.setModules=function(e){this.modules=d.concat(e)},s.prototype.init=function(){if(42!==o["default"].answer){a["default"].log("sdk id: "+o["default"].sdkId);var e=function(){for(var e=void 0,t=void 0,n=document.getElementsByTagName("script"),o=0,a=n.length;o<a;o++)if(/yonyou-yyy.*\.js/.test(n[o].src)){var u=n[o].src;e=r["default"].getValueOfUrlParam("tid",u),t=r["default"].getValueOfUrlParam("appid",u);break}return{tid:e&&(i["default"].tid=e)||i["default"].tid,appid:t&&(i["default"].appid=t)||i["default"].appid}}(),t=e.tid,u=e.appid;if(t&&u){n(31).init(),n(6),n(12),n(16);for(var d=0;d<this.modules.length;d++){var s=this.modules[d];n(50)("./"+s)}}o["default"].answer=42}},t["default"]=s},function(e,t){t.__esModule=!0;t["default"]={API:"settings/api",cs:"yy_rum.cs",bs:"bs",server:"yy_rum.server",error:"error",xhr:"http/xhr",fetch:"http/fetch",cordova:"http/cordova",performance:"performance",mutation:"mutation",circle:"circle/index"}},,,,,,,function(e,t,n){var r=u(n(1)),o=n(0),a=u(n(9)),i=n(7);function u(e){return e&&e.__esModule?e:{"default":e}}var d=void 0,s=void 0,l=window.top!==window.self,f=location.pathname.toLowerCase().indexOf("login")>0,c=location.pathname.toLowerCase().indexOf("workbench")>0&&/^$|#\/(\?page=\d+)?$/.test(location.hash),p=void 0,m=void 0,h={DOMAIN_CODE:"b1_1",DOMAIN_NAME:"b1",MODULE_CODE:"b2_1",MODULE_NAME:"b2",APP_CLASS_CODE:"b3_1",APP_CLASS:"b3",APP_CODE:"c",APP_NAME:"n"};function g(){var e="",t=r["default"].getValueOfUrlParam("page",window.top.location.href);if(!(e=window.sessionStorage.getItem("_yyy"+t))){var n=window.sessionStorage.getItem("NCCAPPURL");if(n)try{if(/^{/.test(n))e=(0,i.toJSON)(n)[t];else{var a=window["nc-lightapp-front"]||window["platform-workbench"]||opener&&(opener["nc-lightapp-front"]||opener["platform-workbench"]);a&&a.Cipher&&a.Cipher.decrypt&&(n=a.Cipher.decrypt(n,"4fa8959db7b4423a99f056e299914128"),/^{/.test(n)&&(e=(0,i.toJSON)(n)[t]))}}catch(u){}}return e&&(window.sessionStorage.setItem("_yyy"+t,e),e=(0,o.decodeUri)((0,o.decodeUri)(e))),e}var y=function(){var e={},t="";return{get:function(n){return function(){var e=!c&&window.top.location.href!==t;return e&&(t=window.top.location.href),e}()&&function(){var t=g();if(t)for(var n in h)if(h.hasOwnProperty(n)){var o=h[n];e[o]=r["default"].getValueOfUrlParam(o,t)}}(),e[n]}}}(),v=function(e){var t=void 0;try{t=window.top.GETBUSINESSINFO&&window.top.GETBUSINESSINFO()}catch(n){}return t&&t[e]||""};function _(e,t,n){return r["default"].dom.closest(e,function(e){return r["default"].dom.hasClass(e,t)},n)}function w(e,t){for(var n=0;n<t.length;n++){var r=e.querySelector("."+t[n]);if(r)return r}return null}function b(e,t){if(!d)if(c)d="首页";else if(f)d="";else try{(d=function(){var e=y.get(h.APP_NAME);if(!e){var t=g();t&&(e=r["default"].getValueOfUrlParam(h.APP_NAME,t))}return e||""}())||(d=window.top.document.title)}catch(s){}if(!e)return d;var n=e.srcElement||e.target,o=void 0;p=!1,m=!1;var a=_(n,"refer-pop-window");if(a&&(p=!0,o=w(a,["refer-title"])))return"参照#"+o.innerText;if(_(n,"u-modal")||_(n,"NC_searchAdvModalBox")||_(n,"ant-modal")||_(n,"u-popconfirm"))return m=!0,t;if(l){var i=0,u=document.getElementById("app");if(o=w(u,["bill-info-title","header-title-search-area"]))return o.innerText;for(;u&&i++<10;){if(null===u.firstChild){if(u=u.parentNode,r["default"].dom.hasClass(u,"title"))return u.innerText;break}if(u=u.firstChild,10===i){if(u.innerText)return u.innerText;break}}}return d}var x=window._yyy;x.push(["userid",function(){return r["default"].cookie.get("yonyou_uid")||v("userId")}]),x.push(["username",function(){return r["default"].cookie.get("yonyou_uname")||v("userName")}]),x.push(["def1",function(){return v("groupId")}]),x.push(["def3",function(){return v("groupName")}]),x.push(["domaincode",function(){var e=y.get(h.APP_CODE);return e&&e.substring(0,2)||""}]),x.push(["domainname",function(){return y.get(h.DOMAIN_NAME)}]),x.push(["modulecode",function(){var e=y.get(h.APP_CODE);return e&&e.substring(0,4)||""}]),x.push(["modulename",function(){return y.get(h.MODULE_NAME)}]),x.push(["menugrpcode",function(){var e=y.get(h.APP_CODE);return e&&e.substring(0,6)||""}]),x.push(["menugrpname",function(){return y.get(h.APP_CLASS)}]),x.push(["menucode",function(){return y.get(h.APP_CODE)}]),x.push(["menuname",function(){return y.get(h.APP_NAME)}]),x.push(["track.ignore.event",function(e){if(!e)return location.href.indexOf("login")>-1;s=!1;var t=e.srcElement||e.target,n=(t.tagName||t.nodeName||"").toLowerCase();return!(!document.activeElement||"text"!==document.activeElement.type||"button"===n||_(t,"search",5)||_(t,"icon-refer",1))||!!("body"===n||"html"===n||n.indexOf("document")>-1||"textarea"===n||"input"===n&&-1===a["default"].indexOf(["button","submit"],t.type)||_(t,"avatar_container",3)||_(t,"rc-calendar-picker")||_(t,"refer-container",6)||_(t,"u-table")||_(t,"u-pagination",6)||c&&_(t,"nc-account-activation",8)||_(t,"toast-modal")||_(t,"ant-notification")||_(t,"ant-tree",5)||_(t,"u-tree",5)||_(t,"formula-input",2)||_(t,"editor-containers",15))}]),x.push(["track.ignore.empty",!0]),x.push(["track.ignore.xhr",function(e){return s||!e||!e.url||e.url.indexOf(":17752")>-1||e.url.indexOf("querypersonsettings.do")>-1||e.url.indexOf("sessionalive.do")>-1||location.href.indexOf("login")>-1&&e.url.indexOf("login/verfiy.do")<0}]),x.push(["track.dom.mutation",[{target:".u-loading-backdrop.full-screen",mutation:"removal"}]]),x.push(["track.context.cache",function(){return!p&&!m}]),x.push(["page.name",function(e,t){return b(e,t)}]),x.push(["node.name",function(e){var t=void 0;if(r["default"].dom.hasClass(e,"icon-refer")?t="refer":(r["default"].dom.hasClass(e,"search-component-searchBtn")||r["default"].dom.hasClass(e,"icon-sousuo"))&&(t="查询"),t||(t=r["default"].dom.getNodeAttr(e,"fieldname")||e.value||e.title||e.alt||e.innerText||e.textContent),c&&!t){var n=_(e,"app-item",3);n&&(t=r["default"].dom.getNodeAttr(e,"fieldname")||n.innerText)}return t||""}]),x.push(["xhr.name",function(e,t,n){var r="";if(/logout/.test(e))r="注销用户";else if(/login\/verfiy\.do/.test(e))r="登录";else if(n&&"refer"===n.value)for(var o=document.getElementsByClassName("refer-pop-window"),a=0;a<o.length;a++){var i=o[a];if("none"!==i.style.display){var u=i.getElementsByClassName("refer-title");if(u[0]&&u[0].innerText){n.value=u[0].innerText,r="参照#"+u[0].innerText;break}}}return r}]),x.push(["http.status",function(e){return 400===e?204:e}]),window.addEventListener("load",function(){function e(e){return!r["default"].dom.isVisibleKey(e.key)||r["default"].dom.isVisibleKey(e.key)&&(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}var t=document.getElementById("app");t&&t.addEventListener("keydown",function(t){var n=e(t);s=n}),document.addEventListener("keydown",function(t){var n=e(t);s=n})}),e.exports=null},function(e,t,n){var r=a(n(54)),o=a(n(53));function a(e){return e&&e.__esModule?e:{"default":e}}n(61),new o["default"]([r["default"].error,r["default"].xhr,r["default"].fetch,r["default"].performance,r["default"].mutation]).init()}])});
//# sourceMappingURL=yonyou-yyy.js.map